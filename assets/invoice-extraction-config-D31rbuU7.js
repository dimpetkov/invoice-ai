(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function t(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=t(i);fetch(i.href,o)}})();function Gg(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Ud={exports:{}},Xo={},Vd={exports:{}},z={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var li=Symbol.for("react.element"),zg=Symbol.for("react.portal"),Hg=Symbol.for("react.fragment"),Wg=Symbol.for("react.strict_mode"),Jg=Symbol.for("react.profiler"),Kg=Symbol.for("react.provider"),Yg=Symbol.for("react.context"),bg=Symbol.for("react.forward_ref"),Qg=Symbol.for("react.suspense"),Xg=Symbol.for("react.memo"),Zg=Symbol.for("react.lazy"),Ku=Symbol.iterator;function jg(n){return n===null||typeof n!="object"?null:(n=Ku&&n[Ku]||n["@@iterator"],typeof n=="function"?n:null)}var $d={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Od=Object.assign,Bd={};function rr(n,e,t){this.props=n,this.context=e,this.refs=Bd,this.updater=t||$d}rr.prototype.isReactComponent={};rr.prototype.setState=function(n,e){if(typeof n!="object"&&typeof n!="function"&&n!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,n,e,"setState")};rr.prototype.forceUpdate=function(n){this.updater.enqueueForceUpdate(this,n,"forceUpdate")};function qd(){}qd.prototype=rr.prototype;function xa(n,e,t){this.props=n,this.context=e,this.refs=Bd,this.updater=t||$d}var Pa=xa.prototype=new qd;Pa.constructor=xa;Od(Pa,rr.prototype);Pa.isPureReactComponent=!0;var Yu=Array.isArray,Gd=Object.prototype.hasOwnProperty,Ra={current:null},zd={key:!0,ref:!0,__self:!0,__source:!0};function Hd(n,e,t){var r,i={},o=null,s=null;if(e!=null)for(r in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(o=""+e.key),e)Gd.call(e,r)&&!zd.hasOwnProperty(r)&&(i[r]=e[r]);var u=arguments.length-2;if(u===1)i.children=t;else if(1<u){for(var c=Array(u),f=0;f<u;f++)c[f]=arguments[f+2];i.children=c}if(n&&n.defaultProps)for(r in u=n.defaultProps,u)i[r]===void 0&&(i[r]=u[r]);return{$$typeof:li,type:n,key:o,ref:s,props:i,_owner:Ra.current}}function ey(n,e){return{$$typeof:li,type:n.type,key:e,ref:n.ref,props:n.props,_owner:n._owner}}function Ma(n){return typeof n=="object"&&n!==null&&n.$$typeof===li}function ty(n){var e={"=":"=0",":":"=2"};return"$"+n.replace(/[=:]/g,function(t){return e[t]})}var bu=/\/+/g;function Ms(n,e){return typeof n=="object"&&n!==null&&n.key!=null?ty(""+n.key):e.toString(36)}function Wi(n,e,t,r,i){var o=typeof n;(o==="undefined"||o==="boolean")&&(n=null);var s=!1;if(n===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(n.$$typeof){case li:case zg:s=!0}}if(s)return s=n,i=i(s),n=r===""?"."+Ms(s,0):r,Yu(i)?(t="",n!=null&&(t=n.replace(bu,"$&/")+"/"),Wi(i,e,t,"",function(f){return f})):i!=null&&(Ma(i)&&(i=ey(i,t+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(bu,"$&/")+"/")+n)),e.push(i)),1;if(s=0,r=r===""?".":r+":",Yu(n))for(var u=0;u<n.length;u++){o=n[u];var c=r+Ms(o,u);s+=Wi(o,e,t,c,i)}else if(c=jg(n),typeof c=="function")for(n=c.call(n),u=0;!(o=n.next()).done;)o=o.value,c=r+Ms(o,u++),s+=Wi(o,e,t,c,i);else if(o==="object")throw e=String(n),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function vi(n,e,t){if(n==null)return n;var r=[],i=0;return Wi(n,r,"","",function(o){return e.call(t,o,i++)}),r}function ny(n){if(n._status===-1){var e=n._result;e=e(),e.then(function(t){(n._status===0||n._status===-1)&&(n._status=1,n._result=t)},function(t){(n._status===0||n._status===-1)&&(n._status=2,n._result=t)}),n._status===-1&&(n._status=0,n._result=e)}if(n._status===1)return n._result.default;throw n._result}var Pe={current:null},Ji={transition:null},ry={ReactCurrentDispatcher:Pe,ReactCurrentBatchConfig:Ji,ReactCurrentOwner:Ra};function Wd(){throw Error("act(...) is not supported in production builds of React.")}z.Children={map:vi,forEach:function(n,e,t){vi(n,function(){e.apply(this,arguments)},t)},count:function(n){var e=0;return vi(n,function(){e++}),e},toArray:function(n){return vi(n,function(e){return e})||[]},only:function(n){if(!Ma(n))throw Error("React.Children.only expected to receive a single React element child.");return n}};z.Component=rr;z.Fragment=Hg;z.Profiler=Jg;z.PureComponent=xa;z.StrictMode=Wg;z.Suspense=Qg;z.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ry;z.act=Wd;z.cloneElement=function(n,e,t){if(n==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+n+".");var r=Od({},n.props),i=n.key,o=n.ref,s=n._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,s=Ra.current),e.key!==void 0&&(i=""+e.key),n.type&&n.type.defaultProps)var u=n.type.defaultProps;for(c in e)Gd.call(e,c)&&!zd.hasOwnProperty(c)&&(r[c]=e[c]===void 0&&u!==void 0?u[c]:e[c])}var c=arguments.length-2;if(c===1)r.children=t;else if(1<c){u=Array(c);for(var f=0;f<c;f++)u[f]=arguments[f+2];r.children=u}return{$$typeof:li,type:n.type,key:i,ref:o,props:r,_owner:s}};z.createContext=function(n){return n={$$typeof:Yg,_currentValue:n,_currentValue2:n,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},n.Provider={$$typeof:Kg,_context:n},n.Consumer=n};z.createElement=Hd;z.createFactory=function(n){var e=Hd.bind(null,n);return e.type=n,e};z.createRef=function(){return{current:null}};z.forwardRef=function(n){return{$$typeof:bg,render:n}};z.isValidElement=Ma;z.lazy=function(n){return{$$typeof:Zg,_payload:{_status:-1,_result:n},_init:ny}};z.memo=function(n,e){return{$$typeof:Xg,type:n,compare:e===void 0?null:e}};z.startTransition=function(n){var e=Ji.transition;Ji.transition={};try{n()}finally{Ji.transition=e}};z.unstable_act=Wd;z.useCallback=function(n,e){return Pe.current.useCallback(n,e)};z.useContext=function(n){return Pe.current.useContext(n)};z.useDebugValue=function(){};z.useDeferredValue=function(n){return Pe.current.useDeferredValue(n)};z.useEffect=function(n,e){return Pe.current.useEffect(n,e)};z.useId=function(){return Pe.current.useId()};z.useImperativeHandle=function(n,e,t){return Pe.current.useImperativeHandle(n,e,t)};z.useInsertionEffect=function(n,e){return Pe.current.useInsertionEffect(n,e)};z.useLayoutEffect=function(n,e){return Pe.current.useLayoutEffect(n,e)};z.useMemo=function(n,e){return Pe.current.useMemo(n,e)};z.useReducer=function(n,e,t){return Pe.current.useReducer(n,e,t)};z.useRef=function(n){return Pe.current.useRef(n)};z.useState=function(n){return Pe.current.useState(n)};z.useSyncExternalStore=function(n,e,t){return Pe.current.useSyncExternalStore(n,e,t)};z.useTransition=function(){return Pe.current.useTransition()};z.version="18.3.1";Vd.exports=z;var ka=Vd.exports;const TI=Gg(ka);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iy=ka,oy=Symbol.for("react.element"),sy=Symbol.for("react.fragment"),ly=Object.prototype.hasOwnProperty,ay=iy.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,uy={key:!0,ref:!0,__self:!0,__source:!0};function Jd(n,e,t){var r,i={},o=null,s=null;t!==void 0&&(o=""+t),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(s=e.ref);for(r in e)ly.call(e,r)&&!uy.hasOwnProperty(r)&&(i[r]=e[r]);if(n&&n.defaultProps)for(r in e=n.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:oy,type:n,key:o,ref:s,props:i,_owner:ay.current}}Xo.Fragment=sy;Xo.jsx=Jd;Xo.jsxs=Jd;Ud.exports=Xo;var wI=Ud.exports,Qu={},Kd={exports:{}},We={},Yd={exports:{}},bd={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function e(D,B){var G=D.length;D.push(B);e:for(;0<G;){var te=G-1>>>1,ue=D[te];if(0<i(ue,B))D[te]=B,D[G]=ue,G=te;else break e}}function t(D){return D.length===0?null:D[0]}function r(D){if(D.length===0)return null;var B=D[0],G=D.pop();if(G!==B){D[0]=G;e:for(var te=0,ue=D.length,gi=ue>>>1;te<gi;){var tn=2*(te+1)-1,Rs=D[tn],nn=tn+1,yi=D[nn];if(0>i(Rs,G))nn<ue&&0>i(yi,Rs)?(D[te]=yi,D[nn]=G,te=nn):(D[te]=Rs,D[tn]=G,te=tn);else if(nn<ue&&0>i(yi,G))D[te]=yi,D[nn]=G,te=nn;else break e}}return B}function i(D,B){var G=D.sortIndex-B.sortIndex;return G!==0?G:D.id-B.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var s=Date,u=s.now();n.unstable_now=function(){return s.now()-u}}var c=[],f=[],d=1,p=null,h=3,g=!1,v=!1,C=!1,S=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(D){for(var B=t(f);B!==null;){if(B.callback===null)r(f);else if(B.startTime<=D)r(f),B.sortIndex=B.expirationTime,e(c,B);else break;B=t(f)}}function T(D){if(C=!1,y(D),!v)if(t(c)!==null)v=!0,xs(E);else{var B=t(f);B!==null&&Ps(T,B.startTime-D)}}function E(D,B){v=!1,C&&(C=!1,_(R),R=-1),g=!0;var G=h;try{for(y(B),p=t(c);p!==null&&(!(p.expirationTime>B)||D&&!O());){var te=p.callback;if(typeof te=="function"){p.callback=null,h=p.priorityLevel;var ue=te(p.expirationTime<=B);B=n.unstable_now(),typeof ue=="function"?p.callback=ue:p===t(c)&&r(c),y(B)}else r(c);p=t(c)}if(p!==null)var gi=!0;else{var tn=t(f);tn!==null&&Ps(T,tn.startTime-B),gi=!1}return gi}finally{p=null,h=G,g=!1}}var P=!1,I=null,R=-1,U=5,M=-1;function O(){return!(n.unstable_now()-M<U)}function Ee(){if(I!==null){var D=n.unstable_now();M=D;var B=!0;try{B=I(!0,D)}finally{B?Ke():(P=!1,I=null)}}else P=!1}var Ke;if(typeof m=="function")Ke=function(){m(Ee)};else if(typeof MessageChannel<"u"){var Me=new MessageChannel,Rt=Me.port2;Me.port1.onmessage=Ee,Ke=function(){Rt.postMessage(null)}}else Ke=function(){S(Ee,0)};function xs(D){I=D,P||(P=!0,Ke())}function Ps(D,B){R=S(function(){D(n.unstable_now())},B)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(D){D.callback=null},n.unstable_continueExecution=function(){v||g||(v=!0,xs(E))},n.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):U=0<D?Math.floor(1e3/D):5},n.unstable_getCurrentPriorityLevel=function(){return h},n.unstable_getFirstCallbackNode=function(){return t(c)},n.unstable_next=function(D){switch(h){case 1:case 2:case 3:var B=3;break;default:B=h}var G=h;h=B;try{return D()}finally{h=G}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(D,B){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var G=h;h=D;try{return B()}finally{h=G}},n.unstable_scheduleCallback=function(D,B,G){var te=n.unstable_now();switch(typeof G=="object"&&G!==null?(G=G.delay,G=typeof G=="number"&&0<G?te+G:te):G=te,D){case 1:var ue=-1;break;case 2:ue=250;break;case 5:ue=1073741823;break;case 4:ue=1e4;break;default:ue=5e3}return ue=G+ue,D={id:d++,callback:B,priorityLevel:D,startTime:G,expirationTime:ue,sortIndex:-1},G>te?(D.sortIndex=G,e(f,D),t(c)===null&&D===t(f)&&(C?(_(R),R=-1):C=!0,Ps(T,G-te))):(D.sortIndex=ue,e(c,D),v||g||(v=!0,xs(E))),D},n.unstable_shouldYield=O,n.unstable_wrapCallback=function(D){var B=h;return function(){var G=h;h=B;try{return D.apply(this,arguments)}finally{h=G}}}})(bd);Yd.exports=bd;var cy=Yd.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fy=ka,He=cy;function x(n){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+n,t=1;t<arguments.length;t++)e+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+n+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Qd=new Set,zr={};function Tn(n,e){bn(n,e),bn(n+"Capture",e)}function bn(n,e){for(zr[n]=e,n=0;n<e.length;n++)Qd.add(e[n])}var Et=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),dl=Object.prototype.hasOwnProperty,dy=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Xu={},Zu={};function py(n){return dl.call(Zu,n)?!0:dl.call(Xu,n)?!1:dy.test(n)?Zu[n]=!0:(Xu[n]=!0,!1)}function hy(n,e,t,r){if(t!==null&&t.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:t!==null?!t.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function my(n,e,t,r){if(e===null||typeof e>"u"||hy(n,e,t,r))return!0;if(r)return!1;if(t!==null)switch(t.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Re(n,e,t,r,i,o,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=t,this.propertyName=n,this.type=e,this.sanitizeURL=o,this.removeEmptyString=s}var ye={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){ye[n]=new Re(n,0,!1,n,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var e=n[0];ye[e]=new Re(e,1,!1,n[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(n){ye[n]=new Re(n,2,!1,n.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){ye[n]=new Re(n,2,!1,n,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){ye[n]=new Re(n,3,!1,n.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(n){ye[n]=new Re(n,3,!0,n,null,!1,!1)});["capture","download"].forEach(function(n){ye[n]=new Re(n,4,!1,n,null,!1,!1)});["cols","rows","size","span"].forEach(function(n){ye[n]=new Re(n,6,!1,n,null,!1,!1)});["rowSpan","start"].forEach(function(n){ye[n]=new Re(n,5,!1,n.toLowerCase(),null,!1,!1)});var Na=/[\-:]([a-z])/g;function Da(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var e=n.replace(Na,Da);ye[e]=new Re(e,1,!1,n,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var e=n.replace(Na,Da);ye[e]=new Re(e,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(n){var e=n.replace(Na,Da);ye[e]=new Re(e,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(n){ye[n]=new Re(n,1,!1,n.toLowerCase(),null,!1,!1)});ye.xlinkHref=new Re("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(n){ye[n]=new Re(n,1,!1,n.toLowerCase(),null,!0,!0)});function La(n,e,t,r){var i=ye.hasOwnProperty(e)?ye[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(my(e,t,i,r)&&(t=null),r||i===null?py(e)&&(t===null?n.removeAttribute(e):n.setAttribute(e,""+t)):i.mustUseProperty?n[i.propertyName]=t===null?i.type===3?!1:"":t:(e=i.attributeName,r=i.attributeNamespace,t===null?n.removeAttribute(e):(i=i.type,t=i===3||i===4&&t===!0?"":""+t,r?n.setAttributeNS(r,e,t):n.setAttribute(e,t))))}var Pt=fy.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,_i=Symbol.for("react.element"),Mn=Symbol.for("react.portal"),kn=Symbol.for("react.fragment"),Fa=Symbol.for("react.strict_mode"),pl=Symbol.for("react.profiler"),Xd=Symbol.for("react.provider"),Zd=Symbol.for("react.context"),Ua=Symbol.for("react.forward_ref"),hl=Symbol.for("react.suspense"),ml=Symbol.for("react.suspense_list"),Va=Symbol.for("react.memo"),Dt=Symbol.for("react.lazy"),jd=Symbol.for("react.offscreen"),ju=Symbol.iterator;function ur(n){return n===null||typeof n!="object"?null:(n=ju&&n[ju]||n["@@iterator"],typeof n=="function"?n:null)}var j=Object.assign,ks;function vr(n){if(ks===void 0)try{throw Error()}catch(t){var e=t.stack.trim().match(/\n( *(at )?)/);ks=e&&e[1]||""}return`
`+ks+n}var Ns=!1;function Ds(n,e){if(!n||Ns)return"";Ns=!0;var t=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(f){var r=f}Reflect.construct(n,[],e)}else{try{e.call()}catch(f){r=f}n.call(e.prototype)}else{try{throw Error()}catch(f){r=f}n()}}catch(f){if(f&&r&&typeof f.stack=="string"){for(var i=f.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,u=o.length-1;1<=s&&0<=u&&i[s]!==o[u];)u--;for(;1<=s&&0<=u;s--,u--)if(i[s]!==o[u]){if(s!==1||u!==1)do if(s--,u--,0>u||i[s]!==o[u]){var c=`
`+i[s].replace(" at new "," at ");return n.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",n.displayName)),c}while(1<=s&&0<=u);break}}}finally{Ns=!1,Error.prepareStackTrace=t}return(n=n?n.displayName||n.name:"")?vr(n):""}function gy(n){switch(n.tag){case 5:return vr(n.type);case 16:return vr("Lazy");case 13:return vr("Suspense");case 19:return vr("SuspenseList");case 0:case 2:case 15:return n=Ds(n.type,!1),n;case 11:return n=Ds(n.type.render,!1),n;case 1:return n=Ds(n.type,!0),n;default:return""}}function gl(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case kn:return"Fragment";case Mn:return"Portal";case pl:return"Profiler";case Fa:return"StrictMode";case hl:return"Suspense";case ml:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case Zd:return(n.displayName||"Context")+".Consumer";case Xd:return(n._context.displayName||"Context")+".Provider";case Ua:var e=n.render;return n=n.displayName,n||(n=e.displayName||e.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case Va:return e=n.displayName||null,e!==null?e:gl(n.type)||"Memo";case Dt:e=n._payload,n=n._init;try{return gl(n(e))}catch{}}return null}function yy(n){var e=n.type;switch(n.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=e.render,n=n.displayName||n.name||"",e.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return gl(e);case 8:return e===Fa?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Kt(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function ep(n){var e=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function vy(n){var e=ep(n)?"checked":"value",t=Object.getOwnPropertyDescriptor(n.constructor.prototype,e),r=""+n[e];if(!n.hasOwnProperty(e)&&typeof t<"u"&&typeof t.get=="function"&&typeof t.set=="function"){var i=t.get,o=t.set;return Object.defineProperty(n,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(n,e,{enumerable:t.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){n._valueTracker=null,delete n[e]}}}}function Ci(n){n._valueTracker||(n._valueTracker=vy(n))}function tp(n){if(!n)return!1;var e=n._valueTracker;if(!e)return!0;var t=e.getValue(),r="";return n&&(r=ep(n)?n.checked?"true":"false":n.value),n=r,n!==t?(e.setValue(n),!0):!1}function mo(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function yl(n,e){var t=e.checked;return j({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:t??n._wrapperState.initialChecked})}function ec(n,e){var t=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;t=Kt(e.value!=null?e.value:t),n._wrapperState={initialChecked:r,initialValue:t,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function np(n,e){e=e.checked,e!=null&&La(n,"checked",e,!1)}function vl(n,e){np(n,e);var t=Kt(e.value),r=e.type;if(t!=null)r==="number"?(t===0&&n.value===""||n.value!=t)&&(n.value=""+t):n.value!==""+t&&(n.value=""+t);else if(r==="submit"||r==="reset"){n.removeAttribute("value");return}e.hasOwnProperty("value")?_l(n,e.type,t):e.hasOwnProperty("defaultValue")&&_l(n,e.type,Kt(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(n.defaultChecked=!!e.defaultChecked)}function tc(n,e,t){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+n._wrapperState.initialValue,t||e===n.value||(n.value=e),n.defaultValue=e}t=n.name,t!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,t!==""&&(n.name=t)}function _l(n,e,t){(e!=="number"||mo(n.ownerDocument)!==n)&&(t==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+t&&(n.defaultValue=""+t))}var _r=Array.isArray;function zn(n,e,t,r){if(n=n.options,e){e={};for(var i=0;i<t.length;i++)e["$"+t[i]]=!0;for(t=0;t<n.length;t++)i=e.hasOwnProperty("$"+n[t].value),n[t].selected!==i&&(n[t].selected=i),i&&r&&(n[t].defaultSelected=!0)}else{for(t=""+Kt(t),e=null,i=0;i<n.length;i++){if(n[i].value===t){n[i].selected=!0,r&&(n[i].defaultSelected=!0);return}e!==null||n[i].disabled||(e=n[i])}e!==null&&(e.selected=!0)}}function Cl(n,e){if(e.dangerouslySetInnerHTML!=null)throw Error(x(91));return j({},e,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function nc(n,e){var t=e.value;if(t==null){if(t=e.children,e=e.defaultValue,t!=null){if(e!=null)throw Error(x(92));if(_r(t)){if(1<t.length)throw Error(x(93));t=t[0]}e=t}e==null&&(e=""),t=e}n._wrapperState={initialValue:Kt(t)}}function rp(n,e){var t=Kt(e.value),r=Kt(e.defaultValue);t!=null&&(t=""+t,t!==n.value&&(n.value=t),e.defaultValue==null&&n.defaultValue!==t&&(n.defaultValue=t)),r!=null&&(n.defaultValue=""+r)}function rc(n){var e=n.textContent;e===n._wrapperState.initialValue&&e!==""&&e!==null&&(n.value=e)}function ip(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Tl(n,e){return n==null||n==="http://www.w3.org/1999/xhtml"?ip(e):n==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var Ti,op=function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,t,r,i){MSApp.execUnsafeLocalFunction(function(){return n(e,t,r,i)})}:n}(function(n,e){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=e;else{for(Ti=Ti||document.createElement("div"),Ti.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Ti.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;e.firstChild;)n.appendChild(e.firstChild)}});function Hr(n,e){if(e){var t=n.firstChild;if(t&&t===n.lastChild&&t.nodeType===3){t.nodeValue=e;return}}n.textContent=e}var kr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},_y=["Webkit","ms","Moz","O"];Object.keys(kr).forEach(function(n){_y.forEach(function(e){e=e+n.charAt(0).toUpperCase()+n.substring(1),kr[e]=kr[n]})});function sp(n,e,t){return e==null||typeof e=="boolean"||e===""?"":t||typeof e!="number"||e===0||kr.hasOwnProperty(n)&&kr[n]?(""+e).trim():e+"px"}function lp(n,e){n=n.style;for(var t in e)if(e.hasOwnProperty(t)){var r=t.indexOf("--")===0,i=sp(t,e[t],r);t==="float"&&(t="cssFloat"),r?n.setProperty(t,i):n[t]=i}}var Cy=j({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function wl(n,e){if(e){if(Cy[n]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(x(137,n));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(x(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(x(61))}if(e.style!=null&&typeof e.style!="object")throw Error(x(62))}}function Sl(n,e){if(n.indexOf("-")===-1)return typeof e.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var El=null;function $a(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Il=null,Hn=null,Wn=null;function ic(n){if(n=ci(n)){if(typeof Il!="function")throw Error(x(280));var e=n.stateNode;e&&(e=ns(e),Il(n.stateNode,n.type,e))}}function ap(n){Hn?Wn?Wn.push(n):Wn=[n]:Hn=n}function up(){if(Hn){var n=Hn,e=Wn;if(Wn=Hn=null,ic(n),e)for(n=0;n<e.length;n++)ic(e[n])}}function cp(n,e){return n(e)}function fp(){}var Ls=!1;function dp(n,e,t){if(Ls)return n(e,t);Ls=!0;try{return cp(n,e,t)}finally{Ls=!1,(Hn!==null||Wn!==null)&&(fp(),up())}}function Wr(n,e){var t=n.stateNode;if(t===null)return null;var r=ns(t);if(r===null)return null;t=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(n=n.type,r=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!r;break e;default:n=!1}if(n)return null;if(t&&typeof t!="function")throw Error(x(231,e,typeof t));return t}var Al=!1;if(Et)try{var cr={};Object.defineProperty(cr,"passive",{get:function(){Al=!0}}),window.addEventListener("test",cr,cr),window.removeEventListener("test",cr,cr)}catch{Al=!1}function Ty(n,e,t,r,i,o,s,u,c){var f=Array.prototype.slice.call(arguments,3);try{e.apply(t,f)}catch(d){this.onError(d)}}var Nr=!1,go=null,yo=!1,xl=null,wy={onError:function(n){Nr=!0,go=n}};function Sy(n,e,t,r,i,o,s,u,c){Nr=!1,go=null,Ty.apply(wy,arguments)}function Ey(n,e,t,r,i,o,s,u,c){if(Sy.apply(this,arguments),Nr){if(Nr){var f=go;Nr=!1,go=null}else throw Error(x(198));yo||(yo=!0,xl=f)}}function wn(n){var e=n,t=n;if(n.alternate)for(;e.return;)e=e.return;else{n=e;do e=n,e.flags&4098&&(t=e.return),n=e.return;while(n)}return e.tag===3?t:null}function pp(n){if(n.tag===13){var e=n.memoizedState;if(e===null&&(n=n.alternate,n!==null&&(e=n.memoizedState)),e!==null)return e.dehydrated}return null}function oc(n){if(wn(n)!==n)throw Error(x(188))}function Iy(n){var e=n.alternate;if(!e){if(e=wn(n),e===null)throw Error(x(188));return e!==n?null:n}for(var t=n,r=e;;){var i=t.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){t=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===t)return oc(i),n;if(o===r)return oc(i),e;o=o.sibling}throw Error(x(188))}if(t.return!==r.return)t=i,r=o;else{for(var s=!1,u=i.child;u;){if(u===t){s=!0,t=i,r=o;break}if(u===r){s=!0,r=i,t=o;break}u=u.sibling}if(!s){for(u=o.child;u;){if(u===t){s=!0,t=o,r=i;break}if(u===r){s=!0,r=o,t=i;break}u=u.sibling}if(!s)throw Error(x(189))}}if(t.alternate!==r)throw Error(x(190))}if(t.tag!==3)throw Error(x(188));return t.stateNode.current===t?n:e}function hp(n){return n=Iy(n),n!==null?mp(n):null}function mp(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var e=mp(n);if(e!==null)return e;n=n.sibling}return null}var gp=He.unstable_scheduleCallback,sc=He.unstable_cancelCallback,Ay=He.unstable_shouldYield,xy=He.unstable_requestPaint,ne=He.unstable_now,Py=He.unstable_getCurrentPriorityLevel,Oa=He.unstable_ImmediatePriority,yp=He.unstable_UserBlockingPriority,vo=He.unstable_NormalPriority,Ry=He.unstable_LowPriority,vp=He.unstable_IdlePriority,Zo=null,mt=null;function My(n){if(mt&&typeof mt.onCommitFiberRoot=="function")try{mt.onCommitFiberRoot(Zo,n,void 0,(n.current.flags&128)===128)}catch{}}var st=Math.clz32?Math.clz32:Dy,ky=Math.log,Ny=Math.LN2;function Dy(n){return n>>>=0,n===0?32:31-(ky(n)/Ny|0)|0}var wi=64,Si=4194304;function Cr(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function _o(n,e){var t=n.pendingLanes;if(t===0)return 0;var r=0,i=n.suspendedLanes,o=n.pingedLanes,s=t&268435455;if(s!==0){var u=s&~i;u!==0?r=Cr(u):(o&=s,o!==0&&(r=Cr(o)))}else s=t&~i,s!==0?r=Cr(s):o!==0&&(r=Cr(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=t&16),e=n.entangledLanes,e!==0)for(n=n.entanglements,e&=r;0<e;)t=31-st(e),i=1<<t,r|=n[t],e&=~i;return r}function Ly(n,e){switch(n){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Fy(n,e){for(var t=n.suspendedLanes,r=n.pingedLanes,i=n.expirationTimes,o=n.pendingLanes;0<o;){var s=31-st(o),u=1<<s,c=i[s];c===-1?(!(u&t)||u&r)&&(i[s]=Ly(u,e)):c<=e&&(n.expiredLanes|=u),o&=~u}}function Pl(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function _p(){var n=wi;return wi<<=1,!(wi&4194240)&&(wi=64),n}function Fs(n){for(var e=[],t=0;31>t;t++)e.push(n);return e}function ai(n,e,t){n.pendingLanes|=e,e!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,e=31-st(e),n[e]=t}function Uy(n,e){var t=n.pendingLanes&~e;n.pendingLanes=e,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=e,n.mutableReadLanes&=e,n.entangledLanes&=e,e=n.entanglements;var r=n.eventTimes;for(n=n.expirationTimes;0<t;){var i=31-st(t),o=1<<i;e[i]=0,r[i]=-1,n[i]=-1,t&=~o}}function Ba(n,e){var t=n.entangledLanes|=e;for(n=n.entanglements;t;){var r=31-st(t),i=1<<r;i&e|n[r]&e&&(n[r]|=e),t&=~i}}var W=0;function Cp(n){return n&=-n,1<n?4<n?n&268435455?16:536870912:4:1}var Tp,qa,wp,Sp,Ep,Rl=!1,Ei=[],Ot=null,Bt=null,qt=null,Jr=new Map,Kr=new Map,Ft=[],Vy="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function lc(n,e){switch(n){case"focusin":case"focusout":Ot=null;break;case"dragenter":case"dragleave":Bt=null;break;case"mouseover":case"mouseout":qt=null;break;case"pointerover":case"pointerout":Jr.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Kr.delete(e.pointerId)}}function fr(n,e,t,r,i,o){return n===null||n.nativeEvent!==o?(n={blockedOn:e,domEventName:t,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=ci(e),e!==null&&qa(e)),n):(n.eventSystemFlags|=r,e=n.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),n)}function $y(n,e,t,r,i){switch(e){case"focusin":return Ot=fr(Ot,n,e,t,r,i),!0;case"dragenter":return Bt=fr(Bt,n,e,t,r,i),!0;case"mouseover":return qt=fr(qt,n,e,t,r,i),!0;case"pointerover":var o=i.pointerId;return Jr.set(o,fr(Jr.get(o)||null,n,e,t,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Kr.set(o,fr(Kr.get(o)||null,n,e,t,r,i)),!0}return!1}function Ip(n){var e=an(n.target);if(e!==null){var t=wn(e);if(t!==null){if(e=t.tag,e===13){if(e=pp(t),e!==null){n.blockedOn=e,Ep(n.priority,function(){wp(t)});return}}else if(e===3&&t.stateNode.current.memoizedState.isDehydrated){n.blockedOn=t.tag===3?t.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Ki(n){if(n.blockedOn!==null)return!1;for(var e=n.targetContainers;0<e.length;){var t=Ml(n.domEventName,n.eventSystemFlags,e[0],n.nativeEvent);if(t===null){t=n.nativeEvent;var r=new t.constructor(t.type,t);El=r,t.target.dispatchEvent(r),El=null}else return e=ci(t),e!==null&&qa(e),n.blockedOn=t,!1;e.shift()}return!0}function ac(n,e,t){Ki(n)&&t.delete(e)}function Oy(){Rl=!1,Ot!==null&&Ki(Ot)&&(Ot=null),Bt!==null&&Ki(Bt)&&(Bt=null),qt!==null&&Ki(qt)&&(qt=null),Jr.forEach(ac),Kr.forEach(ac)}function dr(n,e){n.blockedOn===e&&(n.blockedOn=null,Rl||(Rl=!0,He.unstable_scheduleCallback(He.unstable_NormalPriority,Oy)))}function Yr(n){function e(i){return dr(i,n)}if(0<Ei.length){dr(Ei[0],n);for(var t=1;t<Ei.length;t++){var r=Ei[t];r.blockedOn===n&&(r.blockedOn=null)}}for(Ot!==null&&dr(Ot,n),Bt!==null&&dr(Bt,n),qt!==null&&dr(qt,n),Jr.forEach(e),Kr.forEach(e),t=0;t<Ft.length;t++)r=Ft[t],r.blockedOn===n&&(r.blockedOn=null);for(;0<Ft.length&&(t=Ft[0],t.blockedOn===null);)Ip(t),t.blockedOn===null&&Ft.shift()}var Jn=Pt.ReactCurrentBatchConfig,Co=!0;function By(n,e,t,r){var i=W,o=Jn.transition;Jn.transition=null;try{W=1,Ga(n,e,t,r)}finally{W=i,Jn.transition=o}}function qy(n,e,t,r){var i=W,o=Jn.transition;Jn.transition=null;try{W=4,Ga(n,e,t,r)}finally{W=i,Jn.transition=o}}function Ga(n,e,t,r){if(Co){var i=Ml(n,e,t,r);if(i===null)Ws(n,e,r,To,t),lc(n,r);else if($y(i,n,e,t,r))r.stopPropagation();else if(lc(n,r),e&4&&-1<Vy.indexOf(n)){for(;i!==null;){var o=ci(i);if(o!==null&&Tp(o),o=Ml(n,e,t,r),o===null&&Ws(n,e,r,To,t),o===i)break;i=o}i!==null&&r.stopPropagation()}else Ws(n,e,r,null,t)}}var To=null;function Ml(n,e,t,r){if(To=null,n=$a(r),n=an(n),n!==null)if(e=wn(n),e===null)n=null;else if(t=e.tag,t===13){if(n=pp(e),n!==null)return n;n=null}else if(t===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;n=null}else e!==n&&(n=null);return To=n,null}function Ap(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Py()){case Oa:return 1;case yp:return 4;case vo:case Ry:return 16;case vp:return 536870912;default:return 16}default:return 16}}var Vt=null,za=null,Yi=null;function xp(){if(Yi)return Yi;var n,e=za,t=e.length,r,i="value"in Vt?Vt.value:Vt.textContent,o=i.length;for(n=0;n<t&&e[n]===i[n];n++);var s=t-n;for(r=1;r<=s&&e[t-r]===i[o-r];r++);return Yi=i.slice(n,1<r?1-r:void 0)}function bi(n){var e=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&e===13&&(n=13)):n=e,n===10&&(n=13),32<=n||n===13?n:0}function Ii(){return!0}function uc(){return!1}function Je(n){function e(t,r,i,o,s){this._reactName=t,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var u in n)n.hasOwnProperty(u)&&(t=n[u],this[u]=t?t(o):o[u]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Ii:uc,this.isPropagationStopped=uc,this}return j(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():typeof t.returnValue!="unknown"&&(t.returnValue=!1),this.isDefaultPrevented=Ii)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():typeof t.cancelBubble!="unknown"&&(t.cancelBubble=!0),this.isPropagationStopped=Ii)},persist:function(){},isPersistent:Ii}),e}var ir={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ha=Je(ir),ui=j({},ir,{view:0,detail:0}),Gy=Je(ui),Us,Vs,pr,jo=j({},ui,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Wa,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==pr&&(pr&&n.type==="mousemove"?(Us=n.screenX-pr.screenX,Vs=n.screenY-pr.screenY):Vs=Us=0,pr=n),Us)},movementY:function(n){return"movementY"in n?n.movementY:Vs}}),cc=Je(jo),zy=j({},jo,{dataTransfer:0}),Hy=Je(zy),Wy=j({},ui,{relatedTarget:0}),$s=Je(Wy),Jy=j({},ir,{animationName:0,elapsedTime:0,pseudoElement:0}),Ky=Je(Jy),Yy=j({},ir,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),by=Je(Yy),Qy=j({},ir,{data:0}),fc=Je(Qy),Xy={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Zy={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},jy={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ev(n){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(n):(n=jy[n])?!!e[n]:!1}function Wa(){return ev}var tv=j({},ui,{key:function(n){if(n.key){var e=Xy[n.key]||n.key;if(e!=="Unidentified")return e}return n.type==="keypress"?(n=bi(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?Zy[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Wa,charCode:function(n){return n.type==="keypress"?bi(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?bi(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),nv=Je(tv),rv=j({},jo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),dc=Je(rv),iv=j({},ui,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Wa}),ov=Je(iv),sv=j({},ir,{propertyName:0,elapsedTime:0,pseudoElement:0}),lv=Je(sv),av=j({},jo,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),uv=Je(av),cv=[9,13,27,32],Ja=Et&&"CompositionEvent"in window,Dr=null;Et&&"documentMode"in document&&(Dr=document.documentMode);var fv=Et&&"TextEvent"in window&&!Dr,Pp=Et&&(!Ja||Dr&&8<Dr&&11>=Dr),pc=" ",hc=!1;function Rp(n,e){switch(n){case"keyup":return cv.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Mp(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Nn=!1;function dv(n,e){switch(n){case"compositionend":return Mp(e);case"keypress":return e.which!==32?null:(hc=!0,pc);case"textInput":return n=e.data,n===pc&&hc?null:n;default:return null}}function pv(n,e){if(Nn)return n==="compositionend"||!Ja&&Rp(n,e)?(n=xp(),Yi=za=Vt=null,Nn=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Pp&&e.locale!=="ko"?null:e.data;default:return null}}var hv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function mc(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e==="input"?!!hv[n.type]:e==="textarea"}function kp(n,e,t,r){ap(r),e=wo(e,"onChange"),0<e.length&&(t=new Ha("onChange","change",null,t,r),n.push({event:t,listeners:e}))}var Lr=null,br=null;function mv(n){Gp(n,0)}function es(n){var e=Fn(n);if(tp(e))return n}function gv(n,e){if(n==="change")return e}var Np=!1;if(Et){var Os;if(Et){var Bs="oninput"in document;if(!Bs){var gc=document.createElement("div");gc.setAttribute("oninput","return;"),Bs=typeof gc.oninput=="function"}Os=Bs}else Os=!1;Np=Os&&(!document.documentMode||9<document.documentMode)}function yc(){Lr&&(Lr.detachEvent("onpropertychange",Dp),br=Lr=null)}function Dp(n){if(n.propertyName==="value"&&es(br)){var e=[];kp(e,br,n,$a(n)),dp(mv,e)}}function yv(n,e,t){n==="focusin"?(yc(),Lr=e,br=t,Lr.attachEvent("onpropertychange",Dp)):n==="focusout"&&yc()}function vv(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return es(br)}function _v(n,e){if(n==="click")return es(e)}function Cv(n,e){if(n==="input"||n==="change")return es(e)}function Tv(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var at=typeof Object.is=="function"?Object.is:Tv;function Qr(n,e){if(at(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;var t=Object.keys(n),r=Object.keys(e);if(t.length!==r.length)return!1;for(r=0;r<t.length;r++){var i=t[r];if(!dl.call(e,i)||!at(n[i],e[i]))return!1}return!0}function vc(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function _c(n,e){var t=vc(n);n=0;for(var r;t;){if(t.nodeType===3){if(r=n+t.textContent.length,n<=e&&r>=e)return{node:t,offset:e-n};n=r}e:{for(;t;){if(t.nextSibling){t=t.nextSibling;break e}t=t.parentNode}t=void 0}t=vc(t)}}function Lp(n,e){return n&&e?n===e?!0:n&&n.nodeType===3?!1:e&&e.nodeType===3?Lp(n,e.parentNode):"contains"in n?n.contains(e):n.compareDocumentPosition?!!(n.compareDocumentPosition(e)&16):!1:!1}function Fp(){for(var n=window,e=mo();e instanceof n.HTMLIFrameElement;){try{var t=typeof e.contentWindow.location.href=="string"}catch{t=!1}if(t)n=e.contentWindow;else break;e=mo(n.document)}return e}function Ka(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e&&(e==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||e==="textarea"||n.contentEditable==="true")}function wv(n){var e=Fp(),t=n.focusedElem,r=n.selectionRange;if(e!==t&&t&&t.ownerDocument&&Lp(t.ownerDocument.documentElement,t)){if(r!==null&&Ka(t)){if(e=r.start,n=r.end,n===void 0&&(n=e),"selectionStart"in t)t.selectionStart=e,t.selectionEnd=Math.min(n,t.value.length);else if(n=(e=t.ownerDocument||document)&&e.defaultView||window,n.getSelection){n=n.getSelection();var i=t.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!n.extend&&o>r&&(i=r,r=o,o=i),i=_c(t,o);var s=_c(t,r);i&&s&&(n.rangeCount!==1||n.anchorNode!==i.node||n.anchorOffset!==i.offset||n.focusNode!==s.node||n.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),n.removeAllRanges(),o>r?(n.addRange(e),n.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),n.addRange(e)))}}for(e=[],n=t;n=n.parentNode;)n.nodeType===1&&e.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof t.focus=="function"&&t.focus(),t=0;t<e.length;t++)n=e[t],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var Sv=Et&&"documentMode"in document&&11>=document.documentMode,Dn=null,kl=null,Fr=null,Nl=!1;function Cc(n,e,t){var r=t.window===t?t.document:t.nodeType===9?t:t.ownerDocument;Nl||Dn==null||Dn!==mo(r)||(r=Dn,"selectionStart"in r&&Ka(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Fr&&Qr(Fr,r)||(Fr=r,r=wo(kl,"onSelect"),0<r.length&&(e=new Ha("onSelect","select",null,e,t),n.push({event:e,listeners:r}),e.target=Dn)))}function Ai(n,e){var t={};return t[n.toLowerCase()]=e.toLowerCase(),t["Webkit"+n]="webkit"+e,t["Moz"+n]="moz"+e,t}var Ln={animationend:Ai("Animation","AnimationEnd"),animationiteration:Ai("Animation","AnimationIteration"),animationstart:Ai("Animation","AnimationStart"),transitionend:Ai("Transition","TransitionEnd")},qs={},Up={};Et&&(Up=document.createElement("div").style,"AnimationEvent"in window||(delete Ln.animationend.animation,delete Ln.animationiteration.animation,delete Ln.animationstart.animation),"TransitionEvent"in window||delete Ln.transitionend.transition);function ts(n){if(qs[n])return qs[n];if(!Ln[n])return n;var e=Ln[n],t;for(t in e)if(e.hasOwnProperty(t)&&t in Up)return qs[n]=e[t];return n}var Vp=ts("animationend"),$p=ts("animationiteration"),Op=ts("animationstart"),Bp=ts("transitionend"),qp=new Map,Tc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function bt(n,e){qp.set(n,e),Tn(e,[n])}for(var Gs=0;Gs<Tc.length;Gs++){var zs=Tc[Gs],Ev=zs.toLowerCase(),Iv=zs[0].toUpperCase()+zs.slice(1);bt(Ev,"on"+Iv)}bt(Vp,"onAnimationEnd");bt($p,"onAnimationIteration");bt(Op,"onAnimationStart");bt("dblclick","onDoubleClick");bt("focusin","onFocus");bt("focusout","onBlur");bt(Bp,"onTransitionEnd");bn("onMouseEnter",["mouseout","mouseover"]);bn("onMouseLeave",["mouseout","mouseover"]);bn("onPointerEnter",["pointerout","pointerover"]);bn("onPointerLeave",["pointerout","pointerover"]);Tn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Tn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Tn("onBeforeInput",["compositionend","keypress","textInput","paste"]);Tn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Tn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Tn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Tr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Av=new Set("cancel close invalid load scroll toggle".split(" ").concat(Tr));function wc(n,e,t){var r=n.type||"unknown-event";n.currentTarget=t,Ey(r,e,void 0,n),n.currentTarget=null}function Gp(n,e){e=(e&4)!==0;for(var t=0;t<n.length;t++){var r=n[t],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var s=r.length-1;0<=s;s--){var u=r[s],c=u.instance,f=u.currentTarget;if(u=u.listener,c!==o&&i.isPropagationStopped())break e;wc(i,u,f),o=c}else for(s=0;s<r.length;s++){if(u=r[s],c=u.instance,f=u.currentTarget,u=u.listener,c!==o&&i.isPropagationStopped())break e;wc(i,u,f),o=c}}}if(yo)throw n=xl,yo=!1,xl=null,n}function K(n,e){var t=e[Vl];t===void 0&&(t=e[Vl]=new Set);var r=n+"__bubble";t.has(r)||(zp(e,n,2,!1),t.add(r))}function Hs(n,e,t){var r=0;e&&(r|=4),zp(t,n,r,e)}var xi="_reactListening"+Math.random().toString(36).slice(2);function Xr(n){if(!n[xi]){n[xi]=!0,Qd.forEach(function(t){t!=="selectionchange"&&(Av.has(t)||Hs(t,!1,n),Hs(t,!0,n))});var e=n.nodeType===9?n:n.ownerDocument;e===null||e[xi]||(e[xi]=!0,Hs("selectionchange",!1,e))}}function zp(n,e,t,r){switch(Ap(e)){case 1:var i=By;break;case 4:i=qy;break;default:i=Ga}t=i.bind(null,e,t,n),i=void 0,!Al||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?n.addEventListener(e,t,{capture:!0,passive:i}):n.addEventListener(e,t,!0):i!==void 0?n.addEventListener(e,t,{passive:i}):n.addEventListener(e,t,!1)}function Ws(n,e,t,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var u=r.stateNode.containerInfo;if(u===i||u.nodeType===8&&u.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var c=s.tag;if((c===3||c===4)&&(c=s.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;s=s.return}for(;u!==null;){if(s=an(u),s===null)return;if(c=s.tag,c===5||c===6){r=o=s;continue e}u=u.parentNode}}r=r.return}dp(function(){var f=o,d=$a(t),p=[];e:{var h=qp.get(n);if(h!==void 0){var g=Ha,v=n;switch(n){case"keypress":if(bi(t)===0)break e;case"keydown":case"keyup":g=nv;break;case"focusin":v="focus",g=$s;break;case"focusout":v="blur",g=$s;break;case"beforeblur":case"afterblur":g=$s;break;case"click":if(t.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=cc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=Hy;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=ov;break;case Vp:case $p:case Op:g=Ky;break;case Bp:g=lv;break;case"scroll":g=Gy;break;case"wheel":g=uv;break;case"copy":case"cut":case"paste":g=by;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=dc}var C=(e&4)!==0,S=!C&&n==="scroll",_=C?h!==null?h+"Capture":null:h;C=[];for(var m=f,y;m!==null;){y=m;var T=y.stateNode;if(y.tag===5&&T!==null&&(y=T,_!==null&&(T=Wr(m,_),T!=null&&C.push(Zr(m,T,y)))),S)break;m=m.return}0<C.length&&(h=new g(h,v,null,t,d),p.push({event:h,listeners:C}))}}if(!(e&7)){e:{if(h=n==="mouseover"||n==="pointerover",g=n==="mouseout"||n==="pointerout",h&&t!==El&&(v=t.relatedTarget||t.fromElement)&&(an(v)||v[It]))break e;if((g||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,g?(v=t.relatedTarget||t.toElement,g=f,v=v?an(v):null,v!==null&&(S=wn(v),v!==S||v.tag!==5&&v.tag!==6)&&(v=null)):(g=null,v=f),g!==v)){if(C=cc,T="onMouseLeave",_="onMouseEnter",m="mouse",(n==="pointerout"||n==="pointerover")&&(C=dc,T="onPointerLeave",_="onPointerEnter",m="pointer"),S=g==null?h:Fn(g),y=v==null?h:Fn(v),h=new C(T,m+"leave",g,t,d),h.target=S,h.relatedTarget=y,T=null,an(d)===f&&(C=new C(_,m+"enter",v,t,d),C.target=y,C.relatedTarget=S,T=C),S=T,g&&v)t:{for(C=g,_=v,m=0,y=C;y;y=Sn(y))m++;for(y=0,T=_;T;T=Sn(T))y++;for(;0<m-y;)C=Sn(C),m--;for(;0<y-m;)_=Sn(_),y--;for(;m--;){if(C===_||_!==null&&C===_.alternate)break t;C=Sn(C),_=Sn(_)}C=null}else C=null;g!==null&&Sc(p,h,g,C,!1),v!==null&&S!==null&&Sc(p,S,v,C,!0)}}e:{if(h=f?Fn(f):window,g=h.nodeName&&h.nodeName.toLowerCase(),g==="select"||g==="input"&&h.type==="file")var E=gv;else if(mc(h))if(Np)E=Cv;else{E=vv;var P=yv}else(g=h.nodeName)&&g.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(E=_v);if(E&&(E=E(n,f))){kp(p,E,t,d);break e}P&&P(n,h,f),n==="focusout"&&(P=h._wrapperState)&&P.controlled&&h.type==="number"&&_l(h,"number",h.value)}switch(P=f?Fn(f):window,n){case"focusin":(mc(P)||P.contentEditable==="true")&&(Dn=P,kl=f,Fr=null);break;case"focusout":Fr=kl=Dn=null;break;case"mousedown":Nl=!0;break;case"contextmenu":case"mouseup":case"dragend":Nl=!1,Cc(p,t,d);break;case"selectionchange":if(Sv)break;case"keydown":case"keyup":Cc(p,t,d)}var I;if(Ja)e:{switch(n){case"compositionstart":var R="onCompositionStart";break e;case"compositionend":R="onCompositionEnd";break e;case"compositionupdate":R="onCompositionUpdate";break e}R=void 0}else Nn?Rp(n,t)&&(R="onCompositionEnd"):n==="keydown"&&t.keyCode===229&&(R="onCompositionStart");R&&(Pp&&t.locale!=="ko"&&(Nn||R!=="onCompositionStart"?R==="onCompositionEnd"&&Nn&&(I=xp()):(Vt=d,za="value"in Vt?Vt.value:Vt.textContent,Nn=!0)),P=wo(f,R),0<P.length&&(R=new fc(R,n,null,t,d),p.push({event:R,listeners:P}),I?R.data=I:(I=Mp(t),I!==null&&(R.data=I)))),(I=fv?dv(n,t):pv(n,t))&&(f=wo(f,"onBeforeInput"),0<f.length&&(d=new fc("onBeforeInput","beforeinput",null,t,d),p.push({event:d,listeners:f}),d.data=I))}Gp(p,e)})}function Zr(n,e,t){return{instance:n,listener:e,currentTarget:t}}function wo(n,e){for(var t=e+"Capture",r=[];n!==null;){var i=n,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=Wr(n,t),o!=null&&r.unshift(Zr(n,o,i)),o=Wr(n,e),o!=null&&r.push(Zr(n,o,i))),n=n.return}return r}function Sn(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function Sc(n,e,t,r,i){for(var o=e._reactName,s=[];t!==null&&t!==r;){var u=t,c=u.alternate,f=u.stateNode;if(c!==null&&c===r)break;u.tag===5&&f!==null&&(u=f,i?(c=Wr(t,o),c!=null&&s.unshift(Zr(t,c,u))):i||(c=Wr(t,o),c!=null&&s.push(Zr(t,c,u)))),t=t.return}s.length!==0&&n.push({event:e,listeners:s})}var xv=/\r\n?/g,Pv=/\u0000|\uFFFD/g;function Ec(n){return(typeof n=="string"?n:""+n).replace(xv,`
`).replace(Pv,"")}function Pi(n,e,t){if(e=Ec(e),Ec(n)!==e&&t)throw Error(x(425))}function So(){}var Dl=null,Ll=null;function Fl(n,e){return n==="textarea"||n==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Ul=typeof setTimeout=="function"?setTimeout:void 0,Rv=typeof clearTimeout=="function"?clearTimeout:void 0,Ic=typeof Promise=="function"?Promise:void 0,Mv=typeof queueMicrotask=="function"?queueMicrotask:typeof Ic<"u"?function(n){return Ic.resolve(null).then(n).catch(kv)}:Ul;function kv(n){setTimeout(function(){throw n})}function Js(n,e){var t=e,r=0;do{var i=t.nextSibling;if(n.removeChild(t),i&&i.nodeType===8)if(t=i.data,t==="/$"){if(r===0){n.removeChild(i),Yr(e);return}r--}else t!=="$"&&t!=="$?"&&t!=="$!"||r++;t=i}while(t);Yr(e)}function Gt(n){for(;n!=null;n=n.nextSibling){var e=n.nodeType;if(e===1||e===3)break;if(e===8){if(e=n.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return n}function Ac(n){n=n.previousSibling;for(var e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="$"||t==="$!"||t==="$?"){if(e===0)return n;e--}else t==="/$"&&e++}n=n.previousSibling}return null}var or=Math.random().toString(36).slice(2),pt="__reactFiber$"+or,jr="__reactProps$"+or,It="__reactContainer$"+or,Vl="__reactEvents$"+or,Nv="__reactListeners$"+or,Dv="__reactHandles$"+or;function an(n){var e=n[pt];if(e)return e;for(var t=n.parentNode;t;){if(e=t[It]||t[pt]){if(t=e.alternate,e.child!==null||t!==null&&t.child!==null)for(n=Ac(n);n!==null;){if(t=n[pt])return t;n=Ac(n)}return e}n=t,t=n.parentNode}return null}function ci(n){return n=n[pt]||n[It],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function Fn(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(x(33))}function ns(n){return n[jr]||null}var $l=[],Un=-1;function Qt(n){return{current:n}}function Y(n){0>Un||(n.current=$l[Un],$l[Un]=null,Un--)}function J(n,e){Un++,$l[Un]=n.current,n.current=e}var Yt={},Se=Qt(Yt),Fe=Qt(!1),mn=Yt;function Qn(n,e){var t=n.type.contextTypes;if(!t)return Yt;var r=n.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in t)i[o]=e[o];return r&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=e,n.__reactInternalMemoizedMaskedChildContext=i),i}function Ue(n){return n=n.childContextTypes,n!=null}function Eo(){Y(Fe),Y(Se)}function xc(n,e,t){if(Se.current!==Yt)throw Error(x(168));J(Se,e),J(Fe,t)}function Hp(n,e,t){var r=n.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return t;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(x(108,yy(n)||"Unknown",i));return j({},t,r)}function Io(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||Yt,mn=Se.current,J(Se,n),J(Fe,Fe.current),!0}function Pc(n,e,t){var r=n.stateNode;if(!r)throw Error(x(169));t?(n=Hp(n,e,mn),r.__reactInternalMemoizedMergedChildContext=n,Y(Fe),Y(Se),J(Se,n)):Y(Fe),J(Fe,t)}var Ct=null,rs=!1,Ks=!1;function Wp(n){Ct===null?Ct=[n]:Ct.push(n)}function Lv(n){rs=!0,Wp(n)}function Xt(){if(!Ks&&Ct!==null){Ks=!0;var n=0,e=W;try{var t=Ct;for(W=1;n<t.length;n++){var r=t[n];do r=r(!0);while(r!==null)}Ct=null,rs=!1}catch(i){throw Ct!==null&&(Ct=Ct.slice(n+1)),gp(Oa,Xt),i}finally{W=e,Ks=!1}}return null}var Vn=[],$n=0,Ao=null,xo=0,Ye=[],be=0,gn=null,Tt=1,wt="";function rn(n,e){Vn[$n++]=xo,Vn[$n++]=Ao,Ao=n,xo=e}function Jp(n,e,t){Ye[be++]=Tt,Ye[be++]=wt,Ye[be++]=gn,gn=n;var r=Tt;n=wt;var i=32-st(r)-1;r&=~(1<<i),t+=1;var o=32-st(e)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,Tt=1<<32-st(e)+i|t<<i|r,wt=o+n}else Tt=1<<o|t<<i|r,wt=n}function Ya(n){n.return!==null&&(rn(n,1),Jp(n,1,0))}function ba(n){for(;n===Ao;)Ao=Vn[--$n],Vn[$n]=null,xo=Vn[--$n],Vn[$n]=null;for(;n===gn;)gn=Ye[--be],Ye[be]=null,wt=Ye[--be],Ye[be]=null,Tt=Ye[--be],Ye[be]=null}var ze=null,Ge=null,b=!1,ot=null;function Kp(n,e){var t=Qe(5,null,null,0);t.elementType="DELETED",t.stateNode=e,t.return=n,e=n.deletions,e===null?(n.deletions=[t],n.flags|=16):e.push(t)}function Rc(n,e){switch(n.tag){case 5:var t=n.type;return e=e.nodeType!==1||t.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(n.stateNode=e,ze=n,Ge=Gt(e.firstChild),!0):!1;case 6:return e=n.pendingProps===""||e.nodeType!==3?null:e,e!==null?(n.stateNode=e,ze=n,Ge=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(t=gn!==null?{id:Tt,overflow:wt}:null,n.memoizedState={dehydrated:e,treeContext:t,retryLane:1073741824},t=Qe(18,null,null,0),t.stateNode=e,t.return=n,n.child=t,ze=n,Ge=null,!0):!1;default:return!1}}function Ol(n){return(n.mode&1)!==0&&(n.flags&128)===0}function Bl(n){if(b){var e=Ge;if(e){var t=e;if(!Rc(n,e)){if(Ol(n))throw Error(x(418));e=Gt(t.nextSibling);var r=ze;e&&Rc(n,e)?Kp(r,t):(n.flags=n.flags&-4097|2,b=!1,ze=n)}}else{if(Ol(n))throw Error(x(418));n.flags=n.flags&-4097|2,b=!1,ze=n}}}function Mc(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;ze=n}function Ri(n){if(n!==ze)return!1;if(!b)return Mc(n),b=!0,!1;var e;if((e=n.tag!==3)&&!(e=n.tag!==5)&&(e=n.type,e=e!=="head"&&e!=="body"&&!Fl(n.type,n.memoizedProps)),e&&(e=Ge)){if(Ol(n))throw Yp(),Error(x(418));for(;e;)Kp(n,e),e=Gt(e.nextSibling)}if(Mc(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(x(317));e:{for(n=n.nextSibling,e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="/$"){if(e===0){Ge=Gt(n.nextSibling);break e}e--}else t!=="$"&&t!=="$!"&&t!=="$?"||e++}n=n.nextSibling}Ge=null}}else Ge=ze?Gt(n.stateNode.nextSibling):null;return!0}function Yp(){for(var n=Ge;n;)n=Gt(n.nextSibling)}function Xn(){Ge=ze=null,b=!1}function Qa(n){ot===null?ot=[n]:ot.push(n)}var Fv=Pt.ReactCurrentBatchConfig;function hr(n,e,t){if(n=t.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(t._owner){if(t=t._owner,t){if(t.tag!==1)throw Error(x(309));var r=t.stateNode}if(!r)throw Error(x(147,n));var i=r,o=""+n;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(s){var u=i.refs;s===null?delete u[o]:u[o]=s},e._stringRef=o,e)}if(typeof n!="string")throw Error(x(284));if(!t._owner)throw Error(x(290,n))}return n}function Mi(n,e){throw n=Object.prototype.toString.call(e),Error(x(31,n==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":n))}function kc(n){var e=n._init;return e(n._payload)}function bp(n){function e(_,m){if(n){var y=_.deletions;y===null?(_.deletions=[m],_.flags|=16):y.push(m)}}function t(_,m){if(!n)return null;for(;m!==null;)e(_,m),m=m.sibling;return null}function r(_,m){for(_=new Map;m!==null;)m.key!==null?_.set(m.key,m):_.set(m.index,m),m=m.sibling;return _}function i(_,m){return _=Jt(_,m),_.index=0,_.sibling=null,_}function o(_,m,y){return _.index=y,n?(y=_.alternate,y!==null?(y=y.index,y<m?(_.flags|=2,m):y):(_.flags|=2,m)):(_.flags|=1048576,m)}function s(_){return n&&_.alternate===null&&(_.flags|=2),_}function u(_,m,y,T){return m===null||m.tag!==6?(m=el(y,_.mode,T),m.return=_,m):(m=i(m,y),m.return=_,m)}function c(_,m,y,T){var E=y.type;return E===kn?d(_,m,y.props.children,T,y.key):m!==null&&(m.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Dt&&kc(E)===m.type)?(T=i(m,y.props),T.ref=hr(_,m,y),T.return=_,T):(T=no(y.type,y.key,y.props,null,_.mode,T),T.ref=hr(_,m,y),T.return=_,T)}function f(_,m,y,T){return m===null||m.tag!==4||m.stateNode.containerInfo!==y.containerInfo||m.stateNode.implementation!==y.implementation?(m=tl(y,_.mode,T),m.return=_,m):(m=i(m,y.children||[]),m.return=_,m)}function d(_,m,y,T,E){return m===null||m.tag!==7?(m=hn(y,_.mode,T,E),m.return=_,m):(m=i(m,y),m.return=_,m)}function p(_,m,y){if(typeof m=="string"&&m!==""||typeof m=="number")return m=el(""+m,_.mode,y),m.return=_,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case _i:return y=no(m.type,m.key,m.props,null,_.mode,y),y.ref=hr(_,null,m),y.return=_,y;case Mn:return m=tl(m,_.mode,y),m.return=_,m;case Dt:var T=m._init;return p(_,T(m._payload),y)}if(_r(m)||ur(m))return m=hn(m,_.mode,y,null),m.return=_,m;Mi(_,m)}return null}function h(_,m,y,T){var E=m!==null?m.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return E!==null?null:u(_,m,""+y,T);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case _i:return y.key===E?c(_,m,y,T):null;case Mn:return y.key===E?f(_,m,y,T):null;case Dt:return E=y._init,h(_,m,E(y._payload),T)}if(_r(y)||ur(y))return E!==null?null:d(_,m,y,T,null);Mi(_,y)}return null}function g(_,m,y,T,E){if(typeof T=="string"&&T!==""||typeof T=="number")return _=_.get(y)||null,u(m,_,""+T,E);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case _i:return _=_.get(T.key===null?y:T.key)||null,c(m,_,T,E);case Mn:return _=_.get(T.key===null?y:T.key)||null,f(m,_,T,E);case Dt:var P=T._init;return g(_,m,y,P(T._payload),E)}if(_r(T)||ur(T))return _=_.get(y)||null,d(m,_,T,E,null);Mi(m,T)}return null}function v(_,m,y,T){for(var E=null,P=null,I=m,R=m=0,U=null;I!==null&&R<y.length;R++){I.index>R?(U=I,I=null):U=I.sibling;var M=h(_,I,y[R],T);if(M===null){I===null&&(I=U);break}n&&I&&M.alternate===null&&e(_,I),m=o(M,m,R),P===null?E=M:P.sibling=M,P=M,I=U}if(R===y.length)return t(_,I),b&&rn(_,R),E;if(I===null){for(;R<y.length;R++)I=p(_,y[R],T),I!==null&&(m=o(I,m,R),P===null?E=I:P.sibling=I,P=I);return b&&rn(_,R),E}for(I=r(_,I);R<y.length;R++)U=g(I,_,R,y[R],T),U!==null&&(n&&U.alternate!==null&&I.delete(U.key===null?R:U.key),m=o(U,m,R),P===null?E=U:P.sibling=U,P=U);return n&&I.forEach(function(O){return e(_,O)}),b&&rn(_,R),E}function C(_,m,y,T){var E=ur(y);if(typeof E!="function")throw Error(x(150));if(y=E.call(y),y==null)throw Error(x(151));for(var P=E=null,I=m,R=m=0,U=null,M=y.next();I!==null&&!M.done;R++,M=y.next()){I.index>R?(U=I,I=null):U=I.sibling;var O=h(_,I,M.value,T);if(O===null){I===null&&(I=U);break}n&&I&&O.alternate===null&&e(_,I),m=o(O,m,R),P===null?E=O:P.sibling=O,P=O,I=U}if(M.done)return t(_,I),b&&rn(_,R),E;if(I===null){for(;!M.done;R++,M=y.next())M=p(_,M.value,T),M!==null&&(m=o(M,m,R),P===null?E=M:P.sibling=M,P=M);return b&&rn(_,R),E}for(I=r(_,I);!M.done;R++,M=y.next())M=g(I,_,R,M.value,T),M!==null&&(n&&M.alternate!==null&&I.delete(M.key===null?R:M.key),m=o(M,m,R),P===null?E=M:P.sibling=M,P=M);return n&&I.forEach(function(Ee){return e(_,Ee)}),b&&rn(_,R),E}function S(_,m,y,T){if(typeof y=="object"&&y!==null&&y.type===kn&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case _i:e:{for(var E=y.key,P=m;P!==null;){if(P.key===E){if(E=y.type,E===kn){if(P.tag===7){t(_,P.sibling),m=i(P,y.props.children),m.return=_,_=m;break e}}else if(P.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Dt&&kc(E)===P.type){t(_,P.sibling),m=i(P,y.props),m.ref=hr(_,P,y),m.return=_,_=m;break e}t(_,P);break}else e(_,P);P=P.sibling}y.type===kn?(m=hn(y.props.children,_.mode,T,y.key),m.return=_,_=m):(T=no(y.type,y.key,y.props,null,_.mode,T),T.ref=hr(_,m,y),T.return=_,_=T)}return s(_);case Mn:e:{for(P=y.key;m!==null;){if(m.key===P)if(m.tag===4&&m.stateNode.containerInfo===y.containerInfo&&m.stateNode.implementation===y.implementation){t(_,m.sibling),m=i(m,y.children||[]),m.return=_,_=m;break e}else{t(_,m);break}else e(_,m);m=m.sibling}m=tl(y,_.mode,T),m.return=_,_=m}return s(_);case Dt:return P=y._init,S(_,m,P(y._payload),T)}if(_r(y))return v(_,m,y,T);if(ur(y))return C(_,m,y,T);Mi(_,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,m!==null&&m.tag===6?(t(_,m.sibling),m=i(m,y),m.return=_,_=m):(t(_,m),m=el(y,_.mode,T),m.return=_,_=m),s(_)):t(_,m)}return S}var Zn=bp(!0),Qp=bp(!1),Po=Qt(null),Ro=null,On=null,Xa=null;function Za(){Xa=On=Ro=null}function ja(n){var e=Po.current;Y(Po),n._currentValue=e}function ql(n,e,t){for(;n!==null;){var r=n.alternate;if((n.childLanes&e)!==e?(n.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),n===t)break;n=n.return}}function Kn(n,e){Ro=n,Xa=On=null,n=n.dependencies,n!==null&&n.firstContext!==null&&(n.lanes&e&&(De=!0),n.firstContext=null)}function je(n){var e=n._currentValue;if(Xa!==n)if(n={context:n,memoizedValue:e,next:null},On===null){if(Ro===null)throw Error(x(308));On=n,Ro.dependencies={lanes:0,firstContext:n}}else On=On.next=n;return e}var un=null;function eu(n){un===null?un=[n]:un.push(n)}function Xp(n,e,t,r){var i=e.interleaved;return i===null?(t.next=t,eu(e)):(t.next=i.next,i.next=t),e.interleaved=t,At(n,r)}function At(n,e){n.lanes|=e;var t=n.alternate;for(t!==null&&(t.lanes|=e),t=n,n=n.return;n!==null;)n.childLanes|=e,t=n.alternate,t!==null&&(t.childLanes|=e),t=n,n=n.return;return t.tag===3?t.stateNode:null}var Lt=!1;function tu(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Zp(n,e){n=n.updateQueue,e.updateQueue===n&&(e.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function St(n,e){return{eventTime:n,lane:e,tag:0,payload:null,callback:null,next:null}}function zt(n,e,t){var r=n.updateQueue;if(r===null)return null;if(r=r.shared,H&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,At(n,t)}return i=r.interleaved,i===null?(e.next=e,eu(r)):(e.next=i.next,i.next=e),r.interleaved=e,At(n,t)}function Qi(n,e,t){if(e=e.updateQueue,e!==null&&(e=e.shared,(t&4194240)!==0)){var r=e.lanes;r&=n.pendingLanes,t|=r,e.lanes=t,Ba(n,t)}}function Nc(n,e){var t=n.updateQueue,r=n.alternate;if(r!==null&&(r=r.updateQueue,t===r)){var i=null,o=null;if(t=t.firstBaseUpdate,t!==null){do{var s={eventTime:t.eventTime,lane:t.lane,tag:t.tag,payload:t.payload,callback:t.callback,next:null};o===null?i=o=s:o=o.next=s,t=t.next}while(t!==null);o===null?i=o=e:o=o.next=e}else i=o=e;t={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},n.updateQueue=t;return}n=t.lastBaseUpdate,n===null?t.firstBaseUpdate=e:n.next=e,t.lastBaseUpdate=e}function Mo(n,e,t,r){var i=n.updateQueue;Lt=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,u=i.shared.pending;if(u!==null){i.shared.pending=null;var c=u,f=c.next;c.next=null,s===null?o=f:s.next=f,s=c;var d=n.alternate;d!==null&&(d=d.updateQueue,u=d.lastBaseUpdate,u!==s&&(u===null?d.firstBaseUpdate=f:u.next=f,d.lastBaseUpdate=c))}if(o!==null){var p=i.baseState;s=0,d=f=c=null,u=o;do{var h=u.lane,g=u.eventTime;if((r&h)===h){d!==null&&(d=d.next={eventTime:g,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var v=n,C=u;switch(h=e,g=t,C.tag){case 1:if(v=C.payload,typeof v=="function"){p=v.call(g,p,h);break e}p=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=C.payload,h=typeof v=="function"?v.call(g,p,h):v,h==null)break e;p=j({},p,h);break e;case 2:Lt=!0}}u.callback!==null&&u.lane!==0&&(n.flags|=64,h=i.effects,h===null?i.effects=[u]:h.push(u))}else g={eventTime:g,lane:h,tag:u.tag,payload:u.payload,callback:u.callback,next:null},d===null?(f=d=g,c=p):d=d.next=g,s|=h;if(u=u.next,u===null){if(u=i.shared.pending,u===null)break;h=u,u=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(d===null&&(c=p),i.baseState=c,i.firstBaseUpdate=f,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do s|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);vn|=s,n.lanes=s,n.memoizedState=p}}function Dc(n,e,t){if(n=e.effects,e.effects=null,n!==null)for(e=0;e<n.length;e++){var r=n[e],i=r.callback;if(i!==null){if(r.callback=null,r=t,typeof i!="function")throw Error(x(191,i));i.call(r)}}}var fi={},gt=Qt(fi),ei=Qt(fi),ti=Qt(fi);function cn(n){if(n===fi)throw Error(x(174));return n}function nu(n,e){switch(J(ti,e),J(ei,n),J(gt,fi),n=e.nodeType,n){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Tl(null,"");break;default:n=n===8?e.parentNode:e,e=n.namespaceURI||null,n=n.tagName,e=Tl(e,n)}Y(gt),J(gt,e)}function jn(){Y(gt),Y(ei),Y(ti)}function jp(n){cn(ti.current);var e=cn(gt.current),t=Tl(e,n.type);e!==t&&(J(ei,n),J(gt,t))}function ru(n){ei.current===n&&(Y(gt),Y(ei))}var X=Qt(0);function ko(n){for(var e=n;e!==null;){if(e.tag===13){var t=e.memoizedState;if(t!==null&&(t=t.dehydrated,t===null||t.data==="$?"||t.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Ys=[];function iu(){for(var n=0;n<Ys.length;n++)Ys[n]._workInProgressVersionPrimary=null;Ys.length=0}var Xi=Pt.ReactCurrentDispatcher,bs=Pt.ReactCurrentBatchConfig,yn=0,Z=null,le=null,fe=null,No=!1,Ur=!1,ni=0,Uv=0;function _e(){throw Error(x(321))}function ou(n,e){if(e===null)return!1;for(var t=0;t<e.length&&t<n.length;t++)if(!at(n[t],e[t]))return!1;return!0}function su(n,e,t,r,i,o){if(yn=o,Z=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Xi.current=n===null||n.memoizedState===null?Bv:qv,n=t(r,i),Ur){o=0;do{if(Ur=!1,ni=0,25<=o)throw Error(x(301));o+=1,fe=le=null,e.updateQueue=null,Xi.current=Gv,n=t(r,i)}while(Ur)}if(Xi.current=Do,e=le!==null&&le.next!==null,yn=0,fe=le=Z=null,No=!1,e)throw Error(x(300));return n}function lu(){var n=ni!==0;return ni=0,n}function ft(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return fe===null?Z.memoizedState=fe=n:fe=fe.next=n,fe}function et(){if(le===null){var n=Z.alternate;n=n!==null?n.memoizedState:null}else n=le.next;var e=fe===null?Z.memoizedState:fe.next;if(e!==null)fe=e,le=n;else{if(n===null)throw Error(x(310));le=n,n={memoizedState:le.memoizedState,baseState:le.baseState,baseQueue:le.baseQueue,queue:le.queue,next:null},fe===null?Z.memoizedState=fe=n:fe=fe.next=n}return fe}function ri(n,e){return typeof e=="function"?e(n):e}function Qs(n){var e=et(),t=e.queue;if(t===null)throw Error(x(311));t.lastRenderedReducer=n;var r=le,i=r.baseQueue,o=t.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,t.pending=null}if(i!==null){o=i.next,r=r.baseState;var u=s=null,c=null,f=o;do{var d=f.lane;if((yn&d)===d)c!==null&&(c=c.next={lane:0,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null}),r=f.hasEagerState?f.eagerState:n(r,f.action);else{var p={lane:d,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null};c===null?(u=c=p,s=r):c=c.next=p,Z.lanes|=d,vn|=d}f=f.next}while(f!==null&&f!==o);c===null?s=r:c.next=u,at(r,e.memoizedState)||(De=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=c,t.lastRenderedState=r}if(n=t.interleaved,n!==null){i=n;do o=i.lane,Z.lanes|=o,vn|=o,i=i.next;while(i!==n)}else i===null&&(t.lanes=0);return[e.memoizedState,t.dispatch]}function Xs(n){var e=et(),t=e.queue;if(t===null)throw Error(x(311));t.lastRenderedReducer=n;var r=t.dispatch,i=t.pending,o=e.memoizedState;if(i!==null){t.pending=null;var s=i=i.next;do o=n(o,s.action),s=s.next;while(s!==i);at(o,e.memoizedState)||(De=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),t.lastRenderedState=o}return[o,r]}function eh(){}function th(n,e){var t=Z,r=et(),i=e(),o=!at(r.memoizedState,i);if(o&&(r.memoizedState=i,De=!0),r=r.queue,au(ih.bind(null,t,r,n),[n]),r.getSnapshot!==e||o||fe!==null&&fe.memoizedState.tag&1){if(t.flags|=2048,ii(9,rh.bind(null,t,r,i,e),void 0,null),de===null)throw Error(x(349));yn&30||nh(t,e,i)}return i}function nh(n,e,t){n.flags|=16384,n={getSnapshot:e,value:t},e=Z.updateQueue,e===null?(e={lastEffect:null,stores:null},Z.updateQueue=e,e.stores=[n]):(t=e.stores,t===null?e.stores=[n]:t.push(n))}function rh(n,e,t,r){e.value=t,e.getSnapshot=r,oh(e)&&sh(n)}function ih(n,e,t){return t(function(){oh(e)&&sh(n)})}function oh(n){var e=n.getSnapshot;n=n.value;try{var t=e();return!at(n,t)}catch{return!0}}function sh(n){var e=At(n,1);e!==null&&lt(e,n,1,-1)}function Lc(n){var e=ft();return typeof n=="function"&&(n=n()),e.memoizedState=e.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ri,lastRenderedState:n},e.queue=n,n=n.dispatch=Ov.bind(null,Z,n),[e.memoizedState,n]}function ii(n,e,t,r){return n={tag:n,create:e,destroy:t,deps:r,next:null},e=Z.updateQueue,e===null?(e={lastEffect:null,stores:null},Z.updateQueue=e,e.lastEffect=n.next=n):(t=e.lastEffect,t===null?e.lastEffect=n.next=n:(r=t.next,t.next=n,n.next=r,e.lastEffect=n)),n}function lh(){return et().memoizedState}function Zi(n,e,t,r){var i=ft();Z.flags|=n,i.memoizedState=ii(1|e,t,void 0,r===void 0?null:r)}function is(n,e,t,r){var i=et();r=r===void 0?null:r;var o=void 0;if(le!==null){var s=le.memoizedState;if(o=s.destroy,r!==null&&ou(r,s.deps)){i.memoizedState=ii(e,t,o,r);return}}Z.flags|=n,i.memoizedState=ii(1|e,t,o,r)}function Fc(n,e){return Zi(8390656,8,n,e)}function au(n,e){return is(2048,8,n,e)}function ah(n,e){return is(4,2,n,e)}function uh(n,e){return is(4,4,n,e)}function ch(n,e){if(typeof e=="function")return n=n(),e(n),function(){e(null)};if(e!=null)return n=n(),e.current=n,function(){e.current=null}}function fh(n,e,t){return t=t!=null?t.concat([n]):null,is(4,4,ch.bind(null,e,n),t)}function uu(){}function dh(n,e){var t=et();e=e===void 0?null:e;var r=t.memoizedState;return r!==null&&e!==null&&ou(e,r[1])?r[0]:(t.memoizedState=[n,e],n)}function ph(n,e){var t=et();e=e===void 0?null:e;var r=t.memoizedState;return r!==null&&e!==null&&ou(e,r[1])?r[0]:(n=n(),t.memoizedState=[n,e],n)}function hh(n,e,t){return yn&21?(at(t,e)||(t=_p(),Z.lanes|=t,vn|=t,n.baseState=!0),e):(n.baseState&&(n.baseState=!1,De=!0),n.memoizedState=t)}function Vv(n,e){var t=W;W=t!==0&&4>t?t:4,n(!0);var r=bs.transition;bs.transition={};try{n(!1),e()}finally{W=t,bs.transition=r}}function mh(){return et().memoizedState}function $v(n,e,t){var r=Wt(n);if(t={lane:r,action:t,hasEagerState:!1,eagerState:null,next:null},gh(n))yh(e,t);else if(t=Xp(n,e,t,r),t!==null){var i=xe();lt(t,n,r,i),vh(t,e,r)}}function Ov(n,e,t){var r=Wt(n),i={lane:r,action:t,hasEagerState:!1,eagerState:null,next:null};if(gh(n))yh(e,i);else{var o=n.alternate;if(n.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var s=e.lastRenderedState,u=o(s,t);if(i.hasEagerState=!0,i.eagerState=u,at(u,s)){var c=e.interleaved;c===null?(i.next=i,eu(e)):(i.next=c.next,c.next=i),e.interleaved=i;return}}catch{}finally{}t=Xp(n,e,i,r),t!==null&&(i=xe(),lt(t,n,r,i),vh(t,e,r))}}function gh(n){var e=n.alternate;return n===Z||e!==null&&e===Z}function yh(n,e){Ur=No=!0;var t=n.pending;t===null?e.next=e:(e.next=t.next,t.next=e),n.pending=e}function vh(n,e,t){if(t&4194240){var r=e.lanes;r&=n.pendingLanes,t|=r,e.lanes=t,Ba(n,t)}}var Do={readContext:je,useCallback:_e,useContext:_e,useEffect:_e,useImperativeHandle:_e,useInsertionEffect:_e,useLayoutEffect:_e,useMemo:_e,useReducer:_e,useRef:_e,useState:_e,useDebugValue:_e,useDeferredValue:_e,useTransition:_e,useMutableSource:_e,useSyncExternalStore:_e,useId:_e,unstable_isNewReconciler:!1},Bv={readContext:je,useCallback:function(n,e){return ft().memoizedState=[n,e===void 0?null:e],n},useContext:je,useEffect:Fc,useImperativeHandle:function(n,e,t){return t=t!=null?t.concat([n]):null,Zi(4194308,4,ch.bind(null,e,n),t)},useLayoutEffect:function(n,e){return Zi(4194308,4,n,e)},useInsertionEffect:function(n,e){return Zi(4,2,n,e)},useMemo:function(n,e){var t=ft();return e=e===void 0?null:e,n=n(),t.memoizedState=[n,e],n},useReducer:function(n,e,t){var r=ft();return e=t!==void 0?t(e):e,r.memoizedState=r.baseState=e,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:e},r.queue=n,n=n.dispatch=$v.bind(null,Z,n),[r.memoizedState,n]},useRef:function(n){var e=ft();return n={current:n},e.memoizedState=n},useState:Lc,useDebugValue:uu,useDeferredValue:function(n){return ft().memoizedState=n},useTransition:function(){var n=Lc(!1),e=n[0];return n=Vv.bind(null,n[1]),ft().memoizedState=n,[e,n]},useMutableSource:function(){},useSyncExternalStore:function(n,e,t){var r=Z,i=ft();if(b){if(t===void 0)throw Error(x(407));t=t()}else{if(t=e(),de===null)throw Error(x(349));yn&30||nh(r,e,t)}i.memoizedState=t;var o={value:t,getSnapshot:e};return i.queue=o,Fc(ih.bind(null,r,o,n),[n]),r.flags|=2048,ii(9,rh.bind(null,r,o,t,e),void 0,null),t},useId:function(){var n=ft(),e=de.identifierPrefix;if(b){var t=wt,r=Tt;t=(r&~(1<<32-st(r)-1)).toString(32)+t,e=":"+e+"R"+t,t=ni++,0<t&&(e+="H"+t.toString(32)),e+=":"}else t=Uv++,e=":"+e+"r"+t.toString(32)+":";return n.memoizedState=e},unstable_isNewReconciler:!1},qv={readContext:je,useCallback:dh,useContext:je,useEffect:au,useImperativeHandle:fh,useInsertionEffect:ah,useLayoutEffect:uh,useMemo:ph,useReducer:Qs,useRef:lh,useState:function(){return Qs(ri)},useDebugValue:uu,useDeferredValue:function(n){var e=et();return hh(e,le.memoizedState,n)},useTransition:function(){var n=Qs(ri)[0],e=et().memoizedState;return[n,e]},useMutableSource:eh,useSyncExternalStore:th,useId:mh,unstable_isNewReconciler:!1},Gv={readContext:je,useCallback:dh,useContext:je,useEffect:au,useImperativeHandle:fh,useInsertionEffect:ah,useLayoutEffect:uh,useMemo:ph,useReducer:Xs,useRef:lh,useState:function(){return Xs(ri)},useDebugValue:uu,useDeferredValue:function(n){var e=et();return le===null?e.memoizedState=n:hh(e,le.memoizedState,n)},useTransition:function(){var n=Xs(ri)[0],e=et().memoizedState;return[n,e]},useMutableSource:eh,useSyncExternalStore:th,useId:mh,unstable_isNewReconciler:!1};function nt(n,e){if(n&&n.defaultProps){e=j({},e),n=n.defaultProps;for(var t in n)e[t]===void 0&&(e[t]=n[t]);return e}return e}function Gl(n,e,t,r){e=n.memoizedState,t=t(r,e),t=t==null?e:j({},e,t),n.memoizedState=t,n.lanes===0&&(n.updateQueue.baseState=t)}var os={isMounted:function(n){return(n=n._reactInternals)?wn(n)===n:!1},enqueueSetState:function(n,e,t){n=n._reactInternals;var r=xe(),i=Wt(n),o=St(r,i);o.payload=e,t!=null&&(o.callback=t),e=zt(n,o,i),e!==null&&(lt(e,n,i,r),Qi(e,n,i))},enqueueReplaceState:function(n,e,t){n=n._reactInternals;var r=xe(),i=Wt(n),o=St(r,i);o.tag=1,o.payload=e,t!=null&&(o.callback=t),e=zt(n,o,i),e!==null&&(lt(e,n,i,r),Qi(e,n,i))},enqueueForceUpdate:function(n,e){n=n._reactInternals;var t=xe(),r=Wt(n),i=St(t,r);i.tag=2,e!=null&&(i.callback=e),e=zt(n,i,r),e!==null&&(lt(e,n,r,t),Qi(e,n,r))}};function Uc(n,e,t,r,i,o,s){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(r,o,s):e.prototype&&e.prototype.isPureReactComponent?!Qr(t,r)||!Qr(i,o):!0}function _h(n,e,t){var r=!1,i=Yt,o=e.contextType;return typeof o=="object"&&o!==null?o=je(o):(i=Ue(e)?mn:Se.current,r=e.contextTypes,o=(r=r!=null)?Qn(n,i):Yt),e=new e(t,o),n.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=os,n.stateNode=e,e._reactInternals=n,r&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=i,n.__reactInternalMemoizedMaskedChildContext=o),e}function Vc(n,e,t,r){n=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(t,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(t,r),e.state!==n&&os.enqueueReplaceState(e,e.state,null)}function zl(n,e,t,r){var i=n.stateNode;i.props=t,i.state=n.memoizedState,i.refs={},tu(n);var o=e.contextType;typeof o=="object"&&o!==null?i.context=je(o):(o=Ue(e)?mn:Se.current,i.context=Qn(n,o)),i.state=n.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(Gl(n,e,o,t),i.state=n.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&os.enqueueReplaceState(i,i.state,null),Mo(n,t,i,r),i.state=n.memoizedState),typeof i.componentDidMount=="function"&&(n.flags|=4194308)}function er(n,e){try{var t="",r=e;do t+=gy(r),r=r.return;while(r);var i=t}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:n,source:e,stack:i,digest:null}}function Zs(n,e,t){return{value:n,source:null,stack:t??null,digest:e??null}}function Hl(n,e){try{console.error(e.value)}catch(t){setTimeout(function(){throw t})}}var zv=typeof WeakMap=="function"?WeakMap:Map;function Ch(n,e,t){t=St(-1,t),t.tag=3,t.payload={element:null};var r=e.value;return t.callback=function(){Fo||(Fo=!0,ea=r),Hl(n,e)},t}function Th(n,e,t){t=St(-1,t),t.tag=3;var r=n.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;t.payload=function(){return r(i)},t.callback=function(){Hl(n,e)}}var o=n.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(t.callback=function(){Hl(n,e),typeof r!="function"&&(Ht===null?Ht=new Set([this]):Ht.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),t}function $c(n,e,t){var r=n.pingCache;if(r===null){r=n.pingCache=new zv;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(t)||(i.add(t),n=r_.bind(null,n,e,t),e.then(n,n))}function Oc(n){do{var e;if((e=n.tag===13)&&(e=n.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return n;n=n.return}while(n!==null);return null}function Bc(n,e,t,r,i){return n.mode&1?(n.flags|=65536,n.lanes=i,n):(n===e?n.flags|=65536:(n.flags|=128,t.flags|=131072,t.flags&=-52805,t.tag===1&&(t.alternate===null?t.tag=17:(e=St(-1,1),e.tag=2,zt(t,e,1))),t.lanes|=1),n)}var Hv=Pt.ReactCurrentOwner,De=!1;function Ae(n,e,t,r){e.child=n===null?Qp(e,null,t,r):Zn(e,n.child,t,r)}function qc(n,e,t,r,i){t=t.render;var o=e.ref;return Kn(e,i),r=su(n,e,t,r,o,i),t=lu(),n!==null&&!De?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~i,xt(n,e,i)):(b&&t&&Ya(e),e.flags|=1,Ae(n,e,r,i),e.child)}function Gc(n,e,t,r,i){if(n===null){var o=t.type;return typeof o=="function"&&!yu(o)&&o.defaultProps===void 0&&t.compare===null&&t.defaultProps===void 0?(e.tag=15,e.type=o,wh(n,e,o,r,i)):(n=no(t.type,null,r,e,e.mode,i),n.ref=e.ref,n.return=e,e.child=n)}if(o=n.child,!(n.lanes&i)){var s=o.memoizedProps;if(t=t.compare,t=t!==null?t:Qr,t(s,r)&&n.ref===e.ref)return xt(n,e,i)}return e.flags|=1,n=Jt(o,r),n.ref=e.ref,n.return=e,e.child=n}function wh(n,e,t,r,i){if(n!==null){var o=n.memoizedProps;if(Qr(o,r)&&n.ref===e.ref)if(De=!1,e.pendingProps=r=o,(n.lanes&i)!==0)n.flags&131072&&(De=!0);else return e.lanes=n.lanes,xt(n,e,i)}return Wl(n,e,t,r,i)}function Sh(n,e,t){var r=e.pendingProps,i=r.children,o=n!==null?n.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},J(qn,qe),qe|=t;else{if(!(t&1073741824))return n=o!==null?o.baseLanes|t:t,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:n,cachePool:null,transitions:null},e.updateQueue=null,J(qn,qe),qe|=n,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:t,J(qn,qe),qe|=r}else o!==null?(r=o.baseLanes|t,e.memoizedState=null):r=t,J(qn,qe),qe|=r;return Ae(n,e,i,t),e.child}function Eh(n,e){var t=e.ref;(n===null&&t!==null||n!==null&&n.ref!==t)&&(e.flags|=512,e.flags|=2097152)}function Wl(n,e,t,r,i){var o=Ue(t)?mn:Se.current;return o=Qn(e,o),Kn(e,i),t=su(n,e,t,r,o,i),r=lu(),n!==null&&!De?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~i,xt(n,e,i)):(b&&r&&Ya(e),e.flags|=1,Ae(n,e,t,i),e.child)}function zc(n,e,t,r,i){if(Ue(t)){var o=!0;Io(e)}else o=!1;if(Kn(e,i),e.stateNode===null)ji(n,e),_h(e,t,r),zl(e,t,r,i),r=!0;else if(n===null){var s=e.stateNode,u=e.memoizedProps;s.props=u;var c=s.context,f=t.contextType;typeof f=="object"&&f!==null?f=je(f):(f=Ue(t)?mn:Se.current,f=Qn(e,f));var d=t.getDerivedStateFromProps,p=typeof d=="function"||typeof s.getSnapshotBeforeUpdate=="function";p||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(u!==r||c!==f)&&Vc(e,s,r,f),Lt=!1;var h=e.memoizedState;s.state=h,Mo(e,r,s,i),c=e.memoizedState,u!==r||h!==c||Fe.current||Lt?(typeof d=="function"&&(Gl(e,t,d,r),c=e.memoizedState),(u=Lt||Uc(e,t,u,r,h,c,f))?(p||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=c),s.props=r,s.state=c,s.context=f,r=u):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,Zp(n,e),u=e.memoizedProps,f=e.type===e.elementType?u:nt(e.type,u),s.props=f,p=e.pendingProps,h=s.context,c=t.contextType,typeof c=="object"&&c!==null?c=je(c):(c=Ue(t)?mn:Se.current,c=Qn(e,c));var g=t.getDerivedStateFromProps;(d=typeof g=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(u!==p||h!==c)&&Vc(e,s,r,c),Lt=!1,h=e.memoizedState,s.state=h,Mo(e,r,s,i);var v=e.memoizedState;u!==p||h!==v||Fe.current||Lt?(typeof g=="function"&&(Gl(e,t,g,r),v=e.memoizedState),(f=Lt||Uc(e,t,f,r,h,v,c)||!1)?(d||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,v,c),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,v,c)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||u===n.memoizedProps&&h===n.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||u===n.memoizedProps&&h===n.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=v),s.props=r,s.state=v,s.context=c,r=f):(typeof s.componentDidUpdate!="function"||u===n.memoizedProps&&h===n.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||u===n.memoizedProps&&h===n.memoizedState||(e.flags|=1024),r=!1)}return Jl(n,e,t,r,o,i)}function Jl(n,e,t,r,i,o){Eh(n,e);var s=(e.flags&128)!==0;if(!r&&!s)return i&&Pc(e,t,!1),xt(n,e,o);r=e.stateNode,Hv.current=e;var u=s&&typeof t.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,n!==null&&s?(e.child=Zn(e,n.child,null,o),e.child=Zn(e,null,u,o)):Ae(n,e,u,o),e.memoizedState=r.state,i&&Pc(e,t,!0),e.child}function Ih(n){var e=n.stateNode;e.pendingContext?xc(n,e.pendingContext,e.pendingContext!==e.context):e.context&&xc(n,e.context,!1),nu(n,e.containerInfo)}function Hc(n,e,t,r,i){return Xn(),Qa(i),e.flags|=256,Ae(n,e,t,r),e.child}var Kl={dehydrated:null,treeContext:null,retryLane:0};function Yl(n){return{baseLanes:n,cachePool:null,transitions:null}}function Ah(n,e,t){var r=e.pendingProps,i=X.current,o=!1,s=(e.flags&128)!==0,u;if((u=s)||(u=n!==null&&n.memoizedState===null?!1:(i&2)!==0),u?(o=!0,e.flags&=-129):(n===null||n.memoizedState!==null)&&(i|=1),J(X,i&1),n===null)return Bl(e),n=e.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?(e.mode&1?n.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=r.children,n=r.fallback,o?(r=e.mode,o=e.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=as(s,r,0,null),n=hn(n,r,t,null),o.return=e,n.return=e,o.sibling=n,e.child=o,e.child.memoizedState=Yl(t),e.memoizedState=Kl,n):cu(e,s));if(i=n.memoizedState,i!==null&&(u=i.dehydrated,u!==null))return Wv(n,e,s,r,u,i,t);if(o){o=r.fallback,s=e.mode,i=n.child,u=i.sibling;var c={mode:"hidden",children:r.children};return!(s&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=c,e.deletions=null):(r=Jt(i,c),r.subtreeFlags=i.subtreeFlags&14680064),u!==null?o=Jt(u,o):(o=hn(o,s,t,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,s=n.child.memoizedState,s=s===null?Yl(t):{baseLanes:s.baseLanes|t,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=n.childLanes&~t,e.memoizedState=Kl,r}return o=n.child,n=o.sibling,r=Jt(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=t),r.return=e,r.sibling=null,n!==null&&(t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)),e.child=r,e.memoizedState=null,r}function cu(n,e){return e=as({mode:"visible",children:e},n.mode,0,null),e.return=n,n.child=e}function ki(n,e,t,r){return r!==null&&Qa(r),Zn(e,n.child,null,t),n=cu(e,e.pendingProps.children),n.flags|=2,e.memoizedState=null,n}function Wv(n,e,t,r,i,o,s){if(t)return e.flags&256?(e.flags&=-257,r=Zs(Error(x(422))),ki(n,e,s,r)):e.memoizedState!==null?(e.child=n.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=as({mode:"visible",children:r.children},i,0,null),o=hn(o,i,s,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&Zn(e,n.child,null,s),e.child.memoizedState=Yl(s),e.memoizedState=Kl,o);if(!(e.mode&1))return ki(n,e,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var u=r.dgst;return r=u,o=Error(x(419)),r=Zs(o,r,void 0),ki(n,e,s,r)}if(u=(s&n.childLanes)!==0,De||u){if(r=de,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,At(n,i),lt(r,n,i,-1))}return gu(),r=Zs(Error(x(421))),ki(n,e,s,r)}return i.data==="$?"?(e.flags|=128,e.child=n.child,e=i_.bind(null,n),i._reactRetry=e,null):(n=o.treeContext,Ge=Gt(i.nextSibling),ze=e,b=!0,ot=null,n!==null&&(Ye[be++]=Tt,Ye[be++]=wt,Ye[be++]=gn,Tt=n.id,wt=n.overflow,gn=e),e=cu(e,r.children),e.flags|=4096,e)}function Wc(n,e,t){n.lanes|=e;var r=n.alternate;r!==null&&(r.lanes|=e),ql(n.return,e,t)}function js(n,e,t,r,i){var o=n.memoizedState;o===null?n.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:t,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=t,o.tailMode=i)}function xh(n,e,t){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(Ae(n,e,r.children,t),r=X.current,r&2)r=r&1|2,e.flags|=128;else{if(n!==null&&n.flags&128)e:for(n=e.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&Wc(n,t,e);else if(n.tag===19)Wc(n,t,e);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}r&=1}if(J(X,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(t=e.child,i=null;t!==null;)n=t.alternate,n!==null&&ko(n)===null&&(i=t),t=t.sibling;t=i,t===null?(i=e.child,e.child=null):(i=t.sibling,t.sibling=null),js(e,!1,i,t,o);break;case"backwards":for(t=null,i=e.child,e.child=null;i!==null;){if(n=i.alternate,n!==null&&ko(n)===null){e.child=i;break}n=i.sibling,i.sibling=t,t=i,i=n}js(e,!0,t,null,o);break;case"together":js(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function ji(n,e){!(e.mode&1)&&n!==null&&(n.alternate=null,e.alternate=null,e.flags|=2)}function xt(n,e,t){if(n!==null&&(e.dependencies=n.dependencies),vn|=e.lanes,!(t&e.childLanes))return null;if(n!==null&&e.child!==n.child)throw Error(x(153));if(e.child!==null){for(n=e.child,t=Jt(n,n.pendingProps),e.child=t,t.return=e;n.sibling!==null;)n=n.sibling,t=t.sibling=Jt(n,n.pendingProps),t.return=e;t.sibling=null}return e.child}function Jv(n,e,t){switch(e.tag){case 3:Ih(e),Xn();break;case 5:jp(e);break;case 1:Ue(e.type)&&Io(e);break;case 4:nu(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;J(Po,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(J(X,X.current&1),e.flags|=128,null):t&e.child.childLanes?Ah(n,e,t):(J(X,X.current&1),n=xt(n,e,t),n!==null?n.sibling:null);J(X,X.current&1);break;case 19:if(r=(t&e.childLanes)!==0,n.flags&128){if(r)return xh(n,e,t);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),J(X,X.current),r)break;return null;case 22:case 23:return e.lanes=0,Sh(n,e,t)}return xt(n,e,t)}var Ph,bl,Rh,Mh;Ph=function(n,e){for(var t=e.child;t!==null;){if(t.tag===5||t.tag===6)n.appendChild(t.stateNode);else if(t.tag!==4&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return;t=t.return}t.sibling.return=t.return,t=t.sibling}};bl=function(){};Rh=function(n,e,t,r){var i=n.memoizedProps;if(i!==r){n=e.stateNode,cn(gt.current);var o=null;switch(t){case"input":i=yl(n,i),r=yl(n,r),o=[];break;case"select":i=j({},i,{value:void 0}),r=j({},r,{value:void 0}),o=[];break;case"textarea":i=Cl(n,i),r=Cl(n,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(n.onclick=So)}wl(t,r);var s;t=null;for(f in i)if(!r.hasOwnProperty(f)&&i.hasOwnProperty(f)&&i[f]!=null)if(f==="style"){var u=i[f];for(s in u)u.hasOwnProperty(s)&&(t||(t={}),t[s]="")}else f!=="dangerouslySetInnerHTML"&&f!=="children"&&f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&f!=="autoFocus"&&(zr.hasOwnProperty(f)?o||(o=[]):(o=o||[]).push(f,null));for(f in r){var c=r[f];if(u=i!=null?i[f]:void 0,r.hasOwnProperty(f)&&c!==u&&(c!=null||u!=null))if(f==="style")if(u){for(s in u)!u.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(t||(t={}),t[s]="");for(s in c)c.hasOwnProperty(s)&&u[s]!==c[s]&&(t||(t={}),t[s]=c[s])}else t||(o||(o=[]),o.push(f,t)),t=c;else f==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,u=u?u.__html:void 0,c!=null&&u!==c&&(o=o||[]).push(f,c)):f==="children"?typeof c!="string"&&typeof c!="number"||(o=o||[]).push(f,""+c):f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&(zr.hasOwnProperty(f)?(c!=null&&f==="onScroll"&&K("scroll",n),o||u===c||(o=[])):(o=o||[]).push(f,c))}t&&(o=o||[]).push("style",t);var f=o;(e.updateQueue=f)&&(e.flags|=4)}};Mh=function(n,e,t,r){t!==r&&(e.flags|=4)};function mr(n,e){if(!b)switch(n.tailMode){case"hidden":e=n.tail;for(var t=null;e!==null;)e.alternate!==null&&(t=e),e=e.sibling;t===null?n.tail=null:t.sibling=null;break;case"collapsed":t=n.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e||n.tail===null?n.tail=null:n.tail.sibling=null:r.sibling=null}}function Ce(n){var e=n.alternate!==null&&n.alternate.child===n.child,t=0,r=0;if(e)for(var i=n.child;i!==null;)t|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=n,i=i.sibling;else for(i=n.child;i!==null;)t|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=n,i=i.sibling;return n.subtreeFlags|=r,n.childLanes=t,e}function Kv(n,e,t){var r=e.pendingProps;switch(ba(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ce(e),null;case 1:return Ue(e.type)&&Eo(),Ce(e),null;case 3:return r=e.stateNode,jn(),Y(Fe),Y(Se),iu(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(n===null||n.child===null)&&(Ri(e)?e.flags|=4:n===null||n.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,ot!==null&&(ra(ot),ot=null))),bl(n,e),Ce(e),null;case 5:ru(e);var i=cn(ti.current);if(t=e.type,n!==null&&e.stateNode!=null)Rh(n,e,t,r,i),n.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(x(166));return Ce(e),null}if(n=cn(gt.current),Ri(e)){r=e.stateNode,t=e.type;var o=e.memoizedProps;switch(r[pt]=e,r[jr]=o,n=(e.mode&1)!==0,t){case"dialog":K("cancel",r),K("close",r);break;case"iframe":case"object":case"embed":K("load",r);break;case"video":case"audio":for(i=0;i<Tr.length;i++)K(Tr[i],r);break;case"source":K("error",r);break;case"img":case"image":case"link":K("error",r),K("load",r);break;case"details":K("toggle",r);break;case"input":ec(r,o),K("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},K("invalid",r);break;case"textarea":nc(r,o),K("invalid",r)}wl(t,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var u=o[s];s==="children"?typeof u=="string"?r.textContent!==u&&(o.suppressHydrationWarning!==!0&&Pi(r.textContent,u,n),i=["children",u]):typeof u=="number"&&r.textContent!==""+u&&(o.suppressHydrationWarning!==!0&&Pi(r.textContent,u,n),i=["children",""+u]):zr.hasOwnProperty(s)&&u!=null&&s==="onScroll"&&K("scroll",r)}switch(t){case"input":Ci(r),tc(r,o,!0);break;case"textarea":Ci(r),rc(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=So)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=ip(t)),n==="http://www.w3.org/1999/xhtml"?t==="script"?(n=s.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof r.is=="string"?n=s.createElement(t,{is:r.is}):(n=s.createElement(t),t==="select"&&(s=n,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):n=s.createElementNS(n,t),n[pt]=e,n[jr]=r,Ph(n,e,!1,!1),e.stateNode=n;e:{switch(s=Sl(t,r),t){case"dialog":K("cancel",n),K("close",n),i=r;break;case"iframe":case"object":case"embed":K("load",n),i=r;break;case"video":case"audio":for(i=0;i<Tr.length;i++)K(Tr[i],n);i=r;break;case"source":K("error",n),i=r;break;case"img":case"image":case"link":K("error",n),K("load",n),i=r;break;case"details":K("toggle",n),i=r;break;case"input":ec(n,r),i=yl(n,r),K("invalid",n);break;case"option":i=r;break;case"select":n._wrapperState={wasMultiple:!!r.multiple},i=j({},r,{value:void 0}),K("invalid",n);break;case"textarea":nc(n,r),i=Cl(n,r),K("invalid",n);break;default:i=r}wl(t,i),u=i;for(o in u)if(u.hasOwnProperty(o)){var c=u[o];o==="style"?lp(n,c):o==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&op(n,c)):o==="children"?typeof c=="string"?(t!=="textarea"||c!=="")&&Hr(n,c):typeof c=="number"&&Hr(n,""+c):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(zr.hasOwnProperty(o)?c!=null&&o==="onScroll"&&K("scroll",n):c!=null&&La(n,o,c,s))}switch(t){case"input":Ci(n),tc(n,r,!1);break;case"textarea":Ci(n),rc(n);break;case"option":r.value!=null&&n.setAttribute("value",""+Kt(r.value));break;case"select":n.multiple=!!r.multiple,o=r.value,o!=null?zn(n,!!r.multiple,o,!1):r.defaultValue!=null&&zn(n,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(n.onclick=So)}switch(t){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Ce(e),null;case 6:if(n&&e.stateNode!=null)Mh(n,e,n.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(x(166));if(t=cn(ti.current),cn(gt.current),Ri(e)){if(r=e.stateNode,t=e.memoizedProps,r[pt]=e,(o=r.nodeValue!==t)&&(n=ze,n!==null))switch(n.tag){case 3:Pi(r.nodeValue,t,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&Pi(r.nodeValue,t,(n.mode&1)!==0)}o&&(e.flags|=4)}else r=(t.nodeType===9?t:t.ownerDocument).createTextNode(r),r[pt]=e,e.stateNode=r}return Ce(e),null;case 13:if(Y(X),r=e.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(b&&Ge!==null&&e.mode&1&&!(e.flags&128))Yp(),Xn(),e.flags|=98560,o=!1;else if(o=Ri(e),r!==null&&r.dehydrated!==null){if(n===null){if(!o)throw Error(x(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(x(317));o[pt]=e}else Xn(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ce(e),o=!1}else ot!==null&&(ra(ot),ot=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=t,e):(r=r!==null,r!==(n!==null&&n.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(n===null||X.current&1?ae===0&&(ae=3):gu())),e.updateQueue!==null&&(e.flags|=4),Ce(e),null);case 4:return jn(),bl(n,e),n===null&&Xr(e.stateNode.containerInfo),Ce(e),null;case 10:return ja(e.type._context),Ce(e),null;case 17:return Ue(e.type)&&Eo(),Ce(e),null;case 19:if(Y(X),o=e.memoizedState,o===null)return Ce(e),null;if(r=(e.flags&128)!==0,s=o.rendering,s===null)if(r)mr(o,!1);else{if(ae!==0||n!==null&&n.flags&128)for(n=e.child;n!==null;){if(s=ko(n),s!==null){for(e.flags|=128,mr(o,!1),r=s.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=t,t=e.child;t!==null;)o=t,n=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=n,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,n=s.dependencies,o.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t=t.sibling;return J(X,X.current&1|2),e.child}n=n.sibling}o.tail!==null&&ne()>tr&&(e.flags|=128,r=!0,mr(o,!1),e.lanes=4194304)}else{if(!r)if(n=ko(s),n!==null){if(e.flags|=128,r=!0,t=n.updateQueue,t!==null&&(e.updateQueue=t,e.flags|=4),mr(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!b)return Ce(e),null}else 2*ne()-o.renderingStartTime>tr&&t!==1073741824&&(e.flags|=128,r=!0,mr(o,!1),e.lanes=4194304);o.isBackwards?(s.sibling=e.child,e.child=s):(t=o.last,t!==null?t.sibling=s:e.child=s,o.last=s)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=ne(),e.sibling=null,t=X.current,J(X,r?t&1|2:t&1),e):(Ce(e),null);case 22:case 23:return mu(),r=e.memoizedState!==null,n!==null&&n.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?qe&1073741824&&(Ce(e),e.subtreeFlags&6&&(e.flags|=8192)):Ce(e),null;case 24:return null;case 25:return null}throw Error(x(156,e.tag))}function Yv(n,e){switch(ba(e),e.tag){case 1:return Ue(e.type)&&Eo(),n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 3:return jn(),Y(Fe),Y(Se),iu(),n=e.flags,n&65536&&!(n&128)?(e.flags=n&-65537|128,e):null;case 5:return ru(e),null;case 13:if(Y(X),n=e.memoizedState,n!==null&&n.dehydrated!==null){if(e.alternate===null)throw Error(x(340));Xn()}return n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 19:return Y(X),null;case 4:return jn(),null;case 10:return ja(e.type._context),null;case 22:case 23:return mu(),null;case 24:return null;default:return null}}var Ni=!1,we=!1,bv=typeof WeakSet=="function"?WeakSet:Set,k=null;function Bn(n,e){var t=n.ref;if(t!==null)if(typeof t=="function")try{t(null)}catch(r){ee(n,e,r)}else t.current=null}function Ql(n,e,t){try{t()}catch(r){ee(n,e,r)}}var Jc=!1;function Qv(n,e){if(Dl=Co,n=Fp(),Ka(n)){if("selectionStart"in n)var t={start:n.selectionStart,end:n.selectionEnd};else e:{t=(t=n.ownerDocument)&&t.defaultView||window;var r=t.getSelection&&t.getSelection();if(r&&r.rangeCount!==0){t=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{t.nodeType,o.nodeType}catch{t=null;break e}var s=0,u=-1,c=-1,f=0,d=0,p=n,h=null;t:for(;;){for(var g;p!==t||i!==0&&p.nodeType!==3||(u=s+i),p!==o||r!==0&&p.nodeType!==3||(c=s+r),p.nodeType===3&&(s+=p.nodeValue.length),(g=p.firstChild)!==null;)h=p,p=g;for(;;){if(p===n)break t;if(h===t&&++f===i&&(u=s),h===o&&++d===r&&(c=s),(g=p.nextSibling)!==null)break;p=h,h=p.parentNode}p=g}t=u===-1||c===-1?null:{start:u,end:c}}else t=null}t=t||{start:0,end:0}}else t=null;for(Ll={focusedElem:n,selectionRange:t},Co=!1,k=e;k!==null;)if(e=k,n=e.child,(e.subtreeFlags&1028)!==0&&n!==null)n.return=e,k=n;else for(;k!==null;){e=k;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var C=v.memoizedProps,S=v.memoizedState,_=e.stateNode,m=_.getSnapshotBeforeUpdate(e.elementType===e.type?C:nt(e.type,C),S);_.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var y=e.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(x(163))}}catch(T){ee(e,e.return,T)}if(n=e.sibling,n!==null){n.return=e.return,k=n;break}k=e.return}return v=Jc,Jc=!1,v}function Vr(n,e,t){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&n)===n){var o=i.destroy;i.destroy=void 0,o!==void 0&&Ql(e,t,o)}i=i.next}while(i!==r)}}function ss(n,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var t=e=e.next;do{if((t.tag&n)===n){var r=t.create;t.destroy=r()}t=t.next}while(t!==e)}}function Xl(n){var e=n.ref;if(e!==null){var t=n.stateNode;switch(n.tag){case 5:n=t;break;default:n=t}typeof e=="function"?e(n):e.current=n}}function kh(n){var e=n.alternate;e!==null&&(n.alternate=null,kh(e)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(e=n.stateNode,e!==null&&(delete e[pt],delete e[jr],delete e[Vl],delete e[Nv],delete e[Dv])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function Nh(n){return n.tag===5||n.tag===3||n.tag===4}function Kc(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||Nh(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Zl(n,e,t){var r=n.tag;if(r===5||r===6)n=n.stateNode,e?t.nodeType===8?t.parentNode.insertBefore(n,e):t.insertBefore(n,e):(t.nodeType===8?(e=t.parentNode,e.insertBefore(n,t)):(e=t,e.appendChild(n)),t=t._reactRootContainer,t!=null||e.onclick!==null||(e.onclick=So));else if(r!==4&&(n=n.child,n!==null))for(Zl(n,e,t),n=n.sibling;n!==null;)Zl(n,e,t),n=n.sibling}function jl(n,e,t){var r=n.tag;if(r===5||r===6)n=n.stateNode,e?t.insertBefore(n,e):t.appendChild(n);else if(r!==4&&(n=n.child,n!==null))for(jl(n,e,t),n=n.sibling;n!==null;)jl(n,e,t),n=n.sibling}var pe=null,it=!1;function Mt(n,e,t){for(t=t.child;t!==null;)Dh(n,e,t),t=t.sibling}function Dh(n,e,t){if(mt&&typeof mt.onCommitFiberUnmount=="function")try{mt.onCommitFiberUnmount(Zo,t)}catch{}switch(t.tag){case 5:we||Bn(t,e);case 6:var r=pe,i=it;pe=null,Mt(n,e,t),pe=r,it=i,pe!==null&&(it?(n=pe,t=t.stateNode,n.nodeType===8?n.parentNode.removeChild(t):n.removeChild(t)):pe.removeChild(t.stateNode));break;case 18:pe!==null&&(it?(n=pe,t=t.stateNode,n.nodeType===8?Js(n.parentNode,t):n.nodeType===1&&Js(n,t),Yr(n)):Js(pe,t.stateNode));break;case 4:r=pe,i=it,pe=t.stateNode.containerInfo,it=!0,Mt(n,e,t),pe=r,it=i;break;case 0:case 11:case 14:case 15:if(!we&&(r=t.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&Ql(t,e,s),i=i.next}while(i!==r)}Mt(n,e,t);break;case 1:if(!we&&(Bn(t,e),r=t.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=t.memoizedProps,r.state=t.memoizedState,r.componentWillUnmount()}catch(u){ee(t,e,u)}Mt(n,e,t);break;case 21:Mt(n,e,t);break;case 22:t.mode&1?(we=(r=we)||t.memoizedState!==null,Mt(n,e,t),we=r):Mt(n,e,t);break;default:Mt(n,e,t)}}function Yc(n){var e=n.updateQueue;if(e!==null){n.updateQueue=null;var t=n.stateNode;t===null&&(t=n.stateNode=new bv),e.forEach(function(r){var i=o_.bind(null,n,r);t.has(r)||(t.add(r),r.then(i,i))})}}function tt(n,e){var t=e.deletions;if(t!==null)for(var r=0;r<t.length;r++){var i=t[r];try{var o=n,s=e,u=s;e:for(;u!==null;){switch(u.tag){case 5:pe=u.stateNode,it=!1;break e;case 3:pe=u.stateNode.containerInfo,it=!0;break e;case 4:pe=u.stateNode.containerInfo,it=!0;break e}u=u.return}if(pe===null)throw Error(x(160));Dh(o,s,i),pe=null,it=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(f){ee(i,e,f)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Lh(e,n),e=e.sibling}function Lh(n,e){var t=n.alternate,r=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(tt(e,n),ut(n),r&4){try{Vr(3,n,n.return),ss(3,n)}catch(C){ee(n,n.return,C)}try{Vr(5,n,n.return)}catch(C){ee(n,n.return,C)}}break;case 1:tt(e,n),ut(n),r&512&&t!==null&&Bn(t,t.return);break;case 5:if(tt(e,n),ut(n),r&512&&t!==null&&Bn(t,t.return),n.flags&32){var i=n.stateNode;try{Hr(i,"")}catch(C){ee(n,n.return,C)}}if(r&4&&(i=n.stateNode,i!=null)){var o=n.memoizedProps,s=t!==null?t.memoizedProps:o,u=n.type,c=n.updateQueue;if(n.updateQueue=null,c!==null)try{u==="input"&&o.type==="radio"&&o.name!=null&&np(i,o),Sl(u,s);var f=Sl(u,o);for(s=0;s<c.length;s+=2){var d=c[s],p=c[s+1];d==="style"?lp(i,p):d==="dangerouslySetInnerHTML"?op(i,p):d==="children"?Hr(i,p):La(i,d,p,f)}switch(u){case"input":vl(i,o);break;case"textarea":rp(i,o);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var g=o.value;g!=null?zn(i,!!o.multiple,g,!1):h!==!!o.multiple&&(o.defaultValue!=null?zn(i,!!o.multiple,o.defaultValue,!0):zn(i,!!o.multiple,o.multiple?[]:"",!1))}i[jr]=o}catch(C){ee(n,n.return,C)}}break;case 6:if(tt(e,n),ut(n),r&4){if(n.stateNode===null)throw Error(x(162));i=n.stateNode,o=n.memoizedProps;try{i.nodeValue=o}catch(C){ee(n,n.return,C)}}break;case 3:if(tt(e,n),ut(n),r&4&&t!==null&&t.memoizedState.isDehydrated)try{Yr(e.containerInfo)}catch(C){ee(n,n.return,C)}break;case 4:tt(e,n),ut(n);break;case 13:tt(e,n),ut(n),i=n.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(pu=ne())),r&4&&Yc(n);break;case 22:if(d=t!==null&&t.memoizedState!==null,n.mode&1?(we=(f=we)||d,tt(e,n),we=f):tt(e,n),ut(n),r&8192){if(f=n.memoizedState!==null,(n.stateNode.isHidden=f)&&!d&&n.mode&1)for(k=n,d=n.child;d!==null;){for(p=k=d;k!==null;){switch(h=k,g=h.child,h.tag){case 0:case 11:case 14:case 15:Vr(4,h,h.return);break;case 1:Bn(h,h.return);var v=h.stateNode;if(typeof v.componentWillUnmount=="function"){r=h,t=h.return;try{e=r,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(C){ee(r,t,C)}}break;case 5:Bn(h,h.return);break;case 22:if(h.memoizedState!==null){Qc(p);continue}}g!==null?(g.return=h,k=g):Qc(p)}d=d.sibling}e:for(d=null,p=n;;){if(p.tag===5){if(d===null){d=p;try{i=p.stateNode,f?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(u=p.stateNode,c=p.memoizedProps.style,s=c!=null&&c.hasOwnProperty("display")?c.display:null,u.style.display=sp("display",s))}catch(C){ee(n,n.return,C)}}}else if(p.tag===6){if(d===null)try{p.stateNode.nodeValue=f?"":p.memoizedProps}catch(C){ee(n,n.return,C)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===n)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===n)break e;for(;p.sibling===null;){if(p.return===null||p.return===n)break e;d===p&&(d=null),p=p.return}d===p&&(d=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:tt(e,n),ut(n),r&4&&Yc(n);break;case 21:break;default:tt(e,n),ut(n)}}function ut(n){var e=n.flags;if(e&2){try{e:{for(var t=n.return;t!==null;){if(Nh(t)){var r=t;break e}t=t.return}throw Error(x(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Hr(i,""),r.flags&=-33);var o=Kc(n);jl(n,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,u=Kc(n);Zl(n,u,s);break;default:throw Error(x(161))}}catch(c){ee(n,n.return,c)}n.flags&=-3}e&4096&&(n.flags&=-4097)}function Xv(n,e,t){k=n,Fh(n)}function Fh(n,e,t){for(var r=(n.mode&1)!==0;k!==null;){var i=k,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||Ni;if(!s){var u=i.alternate,c=u!==null&&u.memoizedState!==null||we;u=Ni;var f=we;if(Ni=s,(we=c)&&!f)for(k=i;k!==null;)s=k,c=s.child,s.tag===22&&s.memoizedState!==null?Xc(i):c!==null?(c.return=s,k=c):Xc(i);for(;o!==null;)k=o,Fh(o),o=o.sibling;k=i,Ni=u,we=f}bc(n)}else i.subtreeFlags&8772&&o!==null?(o.return=i,k=o):bc(n)}}function bc(n){for(;k!==null;){var e=k;if(e.flags&8772){var t=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:we||ss(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!we)if(t===null)r.componentDidMount();else{var i=e.elementType===e.type?t.memoizedProps:nt(e.type,t.memoizedProps);r.componentDidUpdate(i,t.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&Dc(e,o,r);break;case 3:var s=e.updateQueue;if(s!==null){if(t=null,e.child!==null)switch(e.child.tag){case 5:t=e.child.stateNode;break;case 1:t=e.child.stateNode}Dc(e,s,t)}break;case 5:var u=e.stateNode;if(t===null&&e.flags&4){t=u;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&t.focus();break;case"img":c.src&&(t.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var f=e.alternate;if(f!==null){var d=f.memoizedState;if(d!==null){var p=d.dehydrated;p!==null&&Yr(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(x(163))}we||e.flags&512&&Xl(e)}catch(h){ee(e,e.return,h)}}if(e===n){k=null;break}if(t=e.sibling,t!==null){t.return=e.return,k=t;break}k=e.return}}function Qc(n){for(;k!==null;){var e=k;if(e===n){k=null;break}var t=e.sibling;if(t!==null){t.return=e.return,k=t;break}k=e.return}}function Xc(n){for(;k!==null;){var e=k;try{switch(e.tag){case 0:case 11:case 15:var t=e.return;try{ss(4,e)}catch(c){ee(e,t,c)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(c){ee(e,i,c)}}var o=e.return;try{Xl(e)}catch(c){ee(e,o,c)}break;case 5:var s=e.return;try{Xl(e)}catch(c){ee(e,s,c)}}}catch(c){ee(e,e.return,c)}if(e===n){k=null;break}var u=e.sibling;if(u!==null){u.return=e.return,k=u;break}k=e.return}}var Zv=Math.ceil,Lo=Pt.ReactCurrentDispatcher,fu=Pt.ReactCurrentOwner,Ze=Pt.ReactCurrentBatchConfig,H=0,de=null,re=null,ge=0,qe=0,qn=Qt(0),ae=0,oi=null,vn=0,ls=0,du=0,$r=null,Ne=null,pu=0,tr=1/0,_t=null,Fo=!1,ea=null,Ht=null,Di=!1,$t=null,Uo=0,Or=0,ta=null,eo=-1,to=0;function xe(){return H&6?ne():eo!==-1?eo:eo=ne()}function Wt(n){return n.mode&1?H&2&&ge!==0?ge&-ge:Fv.transition!==null?(to===0&&(to=_p()),to):(n=W,n!==0||(n=window.event,n=n===void 0?16:Ap(n.type)),n):1}function lt(n,e,t,r){if(50<Or)throw Or=0,ta=null,Error(x(185));ai(n,t,r),(!(H&2)||n!==de)&&(n===de&&(!(H&2)&&(ls|=t),ae===4&&Ut(n,ge)),Ve(n,r),t===1&&H===0&&!(e.mode&1)&&(tr=ne()+500,rs&&Xt()))}function Ve(n,e){var t=n.callbackNode;Fy(n,e);var r=_o(n,n===de?ge:0);if(r===0)t!==null&&sc(t),n.callbackNode=null,n.callbackPriority=0;else if(e=r&-r,n.callbackPriority!==e){if(t!=null&&sc(t),e===1)n.tag===0?Lv(Zc.bind(null,n)):Wp(Zc.bind(null,n)),Mv(function(){!(H&6)&&Xt()}),t=null;else{switch(Cp(r)){case 1:t=Oa;break;case 4:t=yp;break;case 16:t=vo;break;case 536870912:t=vp;break;default:t=vo}t=zh(t,Uh.bind(null,n))}n.callbackPriority=e,n.callbackNode=t}}function Uh(n,e){if(eo=-1,to=0,H&6)throw Error(x(327));var t=n.callbackNode;if(Yn()&&n.callbackNode!==t)return null;var r=_o(n,n===de?ge:0);if(r===0)return null;if(r&30||r&n.expiredLanes||e)e=Vo(n,r);else{e=r;var i=H;H|=2;var o=$h();(de!==n||ge!==e)&&(_t=null,tr=ne()+500,pn(n,e));do try{t_();break}catch(u){Vh(n,u)}while(!0);Za(),Lo.current=o,H=i,re!==null?e=0:(de=null,ge=0,e=ae)}if(e!==0){if(e===2&&(i=Pl(n),i!==0&&(r=i,e=na(n,i))),e===1)throw t=oi,pn(n,0),Ut(n,r),Ve(n,ne()),t;if(e===6)Ut(n,r);else{if(i=n.current.alternate,!(r&30)&&!jv(i)&&(e=Vo(n,r),e===2&&(o=Pl(n),o!==0&&(r=o,e=na(n,o))),e===1))throw t=oi,pn(n,0),Ut(n,r),Ve(n,ne()),t;switch(n.finishedWork=i,n.finishedLanes=r,e){case 0:case 1:throw Error(x(345));case 2:on(n,Ne,_t);break;case 3:if(Ut(n,r),(r&130023424)===r&&(e=pu+500-ne(),10<e)){if(_o(n,0)!==0)break;if(i=n.suspendedLanes,(i&r)!==r){xe(),n.pingedLanes|=n.suspendedLanes&i;break}n.timeoutHandle=Ul(on.bind(null,n,Ne,_t),e);break}on(n,Ne,_t);break;case 4:if(Ut(n,r),(r&4194240)===r)break;for(e=n.eventTimes,i=-1;0<r;){var s=31-st(r);o=1<<s,s=e[s],s>i&&(i=s),r&=~o}if(r=i,r=ne()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Zv(r/1960))-r,10<r){n.timeoutHandle=Ul(on.bind(null,n,Ne,_t),r);break}on(n,Ne,_t);break;case 5:on(n,Ne,_t);break;default:throw Error(x(329))}}}return Ve(n,ne()),n.callbackNode===t?Uh.bind(null,n):null}function na(n,e){var t=$r;return n.current.memoizedState.isDehydrated&&(pn(n,e).flags|=256),n=Vo(n,e),n!==2&&(e=Ne,Ne=t,e!==null&&ra(e)),n}function ra(n){Ne===null?Ne=n:Ne.push.apply(Ne,n)}function jv(n){for(var e=n;;){if(e.flags&16384){var t=e.updateQueue;if(t!==null&&(t=t.stores,t!==null))for(var r=0;r<t.length;r++){var i=t[r],o=i.getSnapshot;i=i.value;try{if(!at(o(),i))return!1}catch{return!1}}}if(t=e.child,e.subtreeFlags&16384&&t!==null)t.return=e,e=t;else{if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ut(n,e){for(e&=~du,e&=~ls,n.suspendedLanes|=e,n.pingedLanes&=~e,n=n.expirationTimes;0<e;){var t=31-st(e),r=1<<t;n[t]=-1,e&=~r}}function Zc(n){if(H&6)throw Error(x(327));Yn();var e=_o(n,0);if(!(e&1))return Ve(n,ne()),null;var t=Vo(n,e);if(n.tag!==0&&t===2){var r=Pl(n);r!==0&&(e=r,t=na(n,r))}if(t===1)throw t=oi,pn(n,0),Ut(n,e),Ve(n,ne()),t;if(t===6)throw Error(x(345));return n.finishedWork=n.current.alternate,n.finishedLanes=e,on(n,Ne,_t),Ve(n,ne()),null}function hu(n,e){var t=H;H|=1;try{return n(e)}finally{H=t,H===0&&(tr=ne()+500,rs&&Xt())}}function _n(n){$t!==null&&$t.tag===0&&!(H&6)&&Yn();var e=H;H|=1;var t=Ze.transition,r=W;try{if(Ze.transition=null,W=1,n)return n()}finally{W=r,Ze.transition=t,H=e,!(H&6)&&Xt()}}function mu(){qe=qn.current,Y(qn)}function pn(n,e){n.finishedWork=null,n.finishedLanes=0;var t=n.timeoutHandle;if(t!==-1&&(n.timeoutHandle=-1,Rv(t)),re!==null)for(t=re.return;t!==null;){var r=t;switch(ba(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Eo();break;case 3:jn(),Y(Fe),Y(Se),iu();break;case 5:ru(r);break;case 4:jn();break;case 13:Y(X);break;case 19:Y(X);break;case 10:ja(r.type._context);break;case 22:case 23:mu()}t=t.return}if(de=n,re=n=Jt(n.current,null),ge=qe=e,ae=0,oi=null,du=ls=vn=0,Ne=$r=null,un!==null){for(e=0;e<un.length;e++)if(t=un[e],r=t.interleaved,r!==null){t.interleaved=null;var i=r.next,o=t.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}t.pending=r}un=null}return n}function Vh(n,e){do{var t=re;try{if(Za(),Xi.current=Do,No){for(var r=Z.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}No=!1}if(yn=0,fe=le=Z=null,Ur=!1,ni=0,fu.current=null,t===null||t.return===null){ae=1,oi=e,re=null;break}e:{var o=n,s=t.return,u=t,c=e;if(e=ge,u.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var f=c,d=u,p=d.tag;if(!(d.mode&1)&&(p===0||p===11||p===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var g=Oc(s);if(g!==null){g.flags&=-257,Bc(g,s,u,o,e),g.mode&1&&$c(o,f,e),e=g,c=f;var v=e.updateQueue;if(v===null){var C=new Set;C.add(c),e.updateQueue=C}else v.add(c);break e}else{if(!(e&1)){$c(o,f,e),gu();break e}c=Error(x(426))}}else if(b&&u.mode&1){var S=Oc(s);if(S!==null){!(S.flags&65536)&&(S.flags|=256),Bc(S,s,u,o,e),Qa(er(c,u));break e}}o=c=er(c,u),ae!==4&&(ae=2),$r===null?$r=[o]:$r.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var _=Ch(o,c,e);Nc(o,_);break e;case 1:u=c;var m=o.type,y=o.stateNode;if(!(o.flags&128)&&(typeof m.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Ht===null||!Ht.has(y)))){o.flags|=65536,e&=-e,o.lanes|=e;var T=Th(o,u,e);Nc(o,T);break e}}o=o.return}while(o!==null)}Bh(t)}catch(E){e=E,re===t&&t!==null&&(re=t=t.return);continue}break}while(!0)}function $h(){var n=Lo.current;return Lo.current=Do,n===null?Do:n}function gu(){(ae===0||ae===3||ae===2)&&(ae=4),de===null||!(vn&268435455)&&!(ls&268435455)||Ut(de,ge)}function Vo(n,e){var t=H;H|=2;var r=$h();(de!==n||ge!==e)&&(_t=null,pn(n,e));do try{e_();break}catch(i){Vh(n,i)}while(!0);if(Za(),H=t,Lo.current=r,re!==null)throw Error(x(261));return de=null,ge=0,ae}function e_(){for(;re!==null;)Oh(re)}function t_(){for(;re!==null&&!Ay();)Oh(re)}function Oh(n){var e=Gh(n.alternate,n,qe);n.memoizedProps=n.pendingProps,e===null?Bh(n):re=e,fu.current=null}function Bh(n){var e=n;do{var t=e.alternate;if(n=e.return,e.flags&32768){if(t=Yv(t,e),t!==null){t.flags&=32767,re=t;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{ae=6,re=null;return}}else if(t=Kv(t,e,qe),t!==null){re=t;return}if(e=e.sibling,e!==null){re=e;return}re=e=n}while(e!==null);ae===0&&(ae=5)}function on(n,e,t){var r=W,i=Ze.transition;try{Ze.transition=null,W=1,n_(n,e,t,r)}finally{Ze.transition=i,W=r}return null}function n_(n,e,t,r){do Yn();while($t!==null);if(H&6)throw Error(x(327));t=n.finishedWork;var i=n.finishedLanes;if(t===null)return null;if(n.finishedWork=null,n.finishedLanes=0,t===n.current)throw Error(x(177));n.callbackNode=null,n.callbackPriority=0;var o=t.lanes|t.childLanes;if(Uy(n,o),n===de&&(re=de=null,ge=0),!(t.subtreeFlags&2064)&&!(t.flags&2064)||Di||(Di=!0,zh(vo,function(){return Yn(),null})),o=(t.flags&15990)!==0,t.subtreeFlags&15990||o){o=Ze.transition,Ze.transition=null;var s=W;W=1;var u=H;H|=4,fu.current=null,Qv(n,t),Lh(t,n),wv(Ll),Co=!!Dl,Ll=Dl=null,n.current=t,Xv(t),xy(),H=u,W=s,Ze.transition=o}else n.current=t;if(Di&&(Di=!1,$t=n,Uo=i),o=n.pendingLanes,o===0&&(Ht=null),My(t.stateNode),Ve(n,ne()),e!==null)for(r=n.onRecoverableError,t=0;t<e.length;t++)i=e[t],r(i.value,{componentStack:i.stack,digest:i.digest});if(Fo)throw Fo=!1,n=ea,ea=null,n;return Uo&1&&n.tag!==0&&Yn(),o=n.pendingLanes,o&1?n===ta?Or++:(Or=0,ta=n):Or=0,Xt(),null}function Yn(){if($t!==null){var n=Cp(Uo),e=Ze.transition,t=W;try{if(Ze.transition=null,W=16>n?16:n,$t===null)var r=!1;else{if(n=$t,$t=null,Uo=0,H&6)throw Error(x(331));var i=H;for(H|=4,k=n.current;k!==null;){var o=k,s=o.child;if(k.flags&16){var u=o.deletions;if(u!==null){for(var c=0;c<u.length;c++){var f=u[c];for(k=f;k!==null;){var d=k;switch(d.tag){case 0:case 11:case 15:Vr(8,d,o)}var p=d.child;if(p!==null)p.return=d,k=p;else for(;k!==null;){d=k;var h=d.sibling,g=d.return;if(kh(d),d===f){k=null;break}if(h!==null){h.return=g,k=h;break}k=g}}}var v=o.alternate;if(v!==null){var C=v.child;if(C!==null){v.child=null;do{var S=C.sibling;C.sibling=null,C=S}while(C!==null)}}k=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,k=s;else e:for(;k!==null;){if(o=k,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Vr(9,o,o.return)}var _=o.sibling;if(_!==null){_.return=o.return,k=_;break e}k=o.return}}var m=n.current;for(k=m;k!==null;){s=k;var y=s.child;if(s.subtreeFlags&2064&&y!==null)y.return=s,k=y;else e:for(s=m;k!==null;){if(u=k,u.flags&2048)try{switch(u.tag){case 0:case 11:case 15:ss(9,u)}}catch(E){ee(u,u.return,E)}if(u===s){k=null;break e}var T=u.sibling;if(T!==null){T.return=u.return,k=T;break e}k=u.return}}if(H=i,Xt(),mt&&typeof mt.onPostCommitFiberRoot=="function")try{mt.onPostCommitFiberRoot(Zo,n)}catch{}r=!0}return r}finally{W=t,Ze.transition=e}}return!1}function jc(n,e,t){e=er(t,e),e=Ch(n,e,1),n=zt(n,e,1),e=xe(),n!==null&&(ai(n,1,e),Ve(n,e))}function ee(n,e,t){if(n.tag===3)jc(n,n,t);else for(;e!==null;){if(e.tag===3){jc(e,n,t);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ht===null||!Ht.has(r))){n=er(t,n),n=Th(e,n,1),e=zt(e,n,1),n=xe(),e!==null&&(ai(e,1,n),Ve(e,n));break}}e=e.return}}function r_(n,e,t){var r=n.pingCache;r!==null&&r.delete(e),e=xe(),n.pingedLanes|=n.suspendedLanes&t,de===n&&(ge&t)===t&&(ae===4||ae===3&&(ge&130023424)===ge&&500>ne()-pu?pn(n,0):du|=t),Ve(n,e)}function qh(n,e){e===0&&(n.mode&1?(e=Si,Si<<=1,!(Si&130023424)&&(Si=4194304)):e=1);var t=xe();n=At(n,e),n!==null&&(ai(n,e,t),Ve(n,t))}function i_(n){var e=n.memoizedState,t=0;e!==null&&(t=e.retryLane),qh(n,t)}function o_(n,e){var t=0;switch(n.tag){case 13:var r=n.stateNode,i=n.memoizedState;i!==null&&(t=i.retryLane);break;case 19:r=n.stateNode;break;default:throw Error(x(314))}r!==null&&r.delete(e),qh(n,t)}var Gh;Gh=function(n,e,t){if(n!==null)if(n.memoizedProps!==e.pendingProps||Fe.current)De=!0;else{if(!(n.lanes&t)&&!(e.flags&128))return De=!1,Jv(n,e,t);De=!!(n.flags&131072)}else De=!1,b&&e.flags&1048576&&Jp(e,xo,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;ji(n,e),n=e.pendingProps;var i=Qn(e,Se.current);Kn(e,t),i=su(null,e,r,n,i,t);var o=lu();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Ue(r)?(o=!0,Io(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,tu(e),i.updater=os,e.stateNode=i,i._reactInternals=e,zl(e,r,n,t),e=Jl(null,e,r,!0,o,t)):(e.tag=0,b&&o&&Ya(e),Ae(null,e,i,t),e=e.child),e;case 16:r=e.elementType;e:{switch(ji(n,e),n=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=l_(r),n=nt(r,n),i){case 0:e=Wl(null,e,r,n,t);break e;case 1:e=zc(null,e,r,n,t);break e;case 11:e=qc(null,e,r,n,t);break e;case 14:e=Gc(null,e,r,nt(r.type,n),t);break e}throw Error(x(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:nt(r,i),Wl(n,e,r,i,t);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:nt(r,i),zc(n,e,r,i,t);case 3:e:{if(Ih(e),n===null)throw Error(x(387));r=e.pendingProps,o=e.memoizedState,i=o.element,Zp(n,e),Mo(e,r,null,t);var s=e.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=er(Error(x(423)),e),e=Hc(n,e,r,t,i);break e}else if(r!==i){i=er(Error(x(424)),e),e=Hc(n,e,r,t,i);break e}else for(Ge=Gt(e.stateNode.containerInfo.firstChild),ze=e,b=!0,ot=null,t=Qp(e,null,r,t),e.child=t;t;)t.flags=t.flags&-3|4096,t=t.sibling;else{if(Xn(),r===i){e=xt(n,e,t);break e}Ae(n,e,r,t)}e=e.child}return e;case 5:return jp(e),n===null&&Bl(e),r=e.type,i=e.pendingProps,o=n!==null?n.memoizedProps:null,s=i.children,Fl(r,i)?s=null:o!==null&&Fl(r,o)&&(e.flags|=32),Eh(n,e),Ae(n,e,s,t),e.child;case 6:return n===null&&Bl(e),null;case 13:return Ah(n,e,t);case 4:return nu(e,e.stateNode.containerInfo),r=e.pendingProps,n===null?e.child=Zn(e,null,r,t):Ae(n,e,r,t),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:nt(r,i),qc(n,e,r,i,t);case 7:return Ae(n,e,e.pendingProps,t),e.child;case 8:return Ae(n,e,e.pendingProps.children,t),e.child;case 12:return Ae(n,e,e.pendingProps.children,t),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,s=i.value,J(Po,r._currentValue),r._currentValue=s,o!==null)if(at(o.value,s)){if(o.children===i.children&&!Fe.current){e=xt(n,e,t);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var u=o.dependencies;if(u!==null){s=o.child;for(var c=u.firstContext;c!==null;){if(c.context===r){if(o.tag===1){c=St(-1,t&-t),c.tag=2;var f=o.updateQueue;if(f!==null){f=f.shared;var d=f.pending;d===null?c.next=c:(c.next=d.next,d.next=c),f.pending=c}}o.lanes|=t,c=o.alternate,c!==null&&(c.lanes|=t),ql(o.return,t,e),u.lanes|=t;break}c=c.next}}else if(o.tag===10)s=o.type===e.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(x(341));s.lanes|=t,u=s.alternate,u!==null&&(u.lanes|=t),ql(s,t,e),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===e){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}Ae(n,e,i.children,t),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Kn(e,t),i=je(i),r=r(i),e.flags|=1,Ae(n,e,r,t),e.child;case 14:return r=e.type,i=nt(r,e.pendingProps),i=nt(r.type,i),Gc(n,e,r,i,t);case 15:return wh(n,e,e.type,e.pendingProps,t);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:nt(r,i),ji(n,e),e.tag=1,Ue(r)?(n=!0,Io(e)):n=!1,Kn(e,t),_h(e,r,i),zl(e,r,i,t),Jl(null,e,r,!0,n,t);case 19:return xh(n,e,t);case 22:return Sh(n,e,t)}throw Error(x(156,e.tag))};function zh(n,e){return gp(n,e)}function s_(n,e,t,r){this.tag=n,this.key=t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Qe(n,e,t,r){return new s_(n,e,t,r)}function yu(n){return n=n.prototype,!(!n||!n.isReactComponent)}function l_(n){if(typeof n=="function")return yu(n)?1:0;if(n!=null){if(n=n.$$typeof,n===Ua)return 11;if(n===Va)return 14}return 2}function Jt(n,e){var t=n.alternate;return t===null?(t=Qe(n.tag,e,n.key,n.mode),t.elementType=n.elementType,t.type=n.type,t.stateNode=n.stateNode,t.alternate=n,n.alternate=t):(t.pendingProps=e,t.type=n.type,t.flags=0,t.subtreeFlags=0,t.deletions=null),t.flags=n.flags&14680064,t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},t.sibling=n.sibling,t.index=n.index,t.ref=n.ref,t}function no(n,e,t,r,i,o){var s=2;if(r=n,typeof n=="function")yu(n)&&(s=1);else if(typeof n=="string")s=5;else e:switch(n){case kn:return hn(t.children,i,o,e);case Fa:s=8,i|=8;break;case pl:return n=Qe(12,t,e,i|2),n.elementType=pl,n.lanes=o,n;case hl:return n=Qe(13,t,e,i),n.elementType=hl,n.lanes=o,n;case ml:return n=Qe(19,t,e,i),n.elementType=ml,n.lanes=o,n;case jd:return as(t,i,o,e);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case Xd:s=10;break e;case Zd:s=9;break e;case Ua:s=11;break e;case Va:s=14;break e;case Dt:s=16,r=null;break e}throw Error(x(130,n==null?n:typeof n,""))}return e=Qe(s,t,e,i),e.elementType=n,e.type=r,e.lanes=o,e}function hn(n,e,t,r){return n=Qe(7,n,r,e),n.lanes=t,n}function as(n,e,t,r){return n=Qe(22,n,r,e),n.elementType=jd,n.lanes=t,n.stateNode={isHidden:!1},n}function el(n,e,t){return n=Qe(6,n,null,e),n.lanes=t,n}function tl(n,e,t){return e=Qe(4,n.children!==null?n.children:[],n.key,e),e.lanes=t,e.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},e}function a_(n,e,t,r,i){this.tag=e,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Fs(0),this.expirationTimes=Fs(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Fs(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function vu(n,e,t,r,i,o,s,u,c){return n=new a_(n,e,t,u,c),e===1?(e=1,o===!0&&(e|=8)):e=0,o=Qe(3,null,null,e),n.current=o,o.stateNode=n,o.memoizedState={element:r,isDehydrated:t,cache:null,transitions:null,pendingSuspenseBoundaries:null},tu(o),n}function u_(n,e,t){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Mn,key:r==null?null:""+r,children:n,containerInfo:e,implementation:t}}function Hh(n){if(!n)return Yt;n=n._reactInternals;e:{if(wn(n)!==n||n.tag!==1)throw Error(x(170));var e=n;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Ue(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(x(171))}if(n.tag===1){var t=n.type;if(Ue(t))return Hp(n,t,e)}return e}function Wh(n,e,t,r,i,o,s,u,c){return n=vu(t,r,!0,n,i,o,s,u,c),n.context=Hh(null),t=n.current,r=xe(),i=Wt(t),o=St(r,i),o.callback=e??null,zt(t,o,i),n.current.lanes=i,ai(n,i,r),Ve(n,r),n}function us(n,e,t,r){var i=e.current,o=xe(),s=Wt(i);return t=Hh(t),e.context===null?e.context=t:e.pendingContext=t,e=St(o,s),e.payload={element:n},r=r===void 0?null:r,r!==null&&(e.callback=r),n=zt(i,e,s),n!==null&&(lt(n,i,s,o),Qi(n,i,s)),s}function $o(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function ef(n,e){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var t=n.retryLane;n.retryLane=t!==0&&t<e?t:e}}function _u(n,e){ef(n,e),(n=n.alternate)&&ef(n,e)}function c_(){return null}var Jh=typeof reportError=="function"?reportError:function(n){console.error(n)};function Cu(n){this._internalRoot=n}cs.prototype.render=Cu.prototype.render=function(n){var e=this._internalRoot;if(e===null)throw Error(x(409));us(n,e,null,null)};cs.prototype.unmount=Cu.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var e=n.containerInfo;_n(function(){us(null,n,null,null)}),e[It]=null}};function cs(n){this._internalRoot=n}cs.prototype.unstable_scheduleHydration=function(n){if(n){var e=Sp();n={blockedOn:null,target:n,priority:e};for(var t=0;t<Ft.length&&e!==0&&e<Ft[t].priority;t++);Ft.splice(t,0,n),t===0&&Ip(n)}};function Tu(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function fs(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function tf(){}function f_(n,e,t,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var f=$o(s);o.call(f)}}var s=Wh(e,r,n,0,null,!1,!1,"",tf);return n._reactRootContainer=s,n[It]=s.current,Xr(n.nodeType===8?n.parentNode:n),_n(),s}for(;i=n.lastChild;)n.removeChild(i);if(typeof r=="function"){var u=r;r=function(){var f=$o(c);u.call(f)}}var c=vu(n,0,!1,null,null,!1,!1,"",tf);return n._reactRootContainer=c,n[It]=c.current,Xr(n.nodeType===8?n.parentNode:n),_n(function(){us(e,c,t,r)}),c}function ds(n,e,t,r,i){var o=t._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var u=i;i=function(){var c=$o(s);u.call(c)}}us(e,s,n,i)}else s=f_(t,e,n,i,r);return $o(s)}Tp=function(n){switch(n.tag){case 3:var e=n.stateNode;if(e.current.memoizedState.isDehydrated){var t=Cr(e.pendingLanes);t!==0&&(Ba(e,t|1),Ve(e,ne()),!(H&6)&&(tr=ne()+500,Xt()))}break;case 13:_n(function(){var r=At(n,1);if(r!==null){var i=xe();lt(r,n,1,i)}}),_u(n,1)}};qa=function(n){if(n.tag===13){var e=At(n,134217728);if(e!==null){var t=xe();lt(e,n,134217728,t)}_u(n,134217728)}};wp=function(n){if(n.tag===13){var e=Wt(n),t=At(n,e);if(t!==null){var r=xe();lt(t,n,e,r)}_u(n,e)}};Sp=function(){return W};Ep=function(n,e){var t=W;try{return W=n,e()}finally{W=t}};Il=function(n,e,t){switch(e){case"input":if(vl(n,t),e=t.name,t.type==="radio"&&e!=null){for(t=n;t.parentNode;)t=t.parentNode;for(t=t.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<t.length;e++){var r=t[e];if(r!==n&&r.form===n.form){var i=ns(r);if(!i)throw Error(x(90));tp(r),vl(r,i)}}}break;case"textarea":rp(n,t);break;case"select":e=t.value,e!=null&&zn(n,!!t.multiple,e,!1)}};cp=hu;fp=_n;var d_={usingClientEntryPoint:!1,Events:[ci,Fn,ns,ap,up,hu]},gr={findFiberByHostInstance:an,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},p_={bundleType:gr.bundleType,version:gr.version,rendererPackageName:gr.rendererPackageName,rendererConfig:gr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Pt.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=hp(n),n===null?null:n.stateNode},findFiberByHostInstance:gr.findFiberByHostInstance||c_,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Li=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Li.isDisabled&&Li.supportsFiber)try{Zo=Li.inject(p_),mt=Li}catch{}}We.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=d_;We.createPortal=function(n,e){var t=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Tu(e))throw Error(x(200));return u_(n,e,null,t)};We.createRoot=function(n,e){if(!Tu(n))throw Error(x(299));var t=!1,r="",i=Jh;return e!=null&&(e.unstable_strictMode===!0&&(t=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=vu(n,1,!1,null,null,t,!1,r,i),n[It]=e.current,Xr(n.nodeType===8?n.parentNode:n),new Cu(e)};We.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var e=n._reactInternals;if(e===void 0)throw typeof n.render=="function"?Error(x(188)):(n=Object.keys(n).join(","),Error(x(268,n)));return n=hp(e),n=n===null?null:n.stateNode,n};We.flushSync=function(n){return _n(n)};We.hydrate=function(n,e,t){if(!fs(e))throw Error(x(200));return ds(null,n,e,!0,t)};We.hydrateRoot=function(n,e,t){if(!Tu(n))throw Error(x(405));var r=t!=null&&t.hydratedSources||null,i=!1,o="",s=Jh;if(t!=null&&(t.unstable_strictMode===!0&&(i=!0),t.identifierPrefix!==void 0&&(o=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),e=Wh(e,null,n,1,t??null,i,!1,o,s),n[It]=e.current,Xr(n),r)for(n=0;n<r.length;n++)t=r[n],i=t._getVersion,i=i(t._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[t,i]:e.mutableSourceEagerHydrationData.push(t,i);return new cs(e)};We.render=function(n,e,t){if(!fs(e))throw Error(x(200));return ds(null,n,e,!1,t)};We.unmountComponentAtNode=function(n){if(!fs(n))throw Error(x(40));return n._reactRootContainer?(_n(function(){ds(null,null,n,!1,function(){n._reactRootContainer=null,n[It]=null})}),!0):!1};We.unstable_batchedUpdates=hu;We.unstable_renderSubtreeIntoContainer=function(n,e,t,r){if(!fs(t))throw Error(x(200));if(n==null||n._reactInternals===void 0)throw Error(x(38));return ds(n,e,t,!1,r)};We.version="18.3.1-next-f1338f8080-20240426";function Kh(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Kh)}catch(n){console.error(n)}}Kh(),Kd.exports=We;var h_=Kd.exports,nf=h_;Qu.createRoot=nf.createRoot,Qu.hydrateRoot=nf.hydrateRoot;/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let m_,g_;function y_(){return{geminiUrl:m_,vertexUrl:g_}}function v_(n,e,t){var r,i,o;if(!(!((r=n.httpOptions)===null||r===void 0)&&r.baseUrl)){const s=y_();return n.vertexai?(i=s.vertexUrl)!==null&&i!==void 0?i:e:(o=s.geminiUrl)!==null&&o!==void 0?o:t}return n.httpOptions.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class di{}function $(n,e){const t=/\{([^}]+)\}/g;return n.replace(t,(r,i)=>{if(Object.prototype.hasOwnProperty.call(e,i)){const o=e[i];return o!=null?String(o):""}else throw new Error(`Key '${i}' not found in valueMap.`)})}function a(n,e,t){for(let o=0;o<e.length-1;o++){const s=e[o];if(s.endsWith("[]")){const u=s.slice(0,-2);if(!(u in n))if(Array.isArray(t))n[u]=Array.from({length:t.length},()=>({}));else throw new Error(`Value must be a list given an array path ${s}`);if(Array.isArray(n[u])){const c=n[u];if(Array.isArray(t))for(let f=0;f<c.length;f++){const d=c[f];a(d,e.slice(o+1),t[f])}else for(const f of c)a(f,e.slice(o+1),t)}return}else if(s.endsWith("[0]")){const u=s.slice(0,-3);u in n||(n[u]=[{}]);const c=n[u];a(c[0],e.slice(o+1),t);return}(!n[s]||typeof n[s]!="object")&&(n[s]={}),n=n[s]}const r=e[e.length-1],i=n[r];if(i!==void 0){if(!t||typeof t=="object"&&Object.keys(t).length===0||t===i)return;if(typeof i=="object"&&typeof t=="object"&&i!==null&&t!==null)Object.assign(i,t);else throw new Error(`Cannot set value for an existing key. Key: ${r}`)}else n[r]=t}function l(n,e){try{if(e.length===1&&e[0]==="_self")return n;for(let t=0;t<e.length;t++){if(typeof n!="object"||n===null)return;const r=e[t];if(r.endsWith("[]")){const i=r.slice(0,-2);if(i in n){const o=n[i];return Array.isArray(o)?o.map(s=>l(s,e.slice(t+1))):void 0}else return}else n=n[r]}return n}catch(t){if(t instanceof TypeError)return;throw t}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Q(n,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(n.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const t=e.split("/",2);return`publishers/${t[0]}/models/${t[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function Yh(n,e){const t=Q(n,e);return t?t.startsWith("publishers/")&&n.isVertexAI()?`projects/${n.getProject()}/locations/${n.getLocation()}/${t}`:t.startsWith("models/")&&n.isVertexAI()?`projects/${n.getProject()}/locations/${n.getLocation()}/publishers/google/${t}`:t:""}function bh(n,e){return Array.isArray(e)?e.map(t=>Oo(n,t)):[Oo(n,e)]}function Oo(n,e){if(typeof e=="object"&&e!==null)return e;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof e}`)}function __(n,e){const t=Oo(n,e);if(t.mimeType&&t.mimeType.startsWith("image/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function C_(n,e){const t=Oo(n,e);if(t.mimeType&&t.mimeType.startsWith("audio/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function rf(n,e){if(e==null)throw new Error("PartUnion is required");if(typeof e=="object")return e;if(typeof e=="string")return{text:e};throw new Error(`Unsupported part type: ${typeof e}`)}function Qh(n,e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("PartListUnion is required");return Array.isArray(e)?e.map(t=>rf(n,t)):[rf(n,e)]}function ia(n){return n!=null&&typeof n=="object"&&"parts"in n&&Array.isArray(n.parts)}function of(n){return n!=null&&typeof n=="object"&&"functionCall"in n}function sf(n){return n!=null&&typeof n=="object"&&"functionResponse"in n}function Le(n,e){if(e==null)throw new Error("ContentUnion is required");return ia(e)?e:{role:"user",parts:Qh(n,e)}}function Xh(n,e){if(!e)return[];if(n.isVertexAI()&&Array.isArray(e))return e.flatMap(t=>{const r=Le(n,t);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]});if(n.isVertexAI()){const t=Le(n,e);return t.parts&&t.parts.length>0&&t.parts[0].text!==void 0?[t.parts[0].text]:[]}return Array.isArray(e)?e.map(t=>Le(n,t)):[Le(n,e)]}function Zt(n,e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("contents are required");if(!Array.isArray(e)){if(of(e)||sf(e))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[Le(n,e)]}const t=[],r=[],i=ia(e[0]);for(const o of e){const s=ia(o);if(s!=i)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(s)t.push(o);else{if(of(o)||sf(o))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");r.push(o)}}return i||t.push({role:"user",parts:Qh(n,r)}),t}function Zh(n,e){return e}function jh(n,e){if(typeof e=="object")return e;if(typeof e=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:e}}};throw new Error(`Unsupported speechConfig type: ${typeof e}`)}function ps(n,e){return e}function hs(n,e){if(!Array.isArray(e))throw new Error("tool is required and must be an array of Tools");return e}function T_(n,e,t,r=1){const i=!e.startsWith(`${t}/`)&&e.split("/").length===r;return n.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${n.getProject()}/${e}`:e.startsWith(`${t}/`)?`projects/${n.getProject()}/locations/${n.getLocation()}/${e}`:i?`projects/${n.getProject()}/locations/${n.getLocation()}/${t}/${e}`:e:i?`${t}/${e}`:e}function jt(n,e){if(typeof e!="string")throw new Error("name must be a string");return T_(n,e,"cachedContents")}function em(n,e){switch(e){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return e}}function en(n,e){if(typeof e!="string")throw new Error("fromImageBytes must be a string");return e}function w_(n){return n!=null&&typeof n=="object"&&"name"in n}function S_(n){return n!=null&&typeof n=="object"&&"video"in n}function E_(n){return n!=null&&typeof n=="object"&&"uri"in n}function tm(n,e){var t;let r;if(w_(e)&&(r=e.name),!(E_(e)&&(r=e.uri,r===void 0))&&!(S_(e)&&(r=(t=e.video)===null||t===void 0?void 0:t.uri,r===void 0))){if(typeof e=="string"&&(r=e),r===void 0)throw new Error("Could not extract file name from the provided input.");if(r.startsWith("https://")){const o=r.split("files/")[1].match(/[a-z0-9]+/);if(o===null)throw new Error(`Could not extract file name from URI ${r}`);r=o[0]}else r.startsWith("files/")&&(r=r.split("files/")[1]);return r}}function nm(n,e){let t;return n.isVertexAI()?t=e?"publishers/google/models":"models":t=e?"models":"tunedModels",t}function rm(n,e){for(const t of["models","tunedModels","publisherModels"])if(I_(e,t))return e[t];return[]}function I_(n,e){return n!==null&&typeof n=="object"&&e in n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function A_(n,e){const t={};if(l(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=l(e,["data"]);r!=null&&a(t,["data"],r);const i=l(e,["mimeType"]);return i!=null&&a(t,["mimeType"],i),t}function x_(n,e){const t={};if(l(e,["videoMetadata"])!==void 0)throw new Error("videoMetadata parameter is not supported in Gemini API.");const r=l(e,["thought"]);r!=null&&a(t,["thought"],r);const i=l(e,["inlineData"]);i!=null&&a(t,["inlineData"],A_(n,i));const o=l(e,["codeExecutionResult"]);o!=null&&a(t,["codeExecutionResult"],o);const s=l(e,["executableCode"]);s!=null&&a(t,["executableCode"],s);const u=l(e,["fileData"]);u!=null&&a(t,["fileData"],u);const c=l(e,["functionCall"]);c!=null&&a(t,["functionCall"],c);const f=l(e,["functionResponse"]);f!=null&&a(t,["functionResponse"],f);const d=l(e,["text"]);return d!=null&&a(t,["text"],d),t}function lf(n,e){const t={},r=l(e,["parts"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>x_(n,s))),a(t,["parts"],o)}const i=l(e,["role"]);return i!=null&&a(t,["role"],i),t}function P_(){return{}}function R_(n,e){const t={},r=l(e,["mode"]);r!=null&&a(t,["mode"],r);const i=l(e,["dynamicThreshold"]);return i!=null&&a(t,["dynamicThreshold"],i),t}function M_(n,e){const t={},r=l(e,["dynamicRetrievalConfig"]);return r!=null&&a(t,["dynamicRetrievalConfig"],R_(n,r)),t}function k_(n,e){const t={};if(l(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");l(e,["googleSearch"])!=null&&a(t,["googleSearch"],P_());const i=l(e,["googleSearchRetrieval"]);if(i!=null&&a(t,["googleSearchRetrieval"],M_(n,i)),l(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(l(e,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");const o=l(e,["codeExecution"]);o!=null&&a(t,["codeExecution"],o);const s=l(e,["functionDeclarations"]);return s!=null&&a(t,["functionDeclarations"],s),t}function N_(n,e){const t={},r=l(e,["mode"]);r!=null&&a(t,["mode"],r);const i=l(e,["allowedFunctionNames"]);return i!=null&&a(t,["allowedFunctionNames"],i),t}function D_(n,e){const t={},r=l(e,["functionCallingConfig"]);if(r!=null&&a(t,["functionCallingConfig"],N_(n,r)),l(e,["retrievalConfig"])!==void 0)throw new Error("retrievalConfig parameter is not supported in Gemini API.");return t}function L_(n,e,t){const r={},i=l(e,["ttl"]);t!==void 0&&i!=null&&a(t,["ttl"],i);const o=l(e,["expireTime"]);t!==void 0&&o!=null&&a(t,["expireTime"],o);const s=l(e,["displayName"]);t!==void 0&&s!=null&&a(t,["displayName"],s);const u=l(e,["contents"]);if(t!==void 0&&u!=null){let p=Zt(n,u);Array.isArray(p)&&(p=p.map(h=>lf(n,h))),a(t,["contents"],p)}const c=l(e,["systemInstruction"]);t!==void 0&&c!=null&&a(t,["systemInstruction"],lf(n,Le(n,c)));const f=l(e,["tools"]);if(t!==void 0&&f!=null){let p=f;Array.isArray(p)&&(p=p.map(h=>k_(n,h))),a(t,["tools"],p)}const d=l(e,["toolConfig"]);return t!==void 0&&d!=null&&a(t,["toolConfig"],D_(n,d)),r}function F_(n,e){const t={},r=l(e,["model"]);r!=null&&a(t,["model"],Yh(n,r));const i=l(e,["config"]);return i!=null&&a(t,["config"],L_(n,i,t)),t}function U_(n,e){const t={},r=l(e,["name"]);r!=null&&a(t,["_url","name"],jt(n,r));const i=l(e,["config"]);return i!=null&&a(t,["config"],i),t}function V_(n,e){const t={},r=l(e,["name"]);r!=null&&a(t,["_url","name"],jt(n,r));const i=l(e,["config"]);return i!=null&&a(t,["config"],i),t}function $_(n,e,t){const r={},i=l(e,["ttl"]);t!==void 0&&i!=null&&a(t,["ttl"],i);const o=l(e,["expireTime"]);return t!==void 0&&o!=null&&a(t,["expireTime"],o),r}function O_(n,e){const t={},r=l(e,["name"]);r!=null&&a(t,["_url","name"],jt(n,r));const i=l(e,["config"]);return i!=null&&a(t,["config"],$_(n,i,t)),t}function B_(n,e,t){const r={},i=l(e,["pageSize"]);t!==void 0&&i!=null&&a(t,["_query","pageSize"],i);const o=l(e,["pageToken"]);return t!==void 0&&o!=null&&a(t,["_query","pageToken"],o),r}function q_(n,e){const t={},r=l(e,["config"]);return r!=null&&a(t,["config"],B_(n,r,t)),t}function G_(n,e){const t={},r=l(e,["displayName"]);r!=null&&a(t,["displayName"],r);const i=l(e,["data"]);i!=null&&a(t,["data"],i);const o=l(e,["mimeType"]);return o!=null&&a(t,["mimeType"],o),t}function z_(n,e){const t={},r=l(e,["videoMetadata"]);r!=null&&a(t,["videoMetadata"],r);const i=l(e,["thought"]);i!=null&&a(t,["thought"],i);const o=l(e,["inlineData"]);o!=null&&a(t,["inlineData"],G_(n,o));const s=l(e,["codeExecutionResult"]);s!=null&&a(t,["codeExecutionResult"],s);const u=l(e,["executableCode"]);u!=null&&a(t,["executableCode"],u);const c=l(e,["fileData"]);c!=null&&a(t,["fileData"],c);const f=l(e,["functionCall"]);f!=null&&a(t,["functionCall"],f);const d=l(e,["functionResponse"]);d!=null&&a(t,["functionResponse"],d);const p=l(e,["text"]);return p!=null&&a(t,["text"],p),t}function af(n,e){const t={},r=l(e,["parts"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>z_(n,s))),a(t,["parts"],o)}const i=l(e,["role"]);return i!=null&&a(t,["role"],i),t}function H_(){return{}}function W_(n,e){const t={},r=l(e,["mode"]);r!=null&&a(t,["mode"],r);const i=l(e,["dynamicThreshold"]);return i!=null&&a(t,["dynamicThreshold"],i),t}function J_(n,e){const t={},r=l(e,["dynamicRetrievalConfig"]);return r!=null&&a(t,["dynamicRetrievalConfig"],W_(n,r)),t}function K_(){return{}}function Y_(n,e){const t={},r=l(e,["apiKeyString"]);return r!=null&&a(t,["apiKeyString"],r),t}function b_(n,e){const t={},r=l(e,["apiKeyConfig"]);r!=null&&a(t,["apiKeyConfig"],Y_(n,r));const i=l(e,["authType"]);i!=null&&a(t,["authType"],i);const o=l(e,["googleServiceAccountConfig"]);o!=null&&a(t,["googleServiceAccountConfig"],o);const s=l(e,["httpBasicAuthConfig"]);s!=null&&a(t,["httpBasicAuthConfig"],s);const u=l(e,["oauthConfig"]);u!=null&&a(t,["oauthConfig"],u);const c=l(e,["oidcConfig"]);return c!=null&&a(t,["oidcConfig"],c),t}function Q_(n,e){const t={},r=l(e,["authConfig"]);return r!=null&&a(t,["authConfig"],b_(n,r)),t}function X_(n,e){const t={},r=l(e,["retrieval"]);r!=null&&a(t,["retrieval"],r),l(e,["googleSearch"])!=null&&a(t,["googleSearch"],H_());const o=l(e,["googleSearchRetrieval"]);o!=null&&a(t,["googleSearchRetrieval"],J_(n,o)),l(e,["enterpriseWebSearch"])!=null&&a(t,["enterpriseWebSearch"],K_());const u=l(e,["googleMaps"]);u!=null&&a(t,["googleMaps"],Q_(n,u));const c=l(e,["codeExecution"]);c!=null&&a(t,["codeExecution"],c);const f=l(e,["functionDeclarations"]);return f!=null&&a(t,["functionDeclarations"],f),t}function Z_(n,e){const t={},r=l(e,["mode"]);r!=null&&a(t,["mode"],r);const i=l(e,["allowedFunctionNames"]);return i!=null&&a(t,["allowedFunctionNames"],i),t}function j_(n,e){const t={},r=l(e,["latitude"]);r!=null&&a(t,["latitude"],r);const i=l(e,["longitude"]);return i!=null&&a(t,["longitude"],i),t}function eC(n,e){const t={},r=l(e,["latLng"]);return r!=null&&a(t,["latLng"],j_(n,r)),t}function tC(n,e){const t={},r=l(e,["functionCallingConfig"]);r!=null&&a(t,["functionCallingConfig"],Z_(n,r));const i=l(e,["retrievalConfig"]);return i!=null&&a(t,["retrievalConfig"],eC(n,i)),t}function nC(n,e,t){const r={},i=l(e,["ttl"]);t!==void 0&&i!=null&&a(t,["ttl"],i);const o=l(e,["expireTime"]);t!==void 0&&o!=null&&a(t,["expireTime"],o);const s=l(e,["displayName"]);t!==void 0&&s!=null&&a(t,["displayName"],s);const u=l(e,["contents"]);if(t!==void 0&&u!=null){let p=Zt(n,u);Array.isArray(p)&&(p=p.map(h=>af(n,h))),a(t,["contents"],p)}const c=l(e,["systemInstruction"]);t!==void 0&&c!=null&&a(t,["systemInstruction"],af(n,Le(n,c)));const f=l(e,["tools"]);if(t!==void 0&&f!=null){let p=f;Array.isArray(p)&&(p=p.map(h=>X_(n,h))),a(t,["tools"],p)}const d=l(e,["toolConfig"]);return t!==void 0&&d!=null&&a(t,["toolConfig"],tC(n,d)),r}function rC(n,e){const t={},r=l(e,["model"]);r!=null&&a(t,["model"],Yh(n,r));const i=l(e,["config"]);return i!=null&&a(t,["config"],nC(n,i,t)),t}function iC(n,e){const t={},r=l(e,["name"]);r!=null&&a(t,["_url","name"],jt(n,r));const i=l(e,["config"]);return i!=null&&a(t,["config"],i),t}function oC(n,e){const t={},r=l(e,["name"]);r!=null&&a(t,["_url","name"],jt(n,r));const i=l(e,["config"]);return i!=null&&a(t,["config"],i),t}function sC(n,e,t){const r={},i=l(e,["ttl"]);t!==void 0&&i!=null&&a(t,["ttl"],i);const o=l(e,["expireTime"]);return t!==void 0&&o!=null&&a(t,["expireTime"],o),r}function lC(n,e){const t={},r=l(e,["name"]);r!=null&&a(t,["_url","name"],jt(n,r));const i=l(e,["config"]);return i!=null&&a(t,["config"],sC(n,i,t)),t}function aC(n,e,t){const r={},i=l(e,["pageSize"]);t!==void 0&&i!=null&&a(t,["_query","pageSize"],i);const o=l(e,["pageToken"]);return t!==void 0&&o!=null&&a(t,["_query","pageToken"],o),r}function uC(n,e){const t={},r=l(e,["config"]);return r!=null&&a(t,["config"],aC(n,r,t)),t}function ro(n,e){const t={},r=l(e,["name"]);r!=null&&a(t,["name"],r);const i=l(e,["displayName"]);i!=null&&a(t,["displayName"],i);const o=l(e,["model"]);o!=null&&a(t,["model"],o);const s=l(e,["createTime"]);s!=null&&a(t,["createTime"],s);const u=l(e,["updateTime"]);u!=null&&a(t,["updateTime"],u);const c=l(e,["expireTime"]);c!=null&&a(t,["expireTime"],c);const f=l(e,["usageMetadata"]);return f!=null&&a(t,["usageMetadata"],f),t}function cC(){return{}}function fC(n,e){const t={},r=l(e,["nextPageToken"]);r!=null&&a(t,["nextPageToken"],r);const i=l(e,["cachedContents"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>ro(n,s))),a(t,["cachedContents"],o)}return t}function io(n,e){const t={},r=l(e,["name"]);r!=null&&a(t,["name"],r);const i=l(e,["displayName"]);i!=null&&a(t,["displayName"],i);const o=l(e,["model"]);o!=null&&a(t,["model"],o);const s=l(e,["createTime"]);s!=null&&a(t,["createTime"],s);const u=l(e,["updateTime"]);u!=null&&a(t,["updateTime"],u);const c=l(e,["expireTime"]);c!=null&&a(t,["expireTime"],c);const f=l(e,["usageMetadata"]);return f!=null&&a(t,["usageMetadata"],f),t}function dC(){return{}}function pC(n,e){const t={},r=l(e,["nextPageToken"]);r!=null&&a(t,["nextPageToken"],r);const i=l(e,["cachedContents"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>io(n,s))),a(t,["cachedContents"],o)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var nr;(function(n){n.PAGED_ITEM_BATCH_JOBS="batchJobs",n.PAGED_ITEM_MODELS="models",n.PAGED_ITEM_TUNING_JOBS="tuningJobs",n.PAGED_ITEM_FILES="files",n.PAGED_ITEM_CACHED_CONTENTS="cachedContents"})(nr||(nr={}));class ms{constructor(e,t,r,i){this.pageInternal=[],this.paramsInternal={},this.requestInternal=t,this.init(e,r,i)}init(e,t,r){var i,o;this.nameInternal=e,this.pageInternal=t[this.nameInternal]||[],this.idxInternal=0;let s={config:{}};r?typeof r=="object"?s=Object.assign({},r):s=r:s={config:{}},s.config&&(s.config.pageToken=t.nextPageToken),this.paramsInternal=s,this.pageInternalSize=(o=(i=s.config)===null||i===void 0?void 0:i.pageSize)!==null&&o!==void 0?o:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var uf;(function(n){n.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",n.OUTCOME_OK="OUTCOME_OK",n.OUTCOME_FAILED="OUTCOME_FAILED",n.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(uf||(uf={}));var cf;(function(n){n.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",n.PYTHON="PYTHON"})(cf||(cf={}));var ff;(function(n){n.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",n.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",n.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",n.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",n.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",n.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY"})(ff||(ff={}));var df;(function(n){n.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",n.SEVERITY="SEVERITY",n.PROBABILITY="PROBABILITY"})(df||(df={}));var pf;(function(n){n.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",n.BLOCK_NONE="BLOCK_NONE",n.OFF="OFF"})(pf||(pf={}));var hf;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.MODE_DYNAMIC="MODE_DYNAMIC"})(hf||(hf={}));var mf;(function(n){n.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",n.NO_AUTH="NO_AUTH",n.API_KEY_AUTH="API_KEY_AUTH",n.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",n.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",n.OAUTH="OAUTH",n.OIDC_AUTH="OIDC_AUTH"})(mf||(mf={}));var gf;(function(n){n.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",n.STRING="STRING",n.NUMBER="NUMBER",n.INTEGER="INTEGER",n.BOOLEAN="BOOLEAN",n.ARRAY="ARRAY",n.OBJECT="OBJECT"})(gf||(gf={}));var yf;(function(n){n.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",n.STOP="STOP",n.MAX_TOKENS="MAX_TOKENS",n.SAFETY="SAFETY",n.RECITATION="RECITATION",n.LANGUAGE="LANGUAGE",n.OTHER="OTHER",n.BLOCKLIST="BLOCKLIST",n.PROHIBITED_CONTENT="PROHIBITED_CONTENT",n.SPII="SPII",n.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",n.IMAGE_SAFETY="IMAGE_SAFETY"})(yf||(yf={}));var vf;(function(n){n.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",n.NEGLIGIBLE="NEGLIGIBLE",n.LOW="LOW",n.MEDIUM="MEDIUM",n.HIGH="HIGH"})(vf||(vf={}));var _f;(function(n){n.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",n.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",n.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",n.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",n.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(_f||(_f={}));var Cf;(function(n){n.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",n.SAFETY="SAFETY",n.OTHER="OTHER",n.BLOCKLIST="BLOCKLIST",n.PROHIBITED_CONTENT="PROHIBITED_CONTENT"})(Cf||(Cf={}));var Tf;(function(n){n.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",n.ON_DEMAND="ON_DEMAND",n.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(Tf||(Tf={}));var Bo;(function(n){n.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",n.TEXT="TEXT",n.IMAGE="IMAGE",n.AUDIO="AUDIO"})(Bo||(Bo={}));var wf;(function(n){n.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",n.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",n.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",n.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(wf||(wf={}));var oa;(function(n){n.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",n.JOB_STATE_QUEUED="JOB_STATE_QUEUED",n.JOB_STATE_PENDING="JOB_STATE_PENDING",n.JOB_STATE_RUNNING="JOB_STATE_RUNNING",n.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",n.JOB_STATE_FAILED="JOB_STATE_FAILED",n.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",n.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",n.JOB_STATE_PAUSED="JOB_STATE_PAUSED",n.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",n.JOB_STATE_UPDATING="JOB_STATE_UPDATING",n.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(oa||(oa={}));var Sf;(function(n){n.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",n.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",n.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",n.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",n.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",n.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",n.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(Sf||(Sf={}));var Ef;(function(n){n.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",n.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",n.BALANCED="BALANCED",n.PRIORITIZE_COST="PRIORITIZE_COST"})(Ef||(Ef={}));var If;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.MODE_DYNAMIC="MODE_DYNAMIC"})(If||(If={}));var Af;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.AUTO="AUTO",n.ANY="ANY",n.NONE="NONE"})(Af||(Af={}));var xf;(function(n){n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",n.BLOCK_NONE="BLOCK_NONE"})(xf||(xf={}));var Pf;(function(n){n.DONT_ALLOW="DONT_ALLOW",n.ALLOW_ADULT="ALLOW_ADULT",n.ALLOW_ALL="ALLOW_ALL"})(Pf||(Pf={}));var Rf;(function(n){n.auto="auto",n.en="en",n.ja="ja",n.ko="ko",n.hi="hi"})(Rf||(Rf={}));var Mf;(function(n){n.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",n.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",n.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",n.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",n.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(Mf||(Mf={}));var kf;(function(n){n.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",n.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",n.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",n.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(kf||(kf={}));var Nf;(function(n){n.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",n.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",n.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",n.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(Nf||(Nf={}));var Df;(function(n){n.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",n.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",n.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",n.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",n.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",n.EDIT_MODE_STYLE="EDIT_MODE_STYLE",n.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",n.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(Df||(Df={}));var Lf;(function(n){n.STATE_UNSPECIFIED="STATE_UNSPECIFIED",n.PROCESSING="PROCESSING",n.ACTIVE="ACTIVE",n.FAILED="FAILED"})(Lf||(Lf={}));var Ff;(function(n){n.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",n.UPLOADED="UPLOADED",n.GENERATED="GENERATED"})(Ff||(Ff={}));var Uf;(function(n){n.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",n.TEXT="TEXT",n.IMAGE="IMAGE",n.VIDEO="VIDEO",n.AUDIO="AUDIO",n.DOCUMENT="DOCUMENT"})(Uf||(Uf={}));var Vf;(function(n){n.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",n.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",n.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(Vf||(Vf={}));var $f;(function(n){n.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",n.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",n.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})($f||($f={}));var Of;(function(n){n.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",n.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",n.NO_INTERRUPTION="NO_INTERRUPTION"})(Of||(Of={}));var Bf;(function(n){n.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",n.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",n.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(Bf||(Bf={}));class Fi{get text(){var e,t,r,i,o,s,u,c;if(((i=(r=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let f="",d=!1;const p=[];for(const h of(c=(u=(s=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content)===null||u===void 0?void 0:u.parts)!==null&&c!==void 0?c:[]){for(const[g,v]of Object.entries(h))g!=="text"&&g!=="thought"&&(v!==null||v!==void 0)&&p.push(g);if(typeof h.text=="string"){if(typeof h.thought=="boolean"&&h.thought)continue;d=!0,f+=h.text}}return p.length>0&&console.warn(`there are non-text parts ${p} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),d?f:void 0}get data(){var e,t,r,i,o,s,u,c;if(((i=(r=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let f="";const d=[];for(const p of(c=(u=(s=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content)===null||u===void 0?void 0:u.parts)!==null&&c!==void 0?c:[]){for(const[h,g]of Object.entries(p))h!=="inlineData"&&(g!==null||g!==void 0)&&d.push(h);p.inlineData&&typeof p.inlineData.data=="string"&&(f+=atob(p.inlineData.data))}return d.length>0&&console.warn(`there are non-data parts ${d} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),f.length>0?btoa(f):void 0}get functionCalls(){var e,t,r,i,o,s,u,c;if(((i=(r=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const f=(c=(u=(s=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content)===null||u===void 0?void 0:u.parts)===null||c===void 0?void 0:c.filter(d=>d.functionCall).map(d=>d.functionCall).filter(d=>d!==void 0);if((f==null?void 0:f.length)!==0)return f}get executableCode(){var e,t,r,i,o,s,u,c,f;if(((i=(r=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const d=(c=(u=(s=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content)===null||u===void 0?void 0:u.parts)===null||c===void 0?void 0:c.filter(p=>p.executableCode).map(p=>p.executableCode).filter(p=>p!==void 0);if((d==null?void 0:d.length)!==0)return(f=d==null?void 0:d[0])===null||f===void 0?void 0:f.code}get codeExecutionResult(){var e,t,r,i,o,s,u,c,f;if(((i=(r=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const d=(c=(u=(s=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content)===null||u===void 0?void 0:u.parts)===null||c===void 0?void 0:c.filter(p=>p.codeExecutionResult).map(p=>p.codeExecutionResult).filter(p=>p!==void 0);if((d==null?void 0:d.length)!==0)return(f=d==null?void 0:d[0])===null||f===void 0?void 0:f.output}}class qf{}class Gf{}class hC{}class mC{}class zf{}class Hf{}class Wf{}class gC{}class Jf{}class Kf{}class Yf{}class yC{}class sa{constructor(e){const t={};for(const r of e.headers.entries())t[r[0]]=r[1];this.headers=t,this.responseInternal=e}json(){return this.responseInternal.json()}}class vC{}class _C{}class CC{get text(){var e,t,r;let i="",o=!1;const s=[];for(const u of(r=(t=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||t===void 0?void 0:t.parts)!==null&&r!==void 0?r:[]){for(const[c,f]of Object.entries(u))c!=="text"&&c!=="thought"&&f!==null&&s.push(c);if(typeof u.text=="string"){if(typeof u.thought=="boolean"&&u.thought)continue;o=!0,i+=u.text}}return s.length>0&&console.warn(`there are non-text parts ${s} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),o?i:void 0}get data(){var e,t,r;let i="";const o=[];for(const s of(r=(t=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||t===void 0?void 0:t.parts)!==null&&r!==void 0?r:[]){for(const[u,c]of Object.entries(s))u!=="inlineData"&&c!==null&&o.push(u);s.inlineData&&typeof s.inlineData.data=="string"&&(i+=atob(s.inlineData.data))}return o.length>0&&console.warn(`there are non-data parts ${o} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),i.length>0?btoa(i):void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class TC extends di{constructor(e){super(),this.apiClient=e,this.list=async(t={})=>new ms(nr.PAGED_ITEM_CACHED_CONTENTS,r=>this.listInternal(r),await this.listInternal(t),t)}async create(e){var t,r,i,o;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=rC(this.apiClient,e);return u=$("cachedContents",f._url),c=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),s.then(d=>io(this.apiClient,d))}else{const f=F_(this.apiClient,e);return u=$("cachedContents",f._url),c=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),s.then(d=>ro(this.apiClient,d))}}async get(e){var t,r,i,o;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=iC(this.apiClient,e);return u=$("{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),s.then(d=>io(this.apiClient,d))}else{const f=U_(this.apiClient,e);return u=$("{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),s.then(d=>ro(this.apiClient,d))}}async delete(e){var t,r,i,o;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=oC(this.apiClient,e);return u=$("{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),s.then(()=>{const d=dC(),p=new Kf;return Object.assign(p,d),p})}else{const f=V_(this.apiClient,e);return u=$("{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),s.then(()=>{const d=cC(),p=new Kf;return Object.assign(p,d),p})}}async update(e){var t,r,i,o;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=lC(this.apiClient,e);return u=$("{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),s.then(d=>io(this.apiClient,d))}else{const f=O_(this.apiClient,e);return u=$("{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),s.then(d=>ro(this.apiClient,d))}}async listInternal(e){var t,r,i,o;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=uC(this.apiClient,e);return u=$("cachedContents",f._url),c=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),s.then(d=>{const p=pC(this.apiClient,d),h=new Yf;return Object.assign(h,p),h})}else{const f=q_(this.apiClient,e);return u=$("cachedContents",f._url),c=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),s.then(d=>{const p=fC(this.apiClient,d),h=new Yf;return Object.assign(h,p),h})}}}function bf(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Te(n){return this instanceof Te?(this.v=n,this):new Te(n)}function qo(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(n,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),u("next"),u("throw"),u("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(g){return function(v){return Promise.resolve(v).then(g,p)}}function u(g,v){r[g]&&(i[g]=function(C){return new Promise(function(S,_){o.push([g,C,S,_])>1||c(g,C)})},v&&(i[g]=v(i[g])))}function c(g,v){try{f(r[g](v))}catch(C){h(o[0][3],C)}}function f(g){g.value instanceof Te?Promise.resolve(g.value.v).then(d,p):h(o[0][2],g)}function d(g){c("next",g)}function p(g){c("throw",g)}function h(g,v){g(v),o.shift(),o.length&&c(o[0][0],o[0][1])}}function la(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof bf=="function"?bf(n):n[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(o){t[o]=n[o]&&function(s){return new Promise(function(u,c){s=n[o](s),i(u,c,s.done,s.value)})}}function i(o,s,u,c){Promise.resolve(c).then(function(f){o({value:f,done:u})},s)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function wC(n){var e;if(n.candidates==null||n.candidates.length===0)return!1;const t=(e=n.candidates[0])===null||e===void 0?void 0:e.content;return t===void 0?!1:im(t)}function im(n){if(n.parts===void 0||n.parts.length===0)return!1;for(const e of n.parts)if(e===void 0||Object.keys(e).length===0||e.text!==void 0&&e.text==="")return!1;return!0}function SC(n){if(n.length!==0){if(n[0].role!=="user")throw new Error("History must start with a user turn.");for(const e of n)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function EC(n){if(n===void 0||n.length===0)return[];const e=[],t=n.length;let r=0,i=n[0];for(;r<t;)if(n[r].role==="user")i=n[r],r++;else{const o=[];let s=!0;for(;r<t&&n[r].role==="model";)o.push(n[r]),s&&!im(n[r])&&(s=!1),r++;s&&(e.push(i),e.push(...o))}return e}class IC{constructor(e,t){this.modelsModule=e,this.apiClient=t}create(e){return new AC(this.apiClient,this.modelsModule,e.model,e.config,e.history)}}let AC=class{constructor(e,t,r,i={},o=[]){this.apiClient=e,this.modelsModule=t,this.model=r,this.config=i,this.history=o,this.sendPromise=Promise.resolve(),SC(o)}async sendMessage(e){var t;await this.sendPromise;const r=Le(this.apiClient,e.message),i=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(r),config:(t=e.config)!==null&&t!==void 0?t:this.config});return this.sendPromise=(async()=>{var o,s;const c=(s=(o=(await i).candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content,f=c?[c]:[];this.recordHistory(r,f)})(),await this.sendPromise,i}async sendMessageStream(e){var t;await this.sendPromise;const r=Le(this.apiClient,e.message),i=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(r),config:(t=e.config)!==null&&t!==void 0?t:this.config});this.sendPromise=i.then(()=>{}).catch(()=>{});const o=await i;return this.processStreamResponse(o,r)}getHistory(e=!1){return e?EC(this.history):this.history}processStreamResponse(e,t){var r,i;return qo(this,arguments,function*(){var s,u,c,f;const d=[];try{for(var p=!0,h=la(e),g;g=yield Te(h.next()),s=g.done,!s;p=!0){f=g.value,p=!1;const v=f;if(wC(v)){const C=(i=(r=v.candidates)===null||r===void 0?void 0:r[0])===null||i===void 0?void 0:i.content;C!==void 0&&d.push(C)}yield yield Te(v)}}catch(v){u={error:v}}finally{try{!p&&!s&&(c=h.return)&&(yield Te(c.call(h)))}finally{if(u)throw u.error}}this.recordHistory(t,d)})}recordHistory(e,t){let r=[];t.length>0&&t.every(i=>i.role==="model")?r=t:r.push({role:"model",parts:[]}),this.history.push(e),this.history.push(...r)}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function xC(n,e,t){const r={},i=l(e,["pageSize"]);t!==void 0&&i!=null&&a(t,["_query","pageSize"],i);const o=l(e,["pageToken"]);return t!==void 0&&o!=null&&a(t,["_query","pageToken"],o),r}function PC(n,e){const t={},r=l(e,["config"]);return r!=null&&a(t,["config"],xC(n,r,t)),t}function RC(n,e){const t={},r=l(e,["details"]);r!=null&&a(t,["details"],r);const i=l(e,["message"]);i!=null&&a(t,["message"],i);const o=l(e,["code"]);return o!=null&&a(t,["code"],o),t}function MC(n,e){const t={},r=l(e,["name"]);r!=null&&a(t,["name"],r);const i=l(e,["displayName"]);i!=null&&a(t,["displayName"],i);const o=l(e,["mimeType"]);o!=null&&a(t,["mimeType"],o);const s=l(e,["sizeBytes"]);s!=null&&a(t,["sizeBytes"],s);const u=l(e,["createTime"]);u!=null&&a(t,["createTime"],u);const c=l(e,["expirationTime"]);c!=null&&a(t,["expirationTime"],c);const f=l(e,["updateTime"]);f!=null&&a(t,["updateTime"],f);const d=l(e,["sha256Hash"]);d!=null&&a(t,["sha256Hash"],d);const p=l(e,["uri"]);p!=null&&a(t,["uri"],p);const h=l(e,["downloadUri"]);h!=null&&a(t,["downloadUri"],h);const g=l(e,["state"]);g!=null&&a(t,["state"],g);const v=l(e,["source"]);v!=null&&a(t,["source"],v);const C=l(e,["videoMetadata"]);C!=null&&a(t,["videoMetadata"],C);const S=l(e,["error"]);return S!=null&&a(t,["error"],RC(n,S)),t}function kC(n,e){const t={},r=l(e,["file"]);r!=null&&a(t,["file"],MC(n,r));const i=l(e,["config"]);return i!=null&&a(t,["config"],i),t}function NC(n,e){const t={},r=l(e,["name"]);r!=null&&a(t,["_url","file"],tm(n,r));const i=l(e,["config"]);return i!=null&&a(t,["config"],i),t}function DC(n,e){const t={},r=l(e,["name"]);r!=null&&a(t,["_url","file"],tm(n,r));const i=l(e,["config"]);return i!=null&&a(t,["config"],i),t}function LC(n,e){const t={},r=l(e,["details"]);r!=null&&a(t,["details"],r);const i=l(e,["message"]);i!=null&&a(t,["message"],i);const o=l(e,["code"]);return o!=null&&a(t,["code"],o),t}function aa(n,e){const t={},r=l(e,["name"]);r!=null&&a(t,["name"],r);const i=l(e,["displayName"]);i!=null&&a(t,["displayName"],i);const o=l(e,["mimeType"]);o!=null&&a(t,["mimeType"],o);const s=l(e,["sizeBytes"]);s!=null&&a(t,["sizeBytes"],s);const u=l(e,["createTime"]);u!=null&&a(t,["createTime"],u);const c=l(e,["expirationTime"]);c!=null&&a(t,["expirationTime"],c);const f=l(e,["updateTime"]);f!=null&&a(t,["updateTime"],f);const d=l(e,["sha256Hash"]);d!=null&&a(t,["sha256Hash"],d);const p=l(e,["uri"]);p!=null&&a(t,["uri"],p);const h=l(e,["downloadUri"]);h!=null&&a(t,["downloadUri"],h);const g=l(e,["state"]);g!=null&&a(t,["state"],g);const v=l(e,["source"]);v!=null&&a(t,["source"],v);const C=l(e,["videoMetadata"]);C!=null&&a(t,["videoMetadata"],C);const S=l(e,["error"]);return S!=null&&a(t,["error"],LC(n,S)),t}function FC(n,e){const t={},r=l(e,["nextPageToken"]);r!=null&&a(t,["nextPageToken"],r);const i=l(e,["files"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>aa(n,s))),a(t,["files"],o)}return t}function UC(){return{}}function VC(){return{}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let $C=class extends di{constructor(e){super(),this.apiClient=e,this.list=async(t={})=>new ms(nr.PAGED_ITEM_FILES,r=>this.listInternal(r),await this.listInternal(t),t)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(t=>aa(this.apiClient,t))}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var t,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=PC(this.apiClient,e);return o=$("files",u._url),s=u._query,delete u.config,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const f=FC(this.apiClient,c),d=new yC;return Object.assign(d,f),d})}}async createInternal(e){var t,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=kC(this.apiClient,e);return o=$("upload/v1beta/files",u._url),s=u._query,delete u.config,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(()=>{const c=UC(),f=new vC;return Object.assign(f,c),f})}}async get(e){var t,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=NC(this.apiClient,e);return o=$("files/{file}",u._url),s=u._query,delete u.config,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>aa(this.apiClient,c))}}async delete(e){var t,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=DC(this.apiClient,e);return o=$("files/{file}",u._url),s=u._query,delete u.config,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(()=>{const c=VC(),f=new _C;return Object.assign(f,c),f})}}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function OC(n,e){const t={};if(l(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=l(e,["data"]);r!=null&&a(t,["data"],r);const i=l(e,["mimeType"]);return i!=null&&a(t,["mimeType"],i),t}function BC(n,e){const t={},r=l(e,["displayName"]);r!=null&&a(t,["displayName"],r);const i=l(e,["data"]);i!=null&&a(t,["data"],i);const o=l(e,["mimeType"]);return o!=null&&a(t,["mimeType"],o),t}function qC(n,e){const t={};if(l(e,["videoMetadata"])!==void 0)throw new Error("videoMetadata parameter is not supported in Gemini API.");const r=l(e,["thought"]);r!=null&&a(t,["thought"],r);const i=l(e,["inlineData"]);i!=null&&a(t,["inlineData"],OC(n,i));const o=l(e,["codeExecutionResult"]);o!=null&&a(t,["codeExecutionResult"],o);const s=l(e,["executableCode"]);s!=null&&a(t,["executableCode"],s);const u=l(e,["fileData"]);u!=null&&a(t,["fileData"],u);const c=l(e,["functionCall"]);c!=null&&a(t,["functionCall"],c);const f=l(e,["functionResponse"]);f!=null&&a(t,["functionResponse"],f);const d=l(e,["text"]);return d!=null&&a(t,["text"],d),t}function GC(n,e){const t={},r=l(e,["videoMetadata"]);r!=null&&a(t,["videoMetadata"],r);const i=l(e,["thought"]);i!=null&&a(t,["thought"],i);const o=l(e,["inlineData"]);o!=null&&a(t,["inlineData"],BC(n,o));const s=l(e,["codeExecutionResult"]);s!=null&&a(t,["codeExecutionResult"],s);const u=l(e,["executableCode"]);u!=null&&a(t,["executableCode"],u);const c=l(e,["fileData"]);c!=null&&a(t,["fileData"],c);const f=l(e,["functionCall"]);f!=null&&a(t,["functionCall"],f);const d=l(e,["functionResponse"]);d!=null&&a(t,["functionResponse"],d);const p=l(e,["text"]);return p!=null&&a(t,["text"],p),t}function zC(n,e){const t={},r=l(e,["parts"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>qC(n,s))),a(t,["parts"],o)}const i=l(e,["role"]);return i!=null&&a(t,["role"],i),t}function HC(n,e){const t={},r=l(e,["parts"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>GC(n,s))),a(t,["parts"],o)}const i=l(e,["role"]);return i!=null&&a(t,["role"],i),t}function WC(){return{}}function JC(){return{}}function KC(n,e){const t={},r=l(e,["mode"]);r!=null&&a(t,["mode"],r);const i=l(e,["dynamicThreshold"]);return i!=null&&a(t,["dynamicThreshold"],i),t}function YC(n,e){const t={},r=l(e,["mode"]);r!=null&&a(t,["mode"],r);const i=l(e,["dynamicThreshold"]);return i!=null&&a(t,["dynamicThreshold"],i),t}function bC(n,e){const t={},r=l(e,["dynamicRetrievalConfig"]);return r!=null&&a(t,["dynamicRetrievalConfig"],KC(n,r)),t}function QC(n,e){const t={},r=l(e,["dynamicRetrievalConfig"]);return r!=null&&a(t,["dynamicRetrievalConfig"],YC(n,r)),t}function XC(){return{}}function ZC(n,e){const t={},r=l(e,["apiKeyString"]);return r!=null&&a(t,["apiKeyString"],r),t}function jC(n,e){const t={},r=l(e,["apiKeyConfig"]);r!=null&&a(t,["apiKeyConfig"],ZC(n,r));const i=l(e,["authType"]);i!=null&&a(t,["authType"],i);const o=l(e,["googleServiceAccountConfig"]);o!=null&&a(t,["googleServiceAccountConfig"],o);const s=l(e,["httpBasicAuthConfig"]);s!=null&&a(t,["httpBasicAuthConfig"],s);const u=l(e,["oauthConfig"]);u!=null&&a(t,["oauthConfig"],u);const c=l(e,["oidcConfig"]);return c!=null&&a(t,["oidcConfig"],c),t}function e0(n,e){const t={},r=l(e,["authConfig"]);return r!=null&&a(t,["authConfig"],jC(n,r)),t}function t0(n,e){const t={};if(l(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");l(e,["googleSearch"])!=null&&a(t,["googleSearch"],WC());const i=l(e,["googleSearchRetrieval"]);if(i!=null&&a(t,["googleSearchRetrieval"],bC(n,i)),l(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(l(e,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");const o=l(e,["codeExecution"]);o!=null&&a(t,["codeExecution"],o);const s=l(e,["functionDeclarations"]);return s!=null&&a(t,["functionDeclarations"],s),t}function n0(n,e){const t={},r=l(e,["retrieval"]);r!=null&&a(t,["retrieval"],r),l(e,["googleSearch"])!=null&&a(t,["googleSearch"],JC());const o=l(e,["googleSearchRetrieval"]);o!=null&&a(t,["googleSearchRetrieval"],QC(n,o)),l(e,["enterpriseWebSearch"])!=null&&a(t,["enterpriseWebSearch"],XC());const u=l(e,["googleMaps"]);u!=null&&a(t,["googleMaps"],e0(n,u));const c=l(e,["codeExecution"]);c!=null&&a(t,["codeExecution"],c);const f=l(e,["functionDeclarations"]);return f!=null&&a(t,["functionDeclarations"],f),t}function r0(n,e){const t={},r=l(e,["handle"]);if(r!=null&&a(t,["handle"],r),l(e,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function i0(n,e){const t={},r=l(e,["handle"]);r!=null&&a(t,["handle"],r);const i=l(e,["transparent"]);return i!=null&&a(t,["transparent"],i),t}function Qf(){return{}}function Xf(){return{}}function o0(n,e){const t={},r=l(e,["disabled"]);r!=null&&a(t,["disabled"],r);const i=l(e,["startOfSpeechSensitivity"]);i!=null&&a(t,["startOfSpeechSensitivity"],i);const o=l(e,["endOfSpeechSensitivity"]);o!=null&&a(t,["endOfSpeechSensitivity"],o);const s=l(e,["prefixPaddingMs"]);s!=null&&a(t,["prefixPaddingMs"],s);const u=l(e,["silenceDurationMs"]);return u!=null&&a(t,["silenceDurationMs"],u),t}function s0(n,e){const t={},r=l(e,["disabled"]);r!=null&&a(t,["disabled"],r);const i=l(e,["startOfSpeechSensitivity"]);i!=null&&a(t,["startOfSpeechSensitivity"],i);const o=l(e,["endOfSpeechSensitivity"]);o!=null&&a(t,["endOfSpeechSensitivity"],o);const s=l(e,["prefixPaddingMs"]);s!=null&&a(t,["prefixPaddingMs"],s);const u=l(e,["silenceDurationMs"]);return u!=null&&a(t,["silenceDurationMs"],u),t}function l0(n,e){const t={},r=l(e,["automaticActivityDetection"]);r!=null&&a(t,["automaticActivityDetection"],o0(n,r));const i=l(e,["activityHandling"]);i!=null&&a(t,["activityHandling"],i);const o=l(e,["turnCoverage"]);return o!=null&&a(t,["turnCoverage"],o),t}function a0(n,e){const t={},r=l(e,["automaticActivityDetection"]);r!=null&&a(t,["automaticActivityDetection"],s0(n,r));const i=l(e,["activityHandling"]);i!=null&&a(t,["activityHandling"],i);const o=l(e,["turnCoverage"]);return o!=null&&a(t,["turnCoverage"],o),t}function u0(n,e){const t={},r=l(e,["targetTokens"]);return r!=null&&a(t,["targetTokens"],r),t}function c0(n,e){const t={},r=l(e,["targetTokens"]);return r!=null&&a(t,["targetTokens"],r),t}function f0(n,e){const t={},r=l(e,["triggerTokens"]);r!=null&&a(t,["triggerTokens"],r);const i=l(e,["slidingWindow"]);return i!=null&&a(t,["slidingWindow"],u0(n,i)),t}function d0(n,e){const t={},r=l(e,["triggerTokens"]);r!=null&&a(t,["triggerTokens"],r);const i=l(e,["slidingWindow"]);return i!=null&&a(t,["slidingWindow"],c0(n,i)),t}function p0(n,e,t){const r={},i=l(e,["generationConfig"]);t!==void 0&&i!=null&&a(t,["setup","generationConfig"],i);const o=l(e,["responseModalities"]);t!==void 0&&o!=null&&a(t,["setup","generationConfig","responseModalities"],o);const s=l(e,["temperature"]);t!==void 0&&s!=null&&a(t,["setup","generationConfig","temperature"],s);const u=l(e,["topP"]);t!==void 0&&u!=null&&a(t,["setup","generationConfig","topP"],u);const c=l(e,["topK"]);t!==void 0&&c!=null&&a(t,["setup","generationConfig","topK"],c);const f=l(e,["maxOutputTokens"]);t!==void 0&&f!=null&&a(t,["setup","generationConfig","maxOutputTokens"],f);const d=l(e,["mediaResolution"]);t!==void 0&&d!=null&&a(t,["setup","generationConfig","mediaResolution"],d);const p=l(e,["seed"]);t!==void 0&&p!=null&&a(t,["setup","generationConfig","seed"],p);const h=l(e,["speechConfig"]);t!==void 0&&h!=null&&a(t,["setup","generationConfig","speechConfig"],h);const g=l(e,["systemInstruction"]);t!==void 0&&g!=null&&a(t,["setup","systemInstruction"],zC(n,Le(n,g)));const v=l(e,["tools"]);if(t!==void 0&&v!=null){let T=hs(n,v);Array.isArray(T)&&(T=T.map(E=>t0(n,ps(n,E)))),a(t,["setup","tools"],T)}const C=l(e,["sessionResumption"]);t!==void 0&&C!=null&&a(t,["setup","sessionResumption"],r0(n,C));const S=l(e,["inputAudioTranscription"]);t!==void 0&&S!=null&&a(t,["setup","inputAudioTranscription"],Qf());const _=l(e,["outputAudioTranscription"]);t!==void 0&&_!=null&&a(t,["setup","outputAudioTranscription"],Qf());const m=l(e,["realtimeInputConfig"]);t!==void 0&&m!=null&&a(t,["setup","realtimeInputConfig"],l0(n,m));const y=l(e,["contextWindowCompression"]);return t!==void 0&&y!=null&&a(t,["setup","contextWindowCompression"],f0(n,y)),r}function h0(n,e,t){const r={},i=l(e,["generationConfig"]);t!==void 0&&i!=null&&a(t,["setup","generationConfig"],i);const o=l(e,["responseModalities"]);t!==void 0&&o!=null&&a(t,["setup","generationConfig","responseModalities"],o);const s=l(e,["temperature"]);t!==void 0&&s!=null&&a(t,["setup","generationConfig","temperature"],s);const u=l(e,["topP"]);t!==void 0&&u!=null&&a(t,["setup","generationConfig","topP"],u);const c=l(e,["topK"]);t!==void 0&&c!=null&&a(t,["setup","generationConfig","topK"],c);const f=l(e,["maxOutputTokens"]);t!==void 0&&f!=null&&a(t,["setup","generationConfig","maxOutputTokens"],f);const d=l(e,["mediaResolution"]);t!==void 0&&d!=null&&a(t,["setup","generationConfig","mediaResolution"],d);const p=l(e,["seed"]);t!==void 0&&p!=null&&a(t,["setup","generationConfig","seed"],p);const h=l(e,["speechConfig"]);t!==void 0&&h!=null&&a(t,["setup","generationConfig","speechConfig"],h);const g=l(e,["systemInstruction"]);t!==void 0&&g!=null&&a(t,["setup","systemInstruction"],HC(n,Le(n,g)));const v=l(e,["tools"]);if(t!==void 0&&v!=null){let T=hs(n,v);Array.isArray(T)&&(T=T.map(E=>n0(n,ps(n,E)))),a(t,["setup","tools"],T)}const C=l(e,["sessionResumption"]);t!==void 0&&C!=null&&a(t,["setup","sessionResumption"],i0(n,C));const S=l(e,["inputAudioTranscription"]);t!==void 0&&S!=null&&a(t,["setup","inputAudioTranscription"],Xf());const _=l(e,["outputAudioTranscription"]);t!==void 0&&_!=null&&a(t,["setup","outputAudioTranscription"],Xf());const m=l(e,["realtimeInputConfig"]);t!==void 0&&m!=null&&a(t,["setup","realtimeInputConfig"],a0(n,m));const y=l(e,["contextWindowCompression"]);return t!==void 0&&y!=null&&a(t,["setup","contextWindowCompression"],d0(n,y)),r}function m0(n,e){const t={},r=l(e,["model"]);r!=null&&a(t,["setup","model"],Q(n,r));const i=l(e,["config"]);return i!=null&&a(t,["config"],p0(n,i,t)),t}function g0(n,e){const t={},r=l(e,["model"]);r!=null&&a(t,["setup","model"],Q(n,r));const i=l(e,["config"]);return i!=null&&a(t,["config"],h0(n,i,t)),t}function y0(){return{}}function v0(){return{}}function _0(){return{}}function C0(){return{}}function T0(n,e){const t={},r=l(e,["media"]);r!=null&&a(t,["mediaChunks"],bh(n,r));const i=l(e,["audio"]);i!=null&&a(t,["audio"],C_(n,i));const o=l(e,["audioStreamEnd"]);o!=null&&a(t,["audioStreamEnd"],o);const s=l(e,["video"]);s!=null&&a(t,["video"],__(n,s));const u=l(e,["text"]);return u!=null&&a(t,["text"],u),l(e,["activityStart"])!=null&&a(t,["activityStart"],y0()),l(e,["activityEnd"])!=null&&a(t,["activityEnd"],_0()),t}function w0(n,e){const t={},r=l(e,["media"]);if(r!=null&&a(t,["mediaChunks"],bh(n,r)),l(e,["audio"])!==void 0)throw new Error("audio parameter is not supported in Vertex AI.");const i=l(e,["audioStreamEnd"]);if(i!=null&&a(t,["audioStreamEnd"],i),l(e,["video"])!==void 0)throw new Error("video parameter is not supported in Vertex AI.");if(l(e,["text"])!==void 0)throw new Error("text parameter is not supported in Vertex AI.");return l(e,["activityStart"])!=null&&a(t,["activityStart"],v0()),l(e,["activityEnd"])!=null&&a(t,["activityEnd"],C0()),t}function S0(){return{}}function E0(){return{}}function I0(n,e){const t={},r=l(e,["data"]);r!=null&&a(t,["data"],r);const i=l(e,["mimeType"]);return i!=null&&a(t,["mimeType"],i),t}function A0(n,e){const t={},r=l(e,["displayName"]);r!=null&&a(t,["displayName"],r);const i=l(e,["data"]);i!=null&&a(t,["data"],i);const o=l(e,["mimeType"]);return o!=null&&a(t,["mimeType"],o),t}function x0(n,e){const t={},r=l(e,["thought"]);r!=null&&a(t,["thought"],r);const i=l(e,["inlineData"]);i!=null&&a(t,["inlineData"],I0(n,i));const o=l(e,["codeExecutionResult"]);o!=null&&a(t,["codeExecutionResult"],o);const s=l(e,["executableCode"]);s!=null&&a(t,["executableCode"],s);const u=l(e,["fileData"]);u!=null&&a(t,["fileData"],u);const c=l(e,["functionCall"]);c!=null&&a(t,["functionCall"],c);const f=l(e,["functionResponse"]);f!=null&&a(t,["functionResponse"],f);const d=l(e,["text"]);return d!=null&&a(t,["text"],d),t}function P0(n,e){const t={},r=l(e,["videoMetadata"]);r!=null&&a(t,["videoMetadata"],r);const i=l(e,["thought"]);i!=null&&a(t,["thought"],i);const o=l(e,["inlineData"]);o!=null&&a(t,["inlineData"],A0(n,o));const s=l(e,["codeExecutionResult"]);s!=null&&a(t,["codeExecutionResult"],s);const u=l(e,["executableCode"]);u!=null&&a(t,["executableCode"],u);const c=l(e,["fileData"]);c!=null&&a(t,["fileData"],c);const f=l(e,["functionCall"]);f!=null&&a(t,["functionCall"],f);const d=l(e,["functionResponse"]);d!=null&&a(t,["functionResponse"],d);const p=l(e,["text"]);return p!=null&&a(t,["text"],p),t}function R0(n,e){const t={},r=l(e,["parts"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>x0(n,s))),a(t,["parts"],o)}const i=l(e,["role"]);return i!=null&&a(t,["role"],i),t}function M0(n,e){const t={},r=l(e,["parts"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>P0(n,s))),a(t,["parts"],o)}const i=l(e,["role"]);return i!=null&&a(t,["role"],i),t}function Zf(n,e){const t={},r=l(e,["text"]);r!=null&&a(t,["text"],r);const i=l(e,["finished"]);return i!=null&&a(t,["finished"],i),t}function jf(n,e){const t={},r=l(e,["text"]);r!=null&&a(t,["text"],r);const i=l(e,["finished"]);return i!=null&&a(t,["finished"],i),t}function k0(n,e){const t={},r=l(e,["modelTurn"]);r!=null&&a(t,["modelTurn"],R0(n,r));const i=l(e,["turnComplete"]);i!=null&&a(t,["turnComplete"],i);const o=l(e,["interrupted"]);o!=null&&a(t,["interrupted"],o);const s=l(e,["groundingMetadata"]);s!=null&&a(t,["groundingMetadata"],s);const u=l(e,["generationComplete"]);u!=null&&a(t,["generationComplete"],u);const c=l(e,["inputTranscription"]);c!=null&&a(t,["inputTranscription"],Zf(n,c));const f=l(e,["outputTranscription"]);return f!=null&&a(t,["outputTranscription"],Zf(n,f)),t}function N0(n,e){const t={},r=l(e,["modelTurn"]);r!=null&&a(t,["modelTurn"],M0(n,r));const i=l(e,["turnComplete"]);i!=null&&a(t,["turnComplete"],i);const o=l(e,["interrupted"]);o!=null&&a(t,["interrupted"],o);const s=l(e,["groundingMetadata"]);s!=null&&a(t,["groundingMetadata"],s);const u=l(e,["generationComplete"]);u!=null&&a(t,["generationComplete"],u);const c=l(e,["inputTranscription"]);c!=null&&a(t,["inputTranscription"],jf(n,c));const f=l(e,["outputTranscription"]);return f!=null&&a(t,["outputTranscription"],jf(n,f)),t}function D0(n,e){const t={},r=l(e,["id"]);r!=null&&a(t,["id"],r);const i=l(e,["args"]);i!=null&&a(t,["args"],i);const o=l(e,["name"]);return o!=null&&a(t,["name"],o),t}function L0(n,e){const t={},r=l(e,["args"]);r!=null&&a(t,["args"],r);const i=l(e,["name"]);return i!=null&&a(t,["name"],i),t}function F0(n,e){const t={},r=l(e,["functionCalls"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>D0(n,o))),a(t,["functionCalls"],i)}return t}function U0(n,e){const t={},r=l(e,["functionCalls"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>L0(n,o))),a(t,["functionCalls"],i)}return t}function V0(n,e){const t={},r=l(e,["ids"]);return r!=null&&a(t,["ids"],r),t}function $0(n,e){const t={},r=l(e,["ids"]);return r!=null&&a(t,["ids"],r),t}function Ui(n,e){const t={},r=l(e,["modality"]);r!=null&&a(t,["modality"],r);const i=l(e,["tokenCount"]);return i!=null&&a(t,["tokenCount"],i),t}function Vi(n,e){const t={},r=l(e,["modality"]);r!=null&&a(t,["modality"],r);const i=l(e,["tokenCount"]);return i!=null&&a(t,["tokenCount"],i),t}function O0(n,e){const t={},r=l(e,["promptTokenCount"]);r!=null&&a(t,["promptTokenCount"],r);const i=l(e,["cachedContentTokenCount"]);i!=null&&a(t,["cachedContentTokenCount"],i);const o=l(e,["responseTokenCount"]);o!=null&&a(t,["responseTokenCount"],o);const s=l(e,["toolUsePromptTokenCount"]);s!=null&&a(t,["toolUsePromptTokenCount"],s);const u=l(e,["thoughtsTokenCount"]);u!=null&&a(t,["thoughtsTokenCount"],u);const c=l(e,["totalTokenCount"]);c!=null&&a(t,["totalTokenCount"],c);const f=l(e,["promptTokensDetails"]);if(f!=null){let g=f;Array.isArray(g)&&(g=g.map(v=>Ui(n,v))),a(t,["promptTokensDetails"],g)}const d=l(e,["cacheTokensDetails"]);if(d!=null){let g=d;Array.isArray(g)&&(g=g.map(v=>Ui(n,v))),a(t,["cacheTokensDetails"],g)}const p=l(e,["responseTokensDetails"]);if(p!=null){let g=p;Array.isArray(g)&&(g=g.map(v=>Ui(n,v))),a(t,["responseTokensDetails"],g)}const h=l(e,["toolUsePromptTokensDetails"]);if(h!=null){let g=h;Array.isArray(g)&&(g=g.map(v=>Ui(n,v))),a(t,["toolUsePromptTokensDetails"],g)}return t}function B0(n,e){const t={},r=l(e,["promptTokenCount"]);r!=null&&a(t,["promptTokenCount"],r);const i=l(e,["cachedContentTokenCount"]);i!=null&&a(t,["cachedContentTokenCount"],i);const o=l(e,["candidatesTokenCount"]);o!=null&&a(t,["responseTokenCount"],o);const s=l(e,["toolUsePromptTokenCount"]);s!=null&&a(t,["toolUsePromptTokenCount"],s);const u=l(e,["thoughtsTokenCount"]);u!=null&&a(t,["thoughtsTokenCount"],u);const c=l(e,["totalTokenCount"]);c!=null&&a(t,["totalTokenCount"],c);const f=l(e,["promptTokensDetails"]);if(f!=null){let v=f;Array.isArray(v)&&(v=v.map(C=>Vi(n,C))),a(t,["promptTokensDetails"],v)}const d=l(e,["cacheTokensDetails"]);if(d!=null){let v=d;Array.isArray(v)&&(v=v.map(C=>Vi(n,C))),a(t,["cacheTokensDetails"],v)}const p=l(e,["candidatesTokensDetails"]);if(p!=null){let v=p;Array.isArray(v)&&(v=v.map(C=>Vi(n,C))),a(t,["responseTokensDetails"],v)}const h=l(e,["toolUsePromptTokensDetails"]);if(h!=null){let v=h;Array.isArray(v)&&(v=v.map(C=>Vi(n,C))),a(t,["toolUsePromptTokensDetails"],v)}const g=l(e,["trafficType"]);return g!=null&&a(t,["trafficType"],g),t}function q0(n,e){const t={},r=l(e,["timeLeft"]);return r!=null&&a(t,["timeLeft"],r),t}function G0(n,e){const t={},r=l(e,["timeLeft"]);return r!=null&&a(t,["timeLeft"],r),t}function z0(n,e){const t={},r=l(e,["newHandle"]);r!=null&&a(t,["newHandle"],r);const i=l(e,["resumable"]);i!=null&&a(t,["resumable"],i);const o=l(e,["lastConsumedClientMessageIndex"]);return o!=null&&a(t,["lastConsumedClientMessageIndex"],o),t}function H0(n,e){const t={},r=l(e,["newHandle"]);r!=null&&a(t,["newHandle"],r);const i=l(e,["resumable"]);i!=null&&a(t,["resumable"],i);const o=l(e,["lastConsumedClientMessageIndex"]);return o!=null&&a(t,["lastConsumedClientMessageIndex"],o),t}function W0(n,e){const t={};l(e,["setupComplete"])!=null&&a(t,["setupComplete"],S0());const i=l(e,["serverContent"]);i!=null&&a(t,["serverContent"],k0(n,i));const o=l(e,["toolCall"]);o!=null&&a(t,["toolCall"],F0(n,o));const s=l(e,["toolCallCancellation"]);s!=null&&a(t,["toolCallCancellation"],V0(n,s));const u=l(e,["usageMetadata"]);u!=null&&a(t,["usageMetadata"],O0(n,u));const c=l(e,["goAway"]);c!=null&&a(t,["goAway"],q0(n,c));const f=l(e,["sessionResumptionUpdate"]);return f!=null&&a(t,["sessionResumptionUpdate"],z0(n,f)),t}function J0(n,e){const t={};l(e,["setupComplete"])!=null&&a(t,["setupComplete"],E0());const i=l(e,["serverContent"]);i!=null&&a(t,["serverContent"],N0(n,i));const o=l(e,["toolCall"]);o!=null&&a(t,["toolCall"],U0(n,o));const s=l(e,["toolCallCancellation"]);s!=null&&a(t,["toolCallCancellation"],$0(n,s));const u=l(e,["usageMetadata"]);u!=null&&a(t,["usageMetadata"],B0(n,u));const c=l(e,["goAway"]);c!=null&&a(t,["goAway"],G0(n,c));const f=l(e,["sessionResumptionUpdate"]);return f!=null&&a(t,["sessionResumptionUpdate"],H0(n,f)),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function K0(n,e){const t={};if(l(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=l(e,["data"]);r!=null&&a(t,["data"],r);const i=l(e,["mimeType"]);return i!=null&&a(t,["mimeType"],i),t}function Y0(n,e){const t={};if(l(e,["videoMetadata"])!==void 0)throw new Error("videoMetadata parameter is not supported in Gemini API.");const r=l(e,["thought"]);r!=null&&a(t,["thought"],r);const i=l(e,["inlineData"]);i!=null&&a(t,["inlineData"],K0(n,i));const o=l(e,["codeExecutionResult"]);o!=null&&a(t,["codeExecutionResult"],o);const s=l(e,["executableCode"]);s!=null&&a(t,["executableCode"],s);const u=l(e,["fileData"]);u!=null&&a(t,["fileData"],u);const c=l(e,["functionCall"]);c!=null&&a(t,["functionCall"],c);const f=l(e,["functionResponse"]);f!=null&&a(t,["functionResponse"],f);const d=l(e,["text"]);return d!=null&&a(t,["text"],d),t}function gs(n,e){const t={},r=l(e,["parts"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>Y0(n,s))),a(t,["parts"],o)}const i=l(e,["role"]);return i!=null&&a(t,["role"],i),t}function b0(n,e){const t={};if(l(e,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=l(e,["category"]);r!=null&&a(t,["category"],r);const i=l(e,["threshold"]);return i!=null&&a(t,["threshold"],i),t}function Q0(){return{}}function X0(n,e){const t={},r=l(e,["mode"]);r!=null&&a(t,["mode"],r);const i=l(e,["dynamicThreshold"]);return i!=null&&a(t,["dynamicThreshold"],i),t}function Z0(n,e){const t={},r=l(e,["dynamicRetrievalConfig"]);return r!=null&&a(t,["dynamicRetrievalConfig"],X0(n,r)),t}function j0(n,e){const t={};if(l(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");l(e,["googleSearch"])!=null&&a(t,["googleSearch"],Q0());const i=l(e,["googleSearchRetrieval"]);if(i!=null&&a(t,["googleSearchRetrieval"],Z0(n,i)),l(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(l(e,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");const o=l(e,["codeExecution"]);o!=null&&a(t,["codeExecution"],o);const s=l(e,["functionDeclarations"]);return s!=null&&a(t,["functionDeclarations"],s),t}function eT(n,e){const t={},r=l(e,["mode"]);r!=null&&a(t,["mode"],r);const i=l(e,["allowedFunctionNames"]);return i!=null&&a(t,["allowedFunctionNames"],i),t}function tT(n,e){const t={},r=l(e,["functionCallingConfig"]);if(r!=null&&a(t,["functionCallingConfig"],eT(n,r)),l(e,["retrievalConfig"])!==void 0)throw new Error("retrievalConfig parameter is not supported in Gemini API.");return t}function nT(n,e){const t={},r=l(e,["voiceName"]);return r!=null&&a(t,["voiceName"],r),t}function rT(n,e){const t={},r=l(e,["prebuiltVoiceConfig"]);return r!=null&&a(t,["prebuiltVoiceConfig"],nT(n,r)),t}function iT(n,e){const t={},r=l(e,["voiceConfig"]);r!=null&&a(t,["voiceConfig"],rT(n,r));const i=l(e,["languageCode"]);return i!=null&&a(t,["languageCode"],i),t}function oT(n,e){const t={},r=l(e,["includeThoughts"]);r!=null&&a(t,["includeThoughts"],r);const i=l(e,["thinkingBudget"]);return i!=null&&a(t,["thinkingBudget"],i),t}function sT(n,e,t){const r={},i=l(e,["systemInstruction"]);t!==void 0&&i!=null&&a(t,["systemInstruction"],gs(n,Le(n,i)));const o=l(e,["temperature"]);o!=null&&a(r,["temperature"],o);const s=l(e,["topP"]);s!=null&&a(r,["topP"],s);const u=l(e,["topK"]);u!=null&&a(r,["topK"],u);const c=l(e,["candidateCount"]);c!=null&&a(r,["candidateCount"],c);const f=l(e,["maxOutputTokens"]);f!=null&&a(r,["maxOutputTokens"],f);const d=l(e,["stopSequences"]);d!=null&&a(r,["stopSequences"],d);const p=l(e,["responseLogprobs"]);p!=null&&a(r,["responseLogprobs"],p);const h=l(e,["logprobs"]);h!=null&&a(r,["logprobs"],h);const g=l(e,["presencePenalty"]);g!=null&&a(r,["presencePenalty"],g);const v=l(e,["frequencyPenalty"]);v!=null&&a(r,["frequencyPenalty"],v);const C=l(e,["seed"]);C!=null&&a(r,["seed"],C);const S=l(e,["responseMimeType"]);S!=null&&a(r,["responseMimeType"],S);const _=l(e,["responseSchema"]);if(_!=null&&a(r,["responseSchema"],Zh(n,_)),l(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(l(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const m=l(e,["safetySettings"]);if(t!==void 0&&m!=null){let M=m;Array.isArray(M)&&(M=M.map(O=>b0(n,O))),a(t,["safetySettings"],M)}const y=l(e,["tools"]);if(t!==void 0&&y!=null){let M=hs(n,y);Array.isArray(M)&&(M=M.map(O=>j0(n,ps(n,O)))),a(t,["tools"],M)}const T=l(e,["toolConfig"]);if(t!==void 0&&T!=null&&a(t,["toolConfig"],tT(n,T)),l(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const E=l(e,["cachedContent"]);t!==void 0&&E!=null&&a(t,["cachedContent"],jt(n,E));const P=l(e,["responseModalities"]);P!=null&&a(r,["responseModalities"],P);const I=l(e,["mediaResolution"]);I!=null&&a(r,["mediaResolution"],I);const R=l(e,["speechConfig"]);if(R!=null&&a(r,["speechConfig"],iT(n,jh(n,R))),l(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const U=l(e,["thinkingConfig"]);return U!=null&&a(r,["thinkingConfig"],oT(n,U)),r}function ed(n,e){const t={},r=l(e,["model"]);r!=null&&a(t,["_url","model"],Q(n,r));const i=l(e,["contents"]);if(i!=null){let s=Zt(n,i);Array.isArray(s)&&(s=s.map(u=>gs(n,u))),a(t,["contents"],s)}const o=l(e,["config"]);return o!=null&&a(t,["generationConfig"],sT(n,o,t)),t}function lT(n,e,t){const r={},i=l(e,["taskType"]);t!==void 0&&i!=null&&a(t,["requests[]","taskType"],i);const o=l(e,["title"]);t!==void 0&&o!=null&&a(t,["requests[]","title"],o);const s=l(e,["outputDimensionality"]);if(t!==void 0&&s!=null&&a(t,["requests[]","outputDimensionality"],s),l(e,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(l(e,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return r}function aT(n,e){const t={},r=l(e,["model"]);r!=null&&a(t,["_url","model"],Q(n,r));const i=l(e,["contents"]);i!=null&&a(t,["requests[]","content"],Xh(n,i));const o=l(e,["config"]);o!=null&&a(t,["config"],lT(n,o,t));const s=l(e,["model"]);return s!==void 0&&a(t,["requests[]","model"],Q(n,s)),t}function uT(n,e,t){const r={};if(l(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(l(e,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const i=l(e,["numberOfImages"]);t!==void 0&&i!=null&&a(t,["parameters","sampleCount"],i);const o=l(e,["aspectRatio"]);t!==void 0&&o!=null&&a(t,["parameters","aspectRatio"],o);const s=l(e,["guidanceScale"]);if(t!==void 0&&s!=null&&a(t,["parameters","guidanceScale"],s),l(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const u=l(e,["safetyFilterLevel"]);t!==void 0&&u!=null&&a(t,["parameters","safetySetting"],u);const c=l(e,["personGeneration"]);t!==void 0&&c!=null&&a(t,["parameters","personGeneration"],c);const f=l(e,["includeSafetyAttributes"]);t!==void 0&&f!=null&&a(t,["parameters","includeSafetyAttributes"],f);const d=l(e,["includeRaiReason"]);t!==void 0&&d!=null&&a(t,["parameters","includeRaiReason"],d);const p=l(e,["language"]);t!==void 0&&p!=null&&a(t,["parameters","language"],p);const h=l(e,["outputMimeType"]);t!==void 0&&h!=null&&a(t,["parameters","outputOptions","mimeType"],h);const g=l(e,["outputCompressionQuality"]);if(t!==void 0&&g!=null&&a(t,["parameters","outputOptions","compressionQuality"],g),l(e,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(l(e,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return r}function cT(n,e){const t={},r=l(e,["model"]);r!=null&&a(t,["_url","model"],Q(n,r));const i=l(e,["prompt"]);i!=null&&a(t,["instances[0]","prompt"],i);const o=l(e,["config"]);return o!=null&&a(t,["config"],uT(n,o,t)),t}function fT(n,e){const t={},r=l(e,["model"]);r!=null&&a(t,["_url","name"],Q(n,r));const i=l(e,["config"]);return i!=null&&a(t,["config"],i),t}function dT(n,e,t){const r={},i=l(e,["pageSize"]);t!==void 0&&i!=null&&a(t,["_query","pageSize"],i);const o=l(e,["pageToken"]);t!==void 0&&o!=null&&a(t,["_query","pageToken"],o);const s=l(e,["filter"]);t!==void 0&&s!=null&&a(t,["_query","filter"],s);const u=l(e,["queryBase"]);return t!==void 0&&u!=null&&a(t,["_url","models_url"],nm(n,u)),r}function pT(n,e){const t={},r=l(e,["config"]);return r!=null&&a(t,["config"],dT(n,r,t)),t}function hT(n,e,t){const r={},i=l(e,["displayName"]);t!==void 0&&i!=null&&a(t,["displayName"],i);const o=l(e,["description"]);t!==void 0&&o!=null&&a(t,["description"],o);const s=l(e,["defaultCheckpointId"]);return t!==void 0&&s!=null&&a(t,["defaultCheckpointId"],s),r}function mT(n,e){const t={},r=l(e,["model"]);r!=null&&a(t,["_url","name"],Q(n,r));const i=l(e,["config"]);return i!=null&&a(t,["config"],hT(n,i,t)),t}function gT(n,e){const t={},r=l(e,["model"]);r!=null&&a(t,["_url","name"],Q(n,r));const i=l(e,["config"]);return i!=null&&a(t,["config"],i),t}function yT(n,e){const t={};if(l(e,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(l(e,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(l(e,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return t}function vT(n,e){const t={},r=l(e,["model"]);r!=null&&a(t,["_url","model"],Q(n,r));const i=l(e,["contents"]);if(i!=null){let s=Zt(n,i);Array.isArray(s)&&(s=s.map(u=>gs(n,u))),a(t,["contents"],s)}const o=l(e,["config"]);return o!=null&&a(t,["config"],yT(n,o)),t}function _T(n,e){const t={};if(l(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const r=l(e,["imageBytes"]);r!=null&&a(t,["bytesBase64Encoded"],en(n,r));const i=l(e,["mimeType"]);return i!=null&&a(t,["mimeType"],i),t}function CT(n,e,t){const r={},i=l(e,["numberOfVideos"]);if(t!==void 0&&i!=null&&a(t,["parameters","sampleCount"],i),l(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(l(e,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const o=l(e,["durationSeconds"]);if(t!==void 0&&o!=null&&a(t,["parameters","durationSeconds"],o),l(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const s=l(e,["aspectRatio"]);if(t!==void 0&&s!=null&&a(t,["parameters","aspectRatio"],s),l(e,["resolution"])!==void 0)throw new Error("resolution parameter is not supported in Gemini API.");const u=l(e,["personGeneration"]);if(t!==void 0&&u!=null&&a(t,["parameters","personGeneration"],u),l(e,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const c=l(e,["negativePrompt"]);if(t!==void 0&&c!=null&&a(t,["parameters","negativePrompt"],c),l(e,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return r}function TT(n,e){const t={},r=l(e,["model"]);r!=null&&a(t,["_url","model"],Q(n,r));const i=l(e,["prompt"]);i!=null&&a(t,["instances[0]","prompt"],i);const o=l(e,["image"]);o!=null&&a(t,["instances[0]","image"],_T(n,o));const s=l(e,["config"]);return s!=null&&a(t,["config"],CT(n,s,t)),t}function wT(n,e){const t={},r=l(e,["displayName"]);r!=null&&a(t,["displayName"],r);const i=l(e,["data"]);i!=null&&a(t,["data"],i);const o=l(e,["mimeType"]);return o!=null&&a(t,["mimeType"],o),t}function ST(n,e){const t={},r=l(e,["videoMetadata"]);r!=null&&a(t,["videoMetadata"],r);const i=l(e,["thought"]);i!=null&&a(t,["thought"],i);const o=l(e,["inlineData"]);o!=null&&a(t,["inlineData"],wT(n,o));const s=l(e,["codeExecutionResult"]);s!=null&&a(t,["codeExecutionResult"],s);const u=l(e,["executableCode"]);u!=null&&a(t,["executableCode"],u);const c=l(e,["fileData"]);c!=null&&a(t,["fileData"],c);const f=l(e,["functionCall"]);f!=null&&a(t,["functionCall"],f);const d=l(e,["functionResponse"]);d!=null&&a(t,["functionResponse"],d);const p=l(e,["text"]);return p!=null&&a(t,["text"],p),t}function sr(n,e){const t={},r=l(e,["parts"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>ST(n,s))),a(t,["parts"],o)}const i=l(e,["role"]);return i!=null&&a(t,["role"],i),t}function ET(n,e){const t={},r=l(e,["featureSelectionPreference"]);return r!=null&&a(t,["featureSelectionPreference"],r),t}function IT(n,e){const t={},r=l(e,["method"]);r!=null&&a(t,["method"],r);const i=l(e,["category"]);i!=null&&a(t,["category"],i);const o=l(e,["threshold"]);return o!=null&&a(t,["threshold"],o),t}function AT(){return{}}function xT(n,e){const t={},r=l(e,["mode"]);r!=null&&a(t,["mode"],r);const i=l(e,["dynamicThreshold"]);return i!=null&&a(t,["dynamicThreshold"],i),t}function PT(n,e){const t={},r=l(e,["dynamicRetrievalConfig"]);return r!=null&&a(t,["dynamicRetrievalConfig"],xT(n,r)),t}function RT(){return{}}function MT(n,e){const t={},r=l(e,["apiKeyString"]);return r!=null&&a(t,["apiKeyString"],r),t}function kT(n,e){const t={},r=l(e,["apiKeyConfig"]);r!=null&&a(t,["apiKeyConfig"],MT(n,r));const i=l(e,["authType"]);i!=null&&a(t,["authType"],i);const o=l(e,["googleServiceAccountConfig"]);o!=null&&a(t,["googleServiceAccountConfig"],o);const s=l(e,["httpBasicAuthConfig"]);s!=null&&a(t,["httpBasicAuthConfig"],s);const u=l(e,["oauthConfig"]);u!=null&&a(t,["oauthConfig"],u);const c=l(e,["oidcConfig"]);return c!=null&&a(t,["oidcConfig"],c),t}function NT(n,e){const t={},r=l(e,["authConfig"]);return r!=null&&a(t,["authConfig"],kT(n,r)),t}function om(n,e){const t={},r=l(e,["retrieval"]);r!=null&&a(t,["retrieval"],r),l(e,["googleSearch"])!=null&&a(t,["googleSearch"],AT());const o=l(e,["googleSearchRetrieval"]);o!=null&&a(t,["googleSearchRetrieval"],PT(n,o)),l(e,["enterpriseWebSearch"])!=null&&a(t,["enterpriseWebSearch"],RT());const u=l(e,["googleMaps"]);u!=null&&a(t,["googleMaps"],NT(n,u));const c=l(e,["codeExecution"]);c!=null&&a(t,["codeExecution"],c);const f=l(e,["functionDeclarations"]);return f!=null&&a(t,["functionDeclarations"],f),t}function DT(n,e){const t={},r=l(e,["mode"]);r!=null&&a(t,["mode"],r);const i=l(e,["allowedFunctionNames"]);return i!=null&&a(t,["allowedFunctionNames"],i),t}function LT(n,e){const t={},r=l(e,["latitude"]);r!=null&&a(t,["latitude"],r);const i=l(e,["longitude"]);return i!=null&&a(t,["longitude"],i),t}function FT(n,e){const t={},r=l(e,["latLng"]);return r!=null&&a(t,["latLng"],LT(n,r)),t}function UT(n,e){const t={},r=l(e,["functionCallingConfig"]);r!=null&&a(t,["functionCallingConfig"],DT(n,r));const i=l(e,["retrievalConfig"]);return i!=null&&a(t,["retrievalConfig"],FT(n,i)),t}function VT(n,e){const t={},r=l(e,["voiceName"]);return r!=null&&a(t,["voiceName"],r),t}function $T(n,e){const t={},r=l(e,["prebuiltVoiceConfig"]);return r!=null&&a(t,["prebuiltVoiceConfig"],VT(n,r)),t}function OT(n,e){const t={},r=l(e,["voiceConfig"]);r!=null&&a(t,["voiceConfig"],$T(n,r));const i=l(e,["languageCode"]);return i!=null&&a(t,["languageCode"],i),t}function BT(n,e){const t={},r=l(e,["includeThoughts"]);r!=null&&a(t,["includeThoughts"],r);const i=l(e,["thinkingBudget"]);return i!=null&&a(t,["thinkingBudget"],i),t}function qT(n,e,t){const r={},i=l(e,["systemInstruction"]);t!==void 0&&i!=null&&a(t,["systemInstruction"],sr(n,Le(n,i)));const o=l(e,["temperature"]);o!=null&&a(r,["temperature"],o);const s=l(e,["topP"]);s!=null&&a(r,["topP"],s);const u=l(e,["topK"]);u!=null&&a(r,["topK"],u);const c=l(e,["candidateCount"]);c!=null&&a(r,["candidateCount"],c);const f=l(e,["maxOutputTokens"]);f!=null&&a(r,["maxOutputTokens"],f);const d=l(e,["stopSequences"]);d!=null&&a(r,["stopSequences"],d);const p=l(e,["responseLogprobs"]);p!=null&&a(r,["responseLogprobs"],p);const h=l(e,["logprobs"]);h!=null&&a(r,["logprobs"],h);const g=l(e,["presencePenalty"]);g!=null&&a(r,["presencePenalty"],g);const v=l(e,["frequencyPenalty"]);v!=null&&a(r,["frequencyPenalty"],v);const C=l(e,["seed"]);C!=null&&a(r,["seed"],C);const S=l(e,["responseMimeType"]);S!=null&&a(r,["responseMimeType"],S);const _=l(e,["responseSchema"]);_!=null&&a(r,["responseSchema"],Zh(n,_));const m=l(e,["routingConfig"]);m!=null&&a(r,["routingConfig"],m);const y=l(e,["modelSelectionConfig"]);y!=null&&a(r,["modelConfig"],ET(n,y));const T=l(e,["safetySettings"]);if(t!==void 0&&T!=null){let Me=T;Array.isArray(Me)&&(Me=Me.map(Rt=>IT(n,Rt))),a(t,["safetySettings"],Me)}const E=l(e,["tools"]);if(t!==void 0&&E!=null){let Me=hs(n,E);Array.isArray(Me)&&(Me=Me.map(Rt=>om(n,ps(n,Rt)))),a(t,["tools"],Me)}const P=l(e,["toolConfig"]);t!==void 0&&P!=null&&a(t,["toolConfig"],UT(n,P));const I=l(e,["labels"]);t!==void 0&&I!=null&&a(t,["labels"],I);const R=l(e,["cachedContent"]);t!==void 0&&R!=null&&a(t,["cachedContent"],jt(n,R));const U=l(e,["responseModalities"]);U!=null&&a(r,["responseModalities"],U);const M=l(e,["mediaResolution"]);M!=null&&a(r,["mediaResolution"],M);const O=l(e,["speechConfig"]);O!=null&&a(r,["speechConfig"],OT(n,jh(n,O)));const Ee=l(e,["audioTimestamp"]);Ee!=null&&a(r,["audioTimestamp"],Ee);const Ke=l(e,["thinkingConfig"]);return Ke!=null&&a(r,["thinkingConfig"],BT(n,Ke)),r}function td(n,e){const t={},r=l(e,["model"]);r!=null&&a(t,["_url","model"],Q(n,r));const i=l(e,["contents"]);if(i!=null){let s=Zt(n,i);Array.isArray(s)&&(s=s.map(u=>sr(n,u))),a(t,["contents"],s)}const o=l(e,["config"]);return o!=null&&a(t,["generationConfig"],qT(n,o,t)),t}function GT(n,e,t){const r={},i=l(e,["taskType"]);t!==void 0&&i!=null&&a(t,["instances[]","task_type"],i);const o=l(e,["title"]);t!==void 0&&o!=null&&a(t,["instances[]","title"],o);const s=l(e,["outputDimensionality"]);t!==void 0&&s!=null&&a(t,["parameters","outputDimensionality"],s);const u=l(e,["mimeType"]);t!==void 0&&u!=null&&a(t,["instances[]","mimeType"],u);const c=l(e,["autoTruncate"]);return t!==void 0&&c!=null&&a(t,["parameters","autoTruncate"],c),r}function zT(n,e){const t={},r=l(e,["model"]);r!=null&&a(t,["_url","model"],Q(n,r));const i=l(e,["contents"]);i!=null&&a(t,["instances[]","content"],Xh(n,i));const o=l(e,["config"]);return o!=null&&a(t,["config"],GT(n,o,t)),t}function HT(n,e,t){const r={},i=l(e,["outputGcsUri"]);t!==void 0&&i!=null&&a(t,["parameters","storageUri"],i);const o=l(e,["negativePrompt"]);t!==void 0&&o!=null&&a(t,["parameters","negativePrompt"],o);const s=l(e,["numberOfImages"]);t!==void 0&&s!=null&&a(t,["parameters","sampleCount"],s);const u=l(e,["aspectRatio"]);t!==void 0&&u!=null&&a(t,["parameters","aspectRatio"],u);const c=l(e,["guidanceScale"]);t!==void 0&&c!=null&&a(t,["parameters","guidanceScale"],c);const f=l(e,["seed"]);t!==void 0&&f!=null&&a(t,["parameters","seed"],f);const d=l(e,["safetyFilterLevel"]);t!==void 0&&d!=null&&a(t,["parameters","safetySetting"],d);const p=l(e,["personGeneration"]);t!==void 0&&p!=null&&a(t,["parameters","personGeneration"],p);const h=l(e,["includeSafetyAttributes"]);t!==void 0&&h!=null&&a(t,["parameters","includeSafetyAttributes"],h);const g=l(e,["includeRaiReason"]);t!==void 0&&g!=null&&a(t,["parameters","includeRaiReason"],g);const v=l(e,["language"]);t!==void 0&&v!=null&&a(t,["parameters","language"],v);const C=l(e,["outputMimeType"]);t!==void 0&&C!=null&&a(t,["parameters","outputOptions","mimeType"],C);const S=l(e,["outputCompressionQuality"]);t!==void 0&&S!=null&&a(t,["parameters","outputOptions","compressionQuality"],S);const _=l(e,["addWatermark"]);t!==void 0&&_!=null&&a(t,["parameters","addWatermark"],_);const m=l(e,["enhancePrompt"]);return t!==void 0&&m!=null&&a(t,["parameters","enhancePrompt"],m),r}function WT(n,e){const t={},r=l(e,["model"]);r!=null&&a(t,["_url","model"],Q(n,r));const i=l(e,["prompt"]);i!=null&&a(t,["instances[0]","prompt"],i);const o=l(e,["config"]);return o!=null&&a(t,["config"],HT(n,o,t)),t}function wu(n,e){const t={},r=l(e,["gcsUri"]);r!=null&&a(t,["gcsUri"],r);const i=l(e,["imageBytes"]);i!=null&&a(t,["bytesBase64Encoded"],en(n,i));const o=l(e,["mimeType"]);return o!=null&&a(t,["mimeType"],o),t}function JT(n,e){const t={},r=l(e,["maskMode"]);r!=null&&a(t,["maskMode"],r);const i=l(e,["segmentationClasses"]);i!=null&&a(t,["maskClasses"],i);const o=l(e,["maskDilation"]);return o!=null&&a(t,["dilation"],o),t}function KT(n,e){const t={},r=l(e,["controlType"]);r!=null&&a(t,["controlType"],r);const i=l(e,["enableControlImageComputation"]);return i!=null&&a(t,["computeControl"],i),t}function YT(n,e){const t={},r=l(e,["styleDescription"]);return r!=null&&a(t,["styleDescription"],r),t}function bT(n,e){const t={},r=l(e,["subjectType"]);r!=null&&a(t,["subjectType"],r);const i=l(e,["subjectDescription"]);return i!=null&&a(t,["subjectDescription"],i),t}function QT(n,e){const t={},r=l(e,["referenceImage"]);r!=null&&a(t,["referenceImage"],wu(n,r));const i=l(e,["referenceId"]);i!=null&&a(t,["referenceId"],i);const o=l(e,["referenceType"]);o!=null&&a(t,["referenceType"],o);const s=l(e,["maskImageConfig"]);s!=null&&a(t,["maskImageConfig"],JT(n,s));const u=l(e,["controlImageConfig"]);u!=null&&a(t,["controlImageConfig"],KT(n,u));const c=l(e,["styleImageConfig"]);c!=null&&a(t,["styleImageConfig"],YT(n,c));const f=l(e,["subjectImageConfig"]);return f!=null&&a(t,["subjectImageConfig"],bT(n,f)),t}function XT(n,e,t){const r={},i=l(e,["outputGcsUri"]);t!==void 0&&i!=null&&a(t,["parameters","storageUri"],i);const o=l(e,["negativePrompt"]);t!==void 0&&o!=null&&a(t,["parameters","negativePrompt"],o);const s=l(e,["numberOfImages"]);t!==void 0&&s!=null&&a(t,["parameters","sampleCount"],s);const u=l(e,["aspectRatio"]);t!==void 0&&u!=null&&a(t,["parameters","aspectRatio"],u);const c=l(e,["guidanceScale"]);t!==void 0&&c!=null&&a(t,["parameters","guidanceScale"],c);const f=l(e,["seed"]);t!==void 0&&f!=null&&a(t,["parameters","seed"],f);const d=l(e,["safetyFilterLevel"]);t!==void 0&&d!=null&&a(t,["parameters","safetySetting"],d);const p=l(e,["personGeneration"]);t!==void 0&&p!=null&&a(t,["parameters","personGeneration"],p);const h=l(e,["includeSafetyAttributes"]);t!==void 0&&h!=null&&a(t,["parameters","includeSafetyAttributes"],h);const g=l(e,["includeRaiReason"]);t!==void 0&&g!=null&&a(t,["parameters","includeRaiReason"],g);const v=l(e,["language"]);t!==void 0&&v!=null&&a(t,["parameters","language"],v);const C=l(e,["outputMimeType"]);t!==void 0&&C!=null&&a(t,["parameters","outputOptions","mimeType"],C);const S=l(e,["outputCompressionQuality"]);t!==void 0&&S!=null&&a(t,["parameters","outputOptions","compressionQuality"],S);const _=l(e,["editMode"]);t!==void 0&&_!=null&&a(t,["parameters","editMode"],_);const m=l(e,["baseSteps"]);return t!==void 0&&m!=null&&a(t,["parameters","editConfig","baseSteps"],m),r}function ZT(n,e){const t={},r=l(e,["model"]);r!=null&&a(t,["_url","model"],Q(n,r));const i=l(e,["prompt"]);i!=null&&a(t,["instances[0]","prompt"],i);const o=l(e,["referenceImages"]);if(o!=null){let u=o;Array.isArray(u)&&(u=u.map(c=>QT(n,c))),a(t,["instances[0]","referenceImages"],u)}const s=l(e,["config"]);return s!=null&&a(t,["config"],XT(n,s,t)),t}function jT(n,e,t){const r={},i=l(e,["includeRaiReason"]);t!==void 0&&i!=null&&a(t,["parameters","includeRaiReason"],i);const o=l(e,["outputMimeType"]);t!==void 0&&o!=null&&a(t,["parameters","outputOptions","mimeType"],o);const s=l(e,["outputCompressionQuality"]);t!==void 0&&s!=null&&a(t,["parameters","outputOptions","compressionQuality"],s);const u=l(e,["numberOfImages"]);t!==void 0&&u!=null&&a(t,["parameters","sampleCount"],u);const c=l(e,["mode"]);return t!==void 0&&c!=null&&a(t,["parameters","mode"],c),r}function ew(n,e){const t={},r=l(e,["model"]);r!=null&&a(t,["_url","model"],Q(n,r));const i=l(e,["image"]);i!=null&&a(t,["instances[0]","image"],wu(n,i));const o=l(e,["upscaleFactor"]);o!=null&&a(t,["parameters","upscaleConfig","upscaleFactor"],o);const s=l(e,["config"]);return s!=null&&a(t,["config"],jT(n,s,t)),t}function tw(n,e){const t={},r=l(e,["model"]);r!=null&&a(t,["_url","name"],Q(n,r));const i=l(e,["config"]);return i!=null&&a(t,["config"],i),t}function nw(n,e,t){const r={},i=l(e,["pageSize"]);t!==void 0&&i!=null&&a(t,["_query","pageSize"],i);const o=l(e,["pageToken"]);t!==void 0&&o!=null&&a(t,["_query","pageToken"],o);const s=l(e,["filter"]);t!==void 0&&s!=null&&a(t,["_query","filter"],s);const u=l(e,["queryBase"]);return t!==void 0&&u!=null&&a(t,["_url","models_url"],nm(n,u)),r}function rw(n,e){const t={},r=l(e,["config"]);return r!=null&&a(t,["config"],nw(n,r,t)),t}function iw(n,e,t){const r={},i=l(e,["displayName"]);t!==void 0&&i!=null&&a(t,["displayName"],i);const o=l(e,["description"]);t!==void 0&&o!=null&&a(t,["description"],o);const s=l(e,["defaultCheckpointId"]);return t!==void 0&&s!=null&&a(t,["defaultCheckpointId"],s),r}function ow(n,e){const t={},r=l(e,["model"]);r!=null&&a(t,["_url","model"],Q(n,r));const i=l(e,["config"]);return i!=null&&a(t,["config"],iw(n,i,t)),t}function sw(n,e){const t={},r=l(e,["model"]);r!=null&&a(t,["_url","name"],Q(n,r));const i=l(e,["config"]);return i!=null&&a(t,["config"],i),t}function lw(n,e,t){const r={},i=l(e,["systemInstruction"]);t!==void 0&&i!=null&&a(t,["systemInstruction"],sr(n,Le(n,i)));const o=l(e,["tools"]);if(t!==void 0&&o!=null){let u=o;Array.isArray(u)&&(u=u.map(c=>om(n,c))),a(t,["tools"],u)}const s=l(e,["generationConfig"]);return t!==void 0&&s!=null&&a(t,["generationConfig"],s),r}function aw(n,e){const t={},r=l(e,["model"]);r!=null&&a(t,["_url","model"],Q(n,r));const i=l(e,["contents"]);if(i!=null){let s=Zt(n,i);Array.isArray(s)&&(s=s.map(u=>sr(n,u))),a(t,["contents"],s)}const o=l(e,["config"]);return o!=null&&a(t,["config"],lw(n,o,t)),t}function uw(n,e){const t={},r=l(e,["model"]);r!=null&&a(t,["_url","model"],Q(n,r));const i=l(e,["contents"]);if(i!=null){let s=Zt(n,i);Array.isArray(s)&&(s=s.map(u=>sr(n,u))),a(t,["contents"],s)}const o=l(e,["config"]);return o!=null&&a(t,["config"],o),t}function cw(n,e,t){const r={},i=l(e,["numberOfVideos"]);t!==void 0&&i!=null&&a(t,["parameters","sampleCount"],i);const o=l(e,["outputGcsUri"]);t!==void 0&&o!=null&&a(t,["parameters","storageUri"],o);const s=l(e,["fps"]);t!==void 0&&s!=null&&a(t,["parameters","fps"],s);const u=l(e,["durationSeconds"]);t!==void 0&&u!=null&&a(t,["parameters","durationSeconds"],u);const c=l(e,["seed"]);t!==void 0&&c!=null&&a(t,["parameters","seed"],c);const f=l(e,["aspectRatio"]);t!==void 0&&f!=null&&a(t,["parameters","aspectRatio"],f);const d=l(e,["resolution"]);t!==void 0&&d!=null&&a(t,["parameters","resolution"],d);const p=l(e,["personGeneration"]);t!==void 0&&p!=null&&a(t,["parameters","personGeneration"],p);const h=l(e,["pubsubTopic"]);t!==void 0&&h!=null&&a(t,["parameters","pubsubTopic"],h);const g=l(e,["negativePrompt"]);t!==void 0&&g!=null&&a(t,["parameters","negativePrompt"],g);const v=l(e,["enhancePrompt"]);return t!==void 0&&v!=null&&a(t,["parameters","enhancePrompt"],v),r}function fw(n,e){const t={},r=l(e,["model"]);r!=null&&a(t,["_url","model"],Q(n,r));const i=l(e,["prompt"]);i!=null&&a(t,["instances[0]","prompt"],i);const o=l(e,["image"]);o!=null&&a(t,["instances[0]","image"],wu(n,o));const s=l(e,["config"]);return s!=null&&a(t,["config"],cw(n,s,t)),t}function dw(n,e){const t={},r=l(e,["data"]);r!=null&&a(t,["data"],r);const i=l(e,["mimeType"]);return i!=null&&a(t,["mimeType"],i),t}function pw(n,e){const t={},r=l(e,["thought"]);r!=null&&a(t,["thought"],r);const i=l(e,["inlineData"]);i!=null&&a(t,["inlineData"],dw(n,i));const o=l(e,["codeExecutionResult"]);o!=null&&a(t,["codeExecutionResult"],o);const s=l(e,["executableCode"]);s!=null&&a(t,["executableCode"],s);const u=l(e,["fileData"]);u!=null&&a(t,["fileData"],u);const c=l(e,["functionCall"]);c!=null&&a(t,["functionCall"],c);const f=l(e,["functionResponse"]);f!=null&&a(t,["functionResponse"],f);const d=l(e,["text"]);return d!=null&&a(t,["text"],d),t}function hw(n,e){const t={},r=l(e,["parts"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>pw(n,s))),a(t,["parts"],o)}const i=l(e,["role"]);return i!=null&&a(t,["role"],i),t}function mw(n,e){const t={},r=l(e,["citationSources"]);return r!=null&&a(t,["citations"],r),t}function gw(n,e){const t={},r=l(e,["content"]);r!=null&&a(t,["content"],hw(n,r));const i=l(e,["citationMetadata"]);i!=null&&a(t,["citationMetadata"],mw(n,i));const o=l(e,["tokenCount"]);o!=null&&a(t,["tokenCount"],o);const s=l(e,["finishReason"]);s!=null&&a(t,["finishReason"],s);const u=l(e,["avgLogprobs"]);u!=null&&a(t,["avgLogprobs"],u);const c=l(e,["groundingMetadata"]);c!=null&&a(t,["groundingMetadata"],c);const f=l(e,["index"]);f!=null&&a(t,["index"],f);const d=l(e,["logprobsResult"]);d!=null&&a(t,["logprobsResult"],d);const p=l(e,["safetyRatings"]);return p!=null&&a(t,["safetyRatings"],p),t}function nd(n,e){const t={},r=l(e,["candidates"]);if(r!=null){let u=r;Array.isArray(u)&&(u=u.map(c=>gw(n,c))),a(t,["candidates"],u)}const i=l(e,["modelVersion"]);i!=null&&a(t,["modelVersion"],i);const o=l(e,["promptFeedback"]);o!=null&&a(t,["promptFeedback"],o);const s=l(e,["usageMetadata"]);return s!=null&&a(t,["usageMetadata"],s),t}function yw(n,e){const t={},r=l(e,["values"]);return r!=null&&a(t,["values"],r),t}function vw(){return{}}function _w(n,e){const t={},r=l(e,["embeddings"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>yw(n,s))),a(t,["embeddings"],o)}return l(e,["metadata"])!=null&&a(t,["metadata"],vw()),t}function Cw(n,e){const t={},r=l(e,["bytesBase64Encoded"]);r!=null&&a(t,["imageBytes"],en(n,r));const i=l(e,["mimeType"]);return i!=null&&a(t,["mimeType"],i),t}function sm(n,e){const t={},r=l(e,["safetyAttributes","categories"]);r!=null&&a(t,["categories"],r);const i=l(e,["safetyAttributes","scores"]);i!=null&&a(t,["scores"],i);const o=l(e,["contentType"]);return o!=null&&a(t,["contentType"],o),t}function Tw(n,e){const t={},r=l(e,["_self"]);r!=null&&a(t,["image"],Cw(n,r));const i=l(e,["raiFilteredReason"]);i!=null&&a(t,["raiFilteredReason"],i);const o=l(e,["_self"]);return o!=null&&a(t,["safetyAttributes"],sm(n,o)),t}function ww(n,e){const t={},r=l(e,["predictions"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>Tw(n,s))),a(t,["generatedImages"],o)}const i=l(e,["positivePromptSafetyAttributes"]);return i!=null&&a(t,["positivePromptSafetyAttributes"],sm(n,i)),t}function Sw(n,e){const t={},r=l(e,["baseModel"]);r!=null&&a(t,["baseModel"],r);const i=l(e,["createTime"]);i!=null&&a(t,["createTime"],i);const o=l(e,["updateTime"]);return o!=null&&a(t,["updateTime"],o),t}function ua(n,e){const t={},r=l(e,["name"]);r!=null&&a(t,["name"],r);const i=l(e,["displayName"]);i!=null&&a(t,["displayName"],i);const o=l(e,["description"]);o!=null&&a(t,["description"],o);const s=l(e,["version"]);s!=null&&a(t,["version"],s);const u=l(e,["_self"]);u!=null&&a(t,["tunedModelInfo"],Sw(n,u));const c=l(e,["inputTokenLimit"]);c!=null&&a(t,["inputTokenLimit"],c);const f=l(e,["outputTokenLimit"]);f!=null&&a(t,["outputTokenLimit"],f);const d=l(e,["supportedGenerationMethods"]);return d!=null&&a(t,["supportedActions"],d),t}function Ew(n,e){const t={},r=l(e,["nextPageToken"]);r!=null&&a(t,["nextPageToken"],r);const i=l(e,["_self"]);if(i!=null){let o=rm(n,i);Array.isArray(o)&&(o=o.map(s=>ua(n,s))),a(t,["models"],o)}return t}function Iw(){return{}}function Aw(n,e){const t={},r=l(e,["totalTokens"]);r!=null&&a(t,["totalTokens"],r);const i=l(e,["cachedContentTokenCount"]);return i!=null&&a(t,["cachedContentTokenCount"],i),t}function xw(n,e){const t={},r=l(e,["video","uri"]);r!=null&&a(t,["uri"],r);const i=l(e,["video","encodedVideo"]);i!=null&&a(t,["videoBytes"],en(n,i));const o=l(e,["encoding"]);return o!=null&&a(t,["mimeType"],o),t}function Pw(n,e){const t={},r=l(e,["_self"]);return r!=null&&a(t,["video"],xw(n,r)),t}function Rw(n,e){const t={},r=l(e,["generatedSamples"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(u=>Pw(n,u))),a(t,["generatedVideos"],s)}const i=l(e,["raiMediaFilteredCount"]);i!=null&&a(t,["raiMediaFilteredCount"],i);const o=l(e,["raiMediaFilteredReasons"]);return o!=null&&a(t,["raiMediaFilteredReasons"],o),t}function Mw(n,e){const t={},r=l(e,["name"]);r!=null&&a(t,["name"],r);const i=l(e,["metadata"]);i!=null&&a(t,["metadata"],i);const o=l(e,["done"]);o!=null&&a(t,["done"],o);const s=l(e,["error"]);s!=null&&a(t,["error"],s);const u=l(e,["response","generateVideoResponse"]);return u!=null&&a(t,["response"],Rw(n,u)),t}function kw(n,e){const t={},r=l(e,["displayName"]);r!=null&&a(t,["displayName"],r);const i=l(e,["data"]);i!=null&&a(t,["data"],i);const o=l(e,["mimeType"]);return o!=null&&a(t,["mimeType"],o),t}function Nw(n,e){const t={},r=l(e,["videoMetadata"]);r!=null&&a(t,["videoMetadata"],r);const i=l(e,["thought"]);i!=null&&a(t,["thought"],i);const o=l(e,["inlineData"]);o!=null&&a(t,["inlineData"],kw(n,o));const s=l(e,["codeExecutionResult"]);s!=null&&a(t,["codeExecutionResult"],s);const u=l(e,["executableCode"]);u!=null&&a(t,["executableCode"],u);const c=l(e,["fileData"]);c!=null&&a(t,["fileData"],c);const f=l(e,["functionCall"]);f!=null&&a(t,["functionCall"],f);const d=l(e,["functionResponse"]);d!=null&&a(t,["functionResponse"],d);const p=l(e,["text"]);return p!=null&&a(t,["text"],p),t}function Dw(n,e){const t={},r=l(e,["parts"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>Nw(n,s))),a(t,["parts"],o)}const i=l(e,["role"]);return i!=null&&a(t,["role"],i),t}function Lw(n,e){const t={},r=l(e,["citations"]);return r!=null&&a(t,["citations"],r),t}function Fw(n,e){const t={},r=l(e,["content"]);r!=null&&a(t,["content"],Dw(n,r));const i=l(e,["citationMetadata"]);i!=null&&a(t,["citationMetadata"],Lw(n,i));const o=l(e,["finishMessage"]);o!=null&&a(t,["finishMessage"],o);const s=l(e,["finishReason"]);s!=null&&a(t,["finishReason"],s);const u=l(e,["avgLogprobs"]);u!=null&&a(t,["avgLogprobs"],u);const c=l(e,["groundingMetadata"]);c!=null&&a(t,["groundingMetadata"],c);const f=l(e,["index"]);f!=null&&a(t,["index"],f);const d=l(e,["logprobsResult"]);d!=null&&a(t,["logprobsResult"],d);const p=l(e,["safetyRatings"]);return p!=null&&a(t,["safetyRatings"],p),t}function rd(n,e){const t={},r=l(e,["candidates"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(d=>Fw(n,d))),a(t,["candidates"],f)}const i=l(e,["createTime"]);i!=null&&a(t,["createTime"],i);const o=l(e,["responseId"]);o!=null&&a(t,["responseId"],o);const s=l(e,["modelVersion"]);s!=null&&a(t,["modelVersion"],s);const u=l(e,["promptFeedback"]);u!=null&&a(t,["promptFeedback"],u);const c=l(e,["usageMetadata"]);return c!=null&&a(t,["usageMetadata"],c),t}function Uw(n,e){const t={},r=l(e,["truncated"]);r!=null&&a(t,["truncated"],r);const i=l(e,["token_count"]);return i!=null&&a(t,["tokenCount"],i),t}function Vw(n,e){const t={},r=l(e,["values"]);r!=null&&a(t,["values"],r);const i=l(e,["statistics"]);return i!=null&&a(t,["statistics"],Uw(n,i)),t}function $w(n,e){const t={},r=l(e,["billableCharacterCount"]);return r!=null&&a(t,["billableCharacterCount"],r),t}function Ow(n,e){const t={},r=l(e,["predictions[]","embeddings"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>Vw(n,s))),a(t,["embeddings"],o)}const i=l(e,["metadata"]);return i!=null&&a(t,["metadata"],$w(n,i)),t}function Bw(n,e){const t={},r=l(e,["gcsUri"]);r!=null&&a(t,["gcsUri"],r);const i=l(e,["bytesBase64Encoded"]);i!=null&&a(t,["imageBytes"],en(n,i));const o=l(e,["mimeType"]);return o!=null&&a(t,["mimeType"],o),t}function lm(n,e){const t={},r=l(e,["safetyAttributes","categories"]);r!=null&&a(t,["categories"],r);const i=l(e,["safetyAttributes","scores"]);i!=null&&a(t,["scores"],i);const o=l(e,["contentType"]);return o!=null&&a(t,["contentType"],o),t}function Su(n,e){const t={},r=l(e,["_self"]);r!=null&&a(t,["image"],Bw(n,r));const i=l(e,["raiFilteredReason"]);i!=null&&a(t,["raiFilteredReason"],i);const o=l(e,["_self"]);o!=null&&a(t,["safetyAttributes"],lm(n,o));const s=l(e,["prompt"]);return s!=null&&a(t,["enhancedPrompt"],s),t}function qw(n,e){const t={},r=l(e,["predictions"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>Su(n,s))),a(t,["generatedImages"],o)}const i=l(e,["positivePromptSafetyAttributes"]);return i!=null&&a(t,["positivePromptSafetyAttributes"],lm(n,i)),t}function Gw(n,e){const t={},r=l(e,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>Su(n,o))),a(t,["generatedImages"],i)}return t}function zw(n,e){const t={},r=l(e,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>Su(n,o))),a(t,["generatedImages"],i)}return t}function Hw(n,e){const t={},r=l(e,["endpoint"]);r!=null&&a(t,["name"],r);const i=l(e,["deployedModelId"]);return i!=null&&a(t,["deployedModelId"],i),t}function Ww(n,e){const t={},r=l(e,["labels","google-vertex-llm-tuning-base-model-id"]);r!=null&&a(t,["baseModel"],r);const i=l(e,["createTime"]);i!=null&&a(t,["createTime"],i);const o=l(e,["updateTime"]);return o!=null&&a(t,["updateTime"],o),t}function Jw(n,e){const t={},r=l(e,["checkpointId"]);r!=null&&a(t,["checkpointId"],r);const i=l(e,["epoch"]);i!=null&&a(t,["epoch"],i);const o=l(e,["step"]);return o!=null&&a(t,["step"],o),t}function ca(n,e){const t={},r=l(e,["name"]);r!=null&&a(t,["name"],r);const i=l(e,["displayName"]);i!=null&&a(t,["displayName"],i);const o=l(e,["description"]);o!=null&&a(t,["description"],o);const s=l(e,["versionId"]);s!=null&&a(t,["version"],s);const u=l(e,["deployedModels"]);if(u!=null){let h=u;Array.isArray(h)&&(h=h.map(g=>Hw(n,g))),a(t,["endpoints"],h)}const c=l(e,["labels"]);c!=null&&a(t,["labels"],c);const f=l(e,["_self"]);f!=null&&a(t,["tunedModelInfo"],Ww(n,f));const d=l(e,["defaultCheckpointId"]);d!=null&&a(t,["defaultCheckpointId"],d);const p=l(e,["checkpoints"]);if(p!=null){let h=p;Array.isArray(h)&&(h=h.map(g=>Jw(n,g))),a(t,["checkpoints"],h)}return t}function Kw(n,e){const t={},r=l(e,["nextPageToken"]);r!=null&&a(t,["nextPageToken"],r);const i=l(e,["_self"]);if(i!=null){let o=rm(n,i);Array.isArray(o)&&(o=o.map(s=>ca(n,s))),a(t,["models"],o)}return t}function Yw(){return{}}function bw(n,e){const t={},r=l(e,["totalTokens"]);return r!=null&&a(t,["totalTokens"],r),t}function Qw(n,e){const t={},r=l(e,["tokensInfo"]);return r!=null&&a(t,["tokensInfo"],r),t}function Xw(n,e){const t={},r=l(e,["gcsUri"]);r!=null&&a(t,["uri"],r);const i=l(e,["bytesBase64Encoded"]);i!=null&&a(t,["videoBytes"],en(n,i));const o=l(e,["mimeType"]);return o!=null&&a(t,["mimeType"],o),t}function Zw(n,e){const t={},r=l(e,["_self"]);return r!=null&&a(t,["video"],Xw(n,r)),t}function jw(n,e){const t={},r=l(e,["videos"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(u=>Zw(n,u))),a(t,["generatedVideos"],s)}const i=l(e,["raiMediaFilteredCount"]);i!=null&&a(t,["raiMediaFilteredCount"],i);const o=l(e,["raiMediaFilteredReasons"]);return o!=null&&a(t,["raiMediaFilteredReasons"],o),t}function eS(n,e){const t={},r=l(e,["name"]);r!=null&&a(t,["name"],r);const i=l(e,["metadata"]);i!=null&&a(t,["metadata"],i);const o=l(e,["done"]);o!=null&&a(t,["done"],o);const s=l(e,["error"]);s!=null&&a(t,["error"],s);const u=l(e,["response"]);return u!=null&&a(t,["response"],jw(n,u)),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const tS="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function nS(n,e,t){const r=new CC;let i;if(t.data instanceof Blob?i=JSON.parse(await t.data.text()):i=JSON.parse(t.data),n.isVertexAI()){const o=J0(n,i);Object.assign(r,o)}else{const o=W0(n,i);Object.assign(r,o)}e(r)}class rS{constructor(e,t,r){this.apiClient=e,this.auth=t,this.webSocketFactory=r}async connect(e){var t,r,i,o;const s=this.apiClient.getWebsocketBaseUrl(),u=this.apiClient.getApiVersion();let c;const f=lS(this.apiClient.getDefaultHeaders());if(this.apiClient.isVertexAI())c=`${s}/ws/google.cloud.aiplatform.${u}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(f);else{const T=this.apiClient.getApiKey();c=`${s}/ws/google.ai.generativelanguage.${u}.GenerativeService.BidiGenerateContent?key=${T}`}let d=()=>{};const p=new Promise(T=>{d=T}),h=e.callbacks,g=function(){var T;(T=h==null?void 0:h.onopen)===null||T===void 0||T.call(h),d({})},v=this.apiClient,C={onopen:g,onmessage:T=>{nS(v,h.onmessage,T)},onerror:(t=h==null?void 0:h.onerror)!==null&&t!==void 0?t:function(T){},onclose:(r=h==null?void 0:h.onclose)!==null&&r!==void 0?r:function(T){}},S=this.webSocketFactory.create(c,sS(f),C);S.connect(),await p;let _=Q(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&_.startsWith("publishers/")){const T=this.apiClient.getProject(),E=this.apiClient.getLocation();_=`projects/${T}/locations/${E}/`+_}let m={};this.apiClient.isVertexAI()&&((i=e.config)===null||i===void 0?void 0:i.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[Bo.AUDIO]}:e.config.responseModalities=[Bo.AUDIO]),!((o=e.config)===null||o===void 0)&&o.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const y={model:_,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?m=g0(this.apiClient,y):m=m0(this.apiClient,y),delete m.config,S.send(JSON.stringify(m)),new oS(S,this.apiClient)}}const iS={turnComplete:!0};class oS{constructor(e,t){this.conn=e,this.apiClient=t}tLiveClientContent(e,t){if(t.turns!==null&&t.turns!==void 0){let r=[];try{r=Zt(e,t.turns),e.isVertexAI()?r=r.map(i=>sr(e,i)):r=r.map(i=>gs(e,i))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof t.turns}'`)}return{clientContent:{turns:r,turnComplete:t.turnComplete}}}return{clientContent:{turnComplete:t.turnComplete}}}tLiveClienttToolResponse(e,t){let r=[];if(t.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(t.functionResponses)?r=t.functionResponses:r=[t.functionResponses],r.length===0)throw new Error("functionResponses is required.");for(const o of r){if(typeof o!="object"||o===null||!("name"in o)||!("response"in o))throw new Error(`Could not parse function response, type '${typeof o}'.`);if(!e.isVertexAI()&&!("id"in o))throw new Error(tS)}return{toolResponse:{functionResponses:r}}}sendClientContent(e){e=Object.assign(Object.assign({},iS),e);const t=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(t))}sendRealtimeInput(e){let t={};this.apiClient.isVertexAI()?t={realtimeInput:w0(this.apiClient,e)}:t={realtimeInput:T0(this.apiClient,e)},this.conn.send(JSON.stringify(t))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const t=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(t))}close(){this.conn.close()}}function sS(n){const e={};return n.forEach((t,r)=>{e[r]=t}),e}function lS(n){const e=new Headers;for(const[t,r]of Object.entries(n))e.append(t,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let aS=class extends di{constructor(e){super(),this.apiClient=e,this.generateContent=async t=>await this.generateContentInternal(t),this.generateContentStream=async t=>await this.generateContentStreamInternal(t),this.generateImages=async t=>await this.generateImagesInternal(t).then(r=>{var i;let o;const s=[];if(r!=null&&r.generatedImages)for(const c of r.generatedImages)c&&(c!=null&&c.safetyAttributes)&&((i=c==null?void 0:c.safetyAttributes)===null||i===void 0?void 0:i.contentType)==="Positive Prompt"?o=c==null?void 0:c.safetyAttributes:s.push(c);let u;return o?u={generatedImages:s,positivePromptSafetyAttributes:o}:u={generatedImages:s},u}),this.list=async t=>{var r;const s={config:Object.assign(Object.assign({},{queryBase:!0}),t==null?void 0:t.config)};if(this.apiClient.isVertexAI()&&!s.config.queryBase){if(!((r=s.config)===null||r===void 0)&&r.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");s.config.filter="labels.tune-type:*"}return new ms(nr.PAGED_ITEM_MODELS,u=>this.listInternal(u),await this.listInternal(s),s)},this.editImage=async t=>{const r={model:t.model,prompt:t.prompt,referenceImages:[],config:t.config};return t.referenceImages&&t.referenceImages&&(r.referenceImages=t.referenceImages.map(i=>i.toReferenceImageAPI())),await this.editImageInternal(r)},this.upscaleImage=async t=>{let r={numberOfImages:1,mode:"upscale"};t.config&&(r=Object.assign(Object.assign({},r),t.config));const i={model:t.model,image:t.image,upscaleFactor:t.upscaleFactor,config:r};return await this.upscaleImageInternal(i)}}async generateContentInternal(e){var t,r,i,o;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=td(this.apiClient,e);return u=$("{model}:generateContent",f._url),c=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),s.then(d=>{const p=rd(this.apiClient,d),h=new Fi;return Object.assign(h,p),h})}else{const f=ed(this.apiClient,e);return u=$("{model}:generateContent",f._url),c=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),s.then(d=>{const p=nd(this.apiClient,d),h=new Fi;return Object.assign(h,p),h})}}async generateContentStreamInternal(e){var t,r,i,o;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=td(this.apiClient,e);u=$("{model}:streamGenerateContent?alt=sse",f._url),c=f._query,delete f.config,delete f._url,delete f._query;const d=this.apiClient;return s=d.requestStream({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}),s.then(function(p){return qo(this,arguments,function*(){var h,g,v,C;try{for(var S=!0,_=la(p),m;m=yield Te(_.next()),h=m.done,!h;S=!0){C=m.value,S=!1;const T=rd(d,yield Te(C.json())),E=new Fi;Object.assign(E,T),yield yield Te(E)}}catch(y){g={error:y}}finally{try{!S&&!h&&(v=_.return)&&(yield Te(v.call(_)))}finally{if(g)throw g.error}}})})}else{const f=ed(this.apiClient,e);u=$("{model}:streamGenerateContent?alt=sse",f._url),c=f._query,delete f.config,delete f._url,delete f._query;const d=this.apiClient;return s=d.requestStream({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}),s.then(function(p){return qo(this,arguments,function*(){var h,g,v,C;try{for(var S=!0,_=la(p),m;m=yield Te(_.next()),h=m.done,!h;S=!0){C=m.value,S=!1;const T=nd(d,yield Te(C.json())),E=new Fi;Object.assign(E,T),yield yield Te(E)}}catch(y){g={error:y}}finally{try{!S&&!h&&(v=_.return)&&(yield Te(v.call(_)))}finally{if(g)throw g.error}}})})}}async embedContent(e){var t,r,i,o;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=zT(this.apiClient,e);return u=$("{model}:predict",f._url),c=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),s.then(d=>{const p=Ow(this.apiClient,d),h=new qf;return Object.assign(h,p),h})}else{const f=aT(this.apiClient,e);return u=$("{model}:batchEmbedContents",f._url),c=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),s.then(d=>{const p=_w(this.apiClient,d),h=new qf;return Object.assign(h,p),h})}}async generateImagesInternal(e){var t,r,i,o;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=WT(this.apiClient,e);return u=$("{model}:predict",f._url),c=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),s.then(d=>{const p=qw(this.apiClient,d),h=new Gf;return Object.assign(h,p),h})}else{const f=cT(this.apiClient,e);return u=$("{model}:predict",f._url),c=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),s.then(d=>{const p=ww(this.apiClient,d),h=new Gf;return Object.assign(h,p),h})}}async editImageInternal(e){var t,r;let i,o="",s={};if(this.apiClient.isVertexAI()){const u=ZT(this.apiClient,e);return o=$("{model}:predict",u._url),s=u._query,delete u.config,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const f=Gw(this.apiClient,c),d=new hC;return Object.assign(d,f),d})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var t,r;let i,o="",s={};if(this.apiClient.isVertexAI()){const u=ew(this.apiClient,e);return o=$("{model}:predict",u._url),s=u._query,delete u.config,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const f=zw(this.apiClient,c),d=new mC;return Object.assign(d,f),d})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var t,r,i,o;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=tw(this.apiClient,e);return u=$("{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),s.then(d=>ca(this.apiClient,d))}else{const f=fT(this.apiClient,e);return u=$("{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),s.then(d=>ua(this.apiClient,d))}}async listInternal(e){var t,r,i,o;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=rw(this.apiClient,e);return u=$("{models_url}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),s.then(d=>{const p=Kw(this.apiClient,d),h=new zf;return Object.assign(h,p),h})}else{const f=pT(this.apiClient,e);return u=$("{models_url}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),s.then(d=>{const p=Ew(this.apiClient,d),h=new zf;return Object.assign(h,p),h})}}async update(e){var t,r,i,o;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=ow(this.apiClient,e);return u=$("{model}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),s.then(d=>ca(this.apiClient,d))}else{const f=mT(this.apiClient,e);return u=$("{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),s.then(d=>ua(this.apiClient,d))}}async delete(e){var t,r,i,o;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=sw(this.apiClient,e);return u=$("{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),s.then(()=>{const d=Yw(),p=new Hf;return Object.assign(p,d),p})}else{const f=gT(this.apiClient,e);return u=$("{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),s.then(()=>{const d=Iw(),p=new Hf;return Object.assign(p,d),p})}}async countTokens(e){var t,r,i,o;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=aw(this.apiClient,e);return u=$("{model}:countTokens",f._url),c=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),s.then(d=>{const p=bw(this.apiClient,d),h=new Wf;return Object.assign(h,p),h})}else{const f=vT(this.apiClient,e);return u=$("{model}:countTokens",f._url),c=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),s.then(d=>{const p=Aw(this.apiClient,d),h=new Wf;return Object.assign(h,p),h})}}async computeTokens(e){var t,r;let i,o="",s={};if(this.apiClient.isVertexAI()){const u=uw(this.apiClient,e);return o=$("{model}:computeTokens",u._url),s=u._query,delete u.config,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const f=Qw(this.apiClient,c),d=new gC;return Object.assign(d,f),d})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideos(e){var t,r,i,o;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=fw(this.apiClient,e);return u=$("{model}:predictLongRunning",f._url),c=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),s.then(d=>eS(this.apiClient,d))}else{const f=TT(this.apiClient,e);return u=$("{model}:predictLongRunning",f._url),c=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),s.then(d=>Mw(this.apiClient,d))}}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function uS(n,e){const t={},r=l(e,["operationName"]);r!=null&&a(t,["_url","operationName"],r);const i=l(e,["config"]);return i!=null&&a(t,["config"],i),t}function cS(n,e){const t={},r=l(e,["operationName"]);r!=null&&a(t,["_url","operationName"],r);const i=l(e,["config"]);return i!=null&&a(t,["config"],i),t}function fS(n,e){const t={},r=l(e,["operationName"]);r!=null&&a(t,["operationName"],r);const i=l(e,["resourceName"]);i!=null&&a(t,["_url","resourceName"],i);const o=l(e,["config"]);return o!=null&&a(t,["config"],o),t}function dS(n,e){const t={},r=l(e,["video","uri"]);r!=null&&a(t,["uri"],r);const i=l(e,["video","encodedVideo"]);i!=null&&a(t,["videoBytes"],en(n,i));const o=l(e,["encoding"]);return o!=null&&a(t,["mimeType"],o),t}function pS(n,e){const t={},r=l(e,["_self"]);return r!=null&&a(t,["video"],dS(n,r)),t}function hS(n,e){const t={},r=l(e,["generatedSamples"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(u=>pS(n,u))),a(t,["generatedVideos"],s)}const i=l(e,["raiMediaFilteredCount"]);i!=null&&a(t,["raiMediaFilteredCount"],i);const o=l(e,["raiMediaFilteredReasons"]);return o!=null&&a(t,["raiMediaFilteredReasons"],o),t}function mS(n,e){const t={},r=l(e,["name"]);r!=null&&a(t,["name"],r);const i=l(e,["metadata"]);i!=null&&a(t,["metadata"],i);const o=l(e,["done"]);o!=null&&a(t,["done"],o);const s=l(e,["error"]);s!=null&&a(t,["error"],s);const u=l(e,["response","generateVideoResponse"]);return u!=null&&a(t,["response"],hS(n,u)),t}function gS(n,e){const t={},r=l(e,["gcsUri"]);r!=null&&a(t,["uri"],r);const i=l(e,["bytesBase64Encoded"]);i!=null&&a(t,["videoBytes"],en(n,i));const o=l(e,["mimeType"]);return o!=null&&a(t,["mimeType"],o),t}function yS(n,e){const t={},r=l(e,["_self"]);return r!=null&&a(t,["video"],gS(n,r)),t}function vS(n,e){const t={},r=l(e,["videos"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(u=>yS(n,u))),a(t,["generatedVideos"],s)}const i=l(e,["raiMediaFilteredCount"]);i!=null&&a(t,["raiMediaFilteredCount"],i);const o=l(e,["raiMediaFilteredReasons"]);return o!=null&&a(t,["raiMediaFilteredReasons"],o),t}function id(n,e){const t={},r=l(e,["name"]);r!=null&&a(t,["name"],r);const i=l(e,["metadata"]);i!=null&&a(t,["metadata"],i);const o=l(e,["done"]);o!=null&&a(t,["done"],o);const s=l(e,["error"]);s!=null&&a(t,["error"],s);const u=l(e,["response"]);return u!=null&&a(t,["response"],vS(n,u)),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class _S extends di{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const t=e.operation,r=e.config;if(t.name===void 0||t.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=t.name.split("/operations/")[0];let o;return r&&"httpOptions"in r&&(o=r.httpOptions),this.fetchPredictVideosOperationInternal({operationName:t.name,resourceName:i,config:{httpOptions:o}})}else return this.getVideosOperationInternal({operationName:t.name,config:r})}async getVideosOperationInternal(e){var t,r,i,o;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=cS(this.apiClient,e);return u=$("{operationName}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),s.then(d=>id(this.apiClient,d))}else{const f=uS(this.apiClient,e);return u=$("{operationName}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),s.then(d=>mS(this.apiClient,d))}}async fetchPredictVideosOperationInternal(e){var t,r;let i,o="",s={};if(this.apiClient.isVertexAI()){const u=fS(this.apiClient,e);return o=$("{resourceName}:fetchPredictOperation",u._url),s=u._query,delete u.config,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>id(this.apiClient,c))}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const CS="Content-Type",TS="X-Server-Timeout",wS="User-Agent",SS="x-goog-api-client",ES="0.14.1",IS=`google-genai-sdk/${ES}`,AS="v1beta1",xS="v1beta",od=/^data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class am extends Error{constructor(e,t){t?super(e,{cause:t}):super(e,{cause:new Error().stack}),this.message=e,this.name="ClientError"}}class fa extends Error{constructor(e,t){t?super(e,{cause:t}):super(e,{cause:new Error().stack}),this.message=e,this.name="ServerError"}}class PS{constructor(e){var t,r;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const i={};this.clientOptions.vertexai?(i.apiVersion=(t=this.clientOptions.apiVersion)!==null&&t!==void 0?t:AS,i.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(i.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:xS,i.baseUrl="https://generativelanguage.googleapis.com/"),i.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=i,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(i,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const r=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&r.push(e.apiVersion),r.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),t=new URL(e);return t.protocol=t.protocol=="http:"?"ws":"wss",t.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,t,r){const i=[this.getRequestUrlInternal(t)];return r&&i.push(this.getBaseResourcePath()),e!==""&&i.push(e),new URL(`${i.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let t=this.clientOptions.httpOptions;e.httpOptions&&(t=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),i=this.constructUrl(e.path,t,r);if(e.queryParams)for(const[s,u]of Object.entries(e.queryParams))i.searchParams.append(s,String(u));let o={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else o.body=e.body;return o=await this.includeExtraHttpOptionsToRequestInit(o,t,e.abortSignal),this.unaryApiCall(i,o,e.httpMethod)}patchHttpOptions(e,t){const r=JSON.parse(JSON.stringify(e));for(const[i,o]of Object.entries(t))typeof o=="object"?r[i]=Object.assign(Object.assign({},r[i]),o):o!==void 0&&(r[i]=o);return r}async requestStream(e){let t=this.clientOptions.httpOptions;e.httpOptions&&(t=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),i=this.constructUrl(e.path,t,r);(!i.searchParams.has("alt")||i.searchParams.get("alt")!=="sse")&&i.searchParams.set("alt","sse");let o={};return o.body=e.body,o=await this.includeExtraHttpOptionsToRequestInit(o,t,e.abortSignal),this.streamApiCall(i,o,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,t,r){if(t&&t.timeout||r){const i=new AbortController,o=i.signal;t.timeout&&(t==null?void 0:t.timeout)>0&&setTimeout(()=>i.abort(),t.timeout),r&&r.addEventListener("abort",()=>{i.abort()}),e.signal=o}return e.headers=await this.getHeadersInternal(t),e}async unaryApiCall(e,t,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},t),{method:r})).then(async i=>(await sd(i),new sa(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}async streamApiCall(e,t,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},t),{method:r})).then(async i=>(await sd(i),this.processStreamResponse(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}processStreamResponse(e){var t;return qo(this,arguments,function*(){const i=(t=e==null?void 0:e.body)===null||t===void 0?void 0:t.getReader(),o=new TextDecoder("utf-8");if(!i)throw new Error("Response body is empty");try{let s="";for(;;){const{done:u,value:c}=yield Te(i.read());if(u){if(s.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const f=o.decode(c);try{const p=JSON.parse(f);if("error"in p){const h=JSON.parse(JSON.stringify(p.error)),g=h.status,v=h.code,C=`got status: ${g}. ${JSON.stringify(p)}`;if(v>=400&&v<500)throw new am(C);if(v>=500&&v<600)throw new fa(C)}}catch(p){const h=p;if(h.name==="ClientError"||h.name==="ServerError")throw p}s+=f;let d=s.match(od);for(;d;){const p=d[1];try{const h=new Response(p,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield Te(new sa(h)),s=s.slice(d[0].length),d=s.match(od)}catch(h){throw new Error(`exception parsing stream chunk ${p}. ${h}`)}}}}finally{i.releaseLock()}})}async apiCall(e,t){return fetch(e,t).catch(r=>{throw new Error(`exception ${r} sending request`)})}getDefaultHeaders(){const e={},t=IS+" "+this.clientOptions.userAgentExtra;return e[wS]=t,e[SS]=t,e[CS]="application/json",e}async getHeadersInternal(e){const t=new Headers;if(e&&e.headers){for(const[r,i]of Object.entries(e.headers))t.append(r,i);e.timeout&&e.timeout>0&&t.append(TS,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(t),t}async uploadFile(e,t){var r;const i={};t!=null&&(i.mimeType=t.mimeType,i.name=t.name,i.displayName=t.displayName),i.name&&!i.name.startsWith("files/")&&(i.name=`files/${i.name}`);const o=this.clientOptions.uploader,s=await o.stat(e);i.sizeBytes=String(s.size);const u=(r=t==null?void 0:t.mimeType)!==null&&r!==void 0?r:s.type;if(u===void 0||u==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");i.mimeType=u;const c=await this.fetchUploadUrl(i,t);return o.upload(e,c,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,t){var r;let i={};t!=null&&t.httpOptions?i=t.httpOptions:i={apiVersion:"",headers:{"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${e.sizeBytes}`,"X-Goog-Upload-Header-Content-Type":`${e.mimeType}`}};const o={file:e},s=await this.request({path:$("upload/v1beta/files",o._url),body:JSON.stringify(o),httpMethod:"POST",httpOptions:i});if(!s||!(s!=null&&s.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const u=(r=s==null?void 0:s.headers)===null||r===void 0?void 0:r["x-goog-upload-url"];if(u===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return u}}async function sd(n){var e;if(n===void 0)throw new fa("response is undefined");if(!n.ok){const t=n.status,r=n.statusText;let i;!((e=n.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?i=await n.json():i={error:{message:await n.text(),code:n.status,status:n.statusText}};const o=`got status: ${t} ${r}. ${JSON.stringify(i)}`;throw t>=400&&t<500?new am(o):t>=500&&t<600?new fa(o):new Error(o)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function RS(n,e){const t={},r=l(e,["name"]);r!=null&&a(t,["_url","name"],r);const i=l(e,["config"]);return i!=null&&a(t,["config"],i),t}function MS(n,e,t){const r={},i=l(e,["pageSize"]);t!==void 0&&i!=null&&a(t,["_query","pageSize"],i);const o=l(e,["pageToken"]);t!==void 0&&o!=null&&a(t,["_query","pageToken"],o);const s=l(e,["filter"]);return t!==void 0&&s!=null&&a(t,["_query","filter"],s),r}function kS(n,e){const t={},r=l(e,["config"]);return r!=null&&a(t,["config"],MS(n,r,t)),t}function NS(n,e){const t={},r=l(e,["textInput"]);r!=null&&a(t,["textInput"],r);const i=l(e,["output"]);return i!=null&&a(t,["output"],i),t}function DS(n,e){const t={};if(l(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const r=l(e,["examples"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>NS(n,o))),a(t,["examples","examples"],i)}return t}function LS(n,e,t){const r={};if(l(e,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const i=l(e,["tunedModelDisplayName"]);if(t!==void 0&&i!=null&&a(t,["displayName"],i),l(e,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const o=l(e,["epochCount"]);t!==void 0&&o!=null&&a(t,["tuningTask","hyperparameters","epochCount"],o);const s=l(e,["learningRateMultiplier"]);if(s!=null&&a(r,["tuningTask","hyperparameters","learningRateMultiplier"],s),l(e,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(l(e,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const u=l(e,["batchSize"]);t!==void 0&&u!=null&&a(t,["tuningTask","hyperparameters","batchSize"],u);const c=l(e,["learningRate"]);return t!==void 0&&c!=null&&a(t,["tuningTask","hyperparameters","learningRate"],c),r}function FS(n,e){const t={},r=l(e,["baseModel"]);r!=null&&a(t,["baseModel"],r);const i=l(e,["trainingDataset"]);i!=null&&a(t,["tuningTask","trainingData"],DS(n,i));const o=l(e,["config"]);return o!=null&&a(t,["config"],LS(n,o,t)),t}function US(n,e){const t={},r=l(e,["name"]);r!=null&&a(t,["_url","name"],r);const i=l(e,["config"]);return i!=null&&a(t,["config"],i),t}function VS(n,e,t){const r={},i=l(e,["pageSize"]);t!==void 0&&i!=null&&a(t,["_query","pageSize"],i);const o=l(e,["pageToken"]);t!==void 0&&o!=null&&a(t,["_query","pageToken"],o);const s=l(e,["filter"]);return t!==void 0&&s!=null&&a(t,["_query","filter"],s),r}function $S(n,e){const t={},r=l(e,["config"]);return r!=null&&a(t,["config"],VS(n,r,t)),t}function OS(n,e,t){const r={},i=l(e,["gcsUri"]);if(t!==void 0&&i!=null&&a(t,["supervisedTuningSpec","trainingDatasetUri"],i),l(e,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return r}function BS(n,e){const t={},r=l(e,["gcsUri"]);return r!=null&&a(t,["validationDatasetUri"],r),t}function qS(n,e,t){const r={},i=l(e,["validationDataset"]);t!==void 0&&i!=null&&a(t,["supervisedTuningSpec"],BS(n,i));const o=l(e,["tunedModelDisplayName"]);t!==void 0&&o!=null&&a(t,["tunedModelDisplayName"],o);const s=l(e,["description"]);t!==void 0&&s!=null&&a(t,["description"],s);const u=l(e,["epochCount"]);t!==void 0&&u!=null&&a(t,["supervisedTuningSpec","hyperParameters","epochCount"],u);const c=l(e,["learningRateMultiplier"]);t!==void 0&&c!=null&&a(t,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],c);const f=l(e,["exportLastCheckpointOnly"]);t!==void 0&&f!=null&&a(t,["supervisedTuningSpec","exportLastCheckpointOnly"],f);const d=l(e,["adapterSize"]);if(t!==void 0&&d!=null&&a(t,["supervisedTuningSpec","hyperParameters","adapterSize"],d),l(e,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(l(e,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");return r}function GS(n,e){const t={},r=l(e,["baseModel"]);r!=null&&a(t,["baseModel"],r);const i=l(e,["trainingDataset"]);i!=null&&a(t,["supervisedTuningSpec","trainingDatasetUri"],OS(n,i,t));const o=l(e,["config"]);return o!=null&&a(t,["config"],qS(n,o,t)),t}function zS(n,e){const t={},r=l(e,["name"]);r!=null&&a(t,["model"],r);const i=l(e,["name"]);return i!=null&&a(t,["endpoint"],i),t}function um(n,e){const t={},r=l(e,["name"]);r!=null&&a(t,["name"],r);const i=l(e,["state"]);i!=null&&a(t,["state"],em(n,i));const o=l(e,["createTime"]);o!=null&&a(t,["createTime"],o);const s=l(e,["tuningTask","startTime"]);s!=null&&a(t,["startTime"],s);const u=l(e,["tuningTask","completeTime"]);u!=null&&a(t,["endTime"],u);const c=l(e,["updateTime"]);c!=null&&a(t,["updateTime"],c);const f=l(e,["description"]);f!=null&&a(t,["description"],f);const d=l(e,["baseModel"]);d!=null&&a(t,["baseModel"],d);const p=l(e,["_self"]);p!=null&&a(t,["tunedModel"],zS(n,p));const h=l(e,["distillationSpec"]);h!=null&&a(t,["distillationSpec"],h);const g=l(e,["experiment"]);g!=null&&a(t,["experiment"],g);const v=l(e,["labels"]);v!=null&&a(t,["labels"],v);const C=l(e,["pipelineJob"]);C!=null&&a(t,["pipelineJob"],C);const S=l(e,["tunedModelDisplayName"]);return S!=null&&a(t,["tunedModelDisplayName"],S),t}function HS(n,e){const t={},r=l(e,["nextPageToken"]);r!=null&&a(t,["nextPageToken"],r);const i=l(e,["tunedModels"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>um(n,s))),a(t,["tuningJobs"],o)}return t}function WS(n,e){const t={},r=l(e,["name"]);r!=null&&a(t,["name"],r);const i=l(e,["metadata"]);i!=null&&a(t,["metadata"],i);const o=l(e,["done"]);o!=null&&a(t,["done"],o);const s=l(e,["error"]);return s!=null&&a(t,["error"],s),t}function JS(n,e){const t={},r=l(e,["checkpointId"]);r!=null&&a(t,["checkpointId"],r);const i=l(e,["epoch"]);i!=null&&a(t,["epoch"],i);const o=l(e,["step"]);o!=null&&a(t,["step"],o);const s=l(e,["endpoint"]);return s!=null&&a(t,["endpoint"],s),t}function KS(n,e){const t={},r=l(e,["model"]);r!=null&&a(t,["model"],r);const i=l(e,["endpoint"]);i!=null&&a(t,["endpoint"],i);const o=l(e,["checkpoints"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(u=>JS(n,u))),a(t,["checkpoints"],s)}return t}function da(n,e){const t={},r=l(e,["name"]);r!=null&&a(t,["name"],r);const i=l(e,["state"]);i!=null&&a(t,["state"],em(n,i));const o=l(e,["createTime"]);o!=null&&a(t,["createTime"],o);const s=l(e,["startTime"]);s!=null&&a(t,["startTime"],s);const u=l(e,["endTime"]);u!=null&&a(t,["endTime"],u);const c=l(e,["updateTime"]);c!=null&&a(t,["updateTime"],c);const f=l(e,["error"]);f!=null&&a(t,["error"],f);const d=l(e,["description"]);d!=null&&a(t,["description"],d);const p=l(e,["baseModel"]);p!=null&&a(t,["baseModel"],p);const h=l(e,["tunedModel"]);h!=null&&a(t,["tunedModel"],KS(n,h));const g=l(e,["supervisedTuningSpec"]);g!=null&&a(t,["supervisedTuningSpec"],g);const v=l(e,["tuningDataStats"]);v!=null&&a(t,["tuningDataStats"],v);const C=l(e,["encryptionSpec"]);C!=null&&a(t,["encryptionSpec"],C);const S=l(e,["partnerModelTuningSpec"]);S!=null&&a(t,["partnerModelTuningSpec"],S);const _=l(e,["distillationSpec"]);_!=null&&a(t,["distillationSpec"],_);const m=l(e,["experiment"]);m!=null&&a(t,["experiment"],m);const y=l(e,["labels"]);y!=null&&a(t,["labels"],y);const T=l(e,["pipelineJob"]);T!=null&&a(t,["pipelineJob"],T);const E=l(e,["tunedModelDisplayName"]);return E!=null&&a(t,["tunedModelDisplayName"],E),t}function YS(n,e){const t={},r=l(e,["nextPageToken"]);r!=null&&a(t,["nextPageToken"],r);const i=l(e,["tuningJobs"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>da(n,s))),a(t,["tuningJobs"],o)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class bS extends di{constructor(e){super(),this.apiClient=e,this.get=async t=>await this.getInternal(t),this.list=async(t={})=>new ms(nr.PAGED_ITEM_TUNING_JOBS,r=>this.listInternal(r),await this.listInternal(t),t),this.tune=async t=>{if(this.apiClient.isVertexAI())return await this.tuneInternal(t);{const r=await this.tuneMldevInternal(t);let i="";return r.metadata!==void 0&&r.metadata.tunedModel!==void 0?i=r.metadata.tunedModel:r.name!==void 0&&r.name.includes("/operations/")&&(i=r.name.split("/operations/")[0]),{name:i,state:oa.JOB_STATE_QUEUED}}}}async getInternal(e){var t,r,i,o;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=US(this.apiClient,e);return u=$("{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),s.then(d=>da(this.apiClient,d))}else{const f=RS(this.apiClient,e);return u=$("{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),s.then(d=>um(this.apiClient,d))}}async listInternal(e){var t,r,i,o;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=$S(this.apiClient,e);return u=$("tuningJobs",f._url),c=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),s.then(d=>{const p=YS(this.apiClient,d),h=new Jf;return Object.assign(h,p),h})}else{const f=kS(this.apiClient,e);return u=$("tunedModels",f._url),c=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),s.then(d=>{const p=HS(this.apiClient,d),h=new Jf;return Object.assign(h,p),h})}}async tuneInternal(e){var t,r;let i,o="",s={};if(this.apiClient.isVertexAI()){const u=GS(this.apiClient,e);return o=$("tuningJobs",u._url),s=u._query,delete u.config,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>da(this.apiClient,c))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var t,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=FS(this.apiClient,e);return o=$("tunedModels",u._url),s=u._query,delete u.config,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>WS(this.apiClient,c))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class QS{async download(e,t){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const XS=1024*1024*8,ZS=3,jS=1e3,eE=2,nl="x-goog-upload-status";async function tE(n,e,t){var r,i,o;let s=0,u=0,c=new sa(new Response),f="upload";for(s=n.size;u<s;){const p=Math.min(XS,s-u),h=n.slice(u,u+p);u+p>=s&&(f+=", finalize");let g=0,v=jS;for(;g<ZS&&(c=await t.request({path:"",body:h,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":f,"X-Goog-Upload-Offset":String(u),"Content-Length":String(p)}}}),!(!((r=c==null?void 0:c.headers)===null||r===void 0)&&r[nl]));)g++,await rE(v),v=v*eE;if(u+=p,((i=c==null?void 0:c.headers)===null||i===void 0?void 0:i[nl])!=="active")break;if(s<=u)throw new Error("All content has been uploaded, but the upload status is not finalized.")}const d=await(c==null?void 0:c.json());if(((o=c==null?void 0:c.headers)===null||o===void 0?void 0:o[nl])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return d.file}async function nE(n){return{size:n.size,type:n.type}}function rE(n){return new Promise(e=>setTimeout(e,n))}class iE{async upload(e,t,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await tE(e,t,r)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await nE(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class oE{create(e,t,r){return new sE(e,t,r)}}class sE{constructor(e,t,r){this.url=e,this.headers=t,this.callbacks=r}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ld="x-goog-api-key";class lE{constructor(e){this.apiKey=e}async addAuthHeaders(e){e.get(ld)===null&&e.append(ld,this.apiKey)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const aE="gl-node/";class AI{constructor(e){var t;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(t=e.vertexai)!==null&&t!==void 0?t:!1,this.apiKey=e.apiKey;const r=v_(e,void 0,void 0);r&&(e.httpOptions?e.httpOptions.baseUrl=r:e.httpOptions={baseUrl:r}),this.apiVersion=e.apiVersion;const i=new lE(this.apiKey);this.apiClient=new PS({auth:i,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:e.httpOptions,userAgentExtra:aE+"web",uploader:new iE,downloader:new QS}),this.models=new aS(this.apiClient),this.live=new rS(this.apiClient,i,new oE),this.chats=new IC(this.models,this.apiClient),this.caches=new TC(this.apiClient),this.files=new $C(this.apiClient),this.operations=new _S(this.apiClient),this.tunings=new bS(this.apiClient)}}function V(n,e,t,r,i){if(typeof e=="function"?n!==e||!0:!e.has(n))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(n,t),t}function w(n,e,t,r){if(t==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?n!==e||!r:!e.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?r:t==="a"?r.call(n):r?r.value:e.get(n)}let cm=function(){const{crypto:n}=globalThis;if(n!=null&&n.randomUUID)return cm=n.randomUUID.bind(n),n.randomUUID();const e=new Uint8Array(1),t=n?()=>n.getRandomValues(e)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,r=>(+r^t()&15>>+r/4).toString(16))};function pa(n){return typeof n=="object"&&n!==null&&("name"in n&&n.name==="AbortError"||"message"in n&&String(n.message).includes("FetchRequestCanceledException"))}const ha=n=>{if(n instanceof Error)return n;if(typeof n=="object"&&n!==null){try{if(Object.prototype.toString.call(n)==="[object Error]"){const e=new Error(n.message,n.cause?{cause:n.cause}:{});return n.stack&&(e.stack=n.stack),n.cause&&!e.cause&&(e.cause=n.cause),n.name&&(e.name=n.name),e}}catch{}try{return new Error(JSON.stringify(n))}catch{}}return new Error(n)};class F extends Error{}class ve extends F{constructor(e,t,r,i){super(`${ve.makeMessage(e,t,r)}`),this.status=e,this.headers=i,this.requestID=i==null?void 0:i.get("x-request-id"),this.error=t;const o=t;this.code=o==null?void 0:o.code,this.param=o==null?void 0:o.param,this.type=o==null?void 0:o.type}static makeMessage(e,t,r){const i=t!=null&&t.message?typeof t.message=="string"?t.message:JSON.stringify(t.message):t?JSON.stringify(t):r;return e&&i?`${e} ${i}`:e?`${e} status code (no body)`:i||"(no status code or body)"}static generate(e,t,r,i){if(!e||!i)return new ys({message:r,cause:ha(t)});const o=t==null?void 0:t.error;return e===400?new fm(e,o,r,i):e===401?new dm(e,o,r,i):e===403?new pm(e,o,r,i):e===404?new hm(e,o,r,i):e===409?new mm(e,o,r,i):e===422?new gm(e,o,r,i):e===429?new ym(e,o,r,i):e>=500?new vm(e,o,r,i):new ve(e,o,r,i)}}class Xe extends ve{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}}class ys extends ve{constructor({message:e,cause:t}){super(void 0,void 0,e||"Connection error.",void 0),t&&(this.cause=t)}}class Eu extends ys{constructor({message:e}={}){super({message:e??"Request timed out."})}}class fm extends ve{}class dm extends ve{}class pm extends ve{}class hm extends ve{}class mm extends ve{}class gm extends ve{}class ym extends ve{}class vm extends ve{}class _m extends F{constructor(){super("Could not parse response content as the length limit was reached")}}class Cm extends F{constructor(){super("Could not parse response content as the request was rejected by the content filter")}}class wr extends Error{constructor(e){super(e)}}const uE=/^[a-z][a-z0-9+.-]*:/i,cE=n=>uE.test(n);let ke=n=>(ke=Array.isArray,ke(n)),ad=ke;function Tm(n){return typeof n!="object"?{}:n??{}}function fE(n){if(!n)return!0;for(const e in n)return!1;return!0}function dE(n,e){return Object.prototype.hasOwnProperty.call(n,e)}function rl(n){return n!=null&&typeof n=="object"&&!Array.isArray(n)}const pE=(n,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new F(`${n} must be an integer`);if(e<0)throw new F(`${n} must be a positive integer`);return e},hE=n=>{try{return JSON.parse(n)}catch{return}},pi=n=>new Promise(e=>setTimeout(e,n)),xn="6.9.1",mE=()=>typeof window<"u"&&typeof window.document<"u"&&typeof navigator<"u";function gE(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const yE=()=>{var t;const n=gE();if(n==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":xn,"X-Stainless-OS":cd(Deno.build.os),"X-Stainless-Arch":ud(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:((t=Deno.version)==null?void 0:t.deno)??"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":xn,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(n==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":xn,"X-Stainless-OS":cd(globalThis.process.platform??"unknown"),"X-Stainless-Arch":ud(globalThis.process.arch??"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":globalThis.process.version??"unknown"};const e=vE();return e?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":xn,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${e.browser}`,"X-Stainless-Runtime-Version":e.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":xn,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function vE(){if(typeof navigator>"u"||!navigator)return null;const n=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:e,pattern:t}of n){const r=t.exec(navigator.userAgent);if(r){const i=r[1]||0,o=r[2]||0,s=r[3]||0;return{browser:e,version:`${i}.${o}.${s}`}}}return null}const ud=n=>n==="x32"?"x32":n==="x86_64"||n==="x64"?"x64":n==="arm"?"arm":n==="aarch64"||n==="arm64"?"arm64":n?`other:${n}`:"unknown",cd=n=>(n=n.toLowerCase(),n.includes("ios")?"iOS":n==="android"?"Android":n==="darwin"?"MacOS":n==="win32"?"Windows":n==="freebsd"?"FreeBSD":n==="openbsd"?"OpenBSD":n==="linux"?"Linux":n?`Other:${n}`:"Unknown");let fd;const _E=()=>fd??(fd=yE());function CE(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new OpenAI({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function wm(...n){const e=globalThis.ReadableStream;if(typeof e>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new e(...n)}function Sm(n){let e=Symbol.asyncIterator in n?n[Symbol.asyncIterator]():n[Symbol.iterator]();return wm({start(){},async pull(t){const{done:r,value:i}=await e.next();r?t.close():t.enqueue(i)},async cancel(){var t;await((t=e.return)==null?void 0:t.call(e))}})}function Em(n){if(n[Symbol.asyncIterator])return n;const e=n.getReader();return{async next(){try{const t=await e.read();return t!=null&&t.done&&e.releaseLock(),t}catch(t){throw e.releaseLock(),t}},async return(){const t=e.cancel();return e.releaseLock(),await t,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function TE(n){var r,i;if(n===null||typeof n!="object")return;if(n[Symbol.asyncIterator]){await((i=(r=n[Symbol.asyncIterator]()).return)==null?void 0:i.call(r));return}const e=n.getReader(),t=e.cancel();e.releaseLock(),await t}const wE=({headers:n,body:e})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(e)}),Im="RFC3986",Am=n=>String(n),dd={RFC1738:n=>String(n).replace(/%20/g,"+"),RFC3986:Am},SE="RFC1738";let ma=(n,e)=>(ma=Object.hasOwn??Function.prototype.call.bind(Object.prototype.hasOwnProperty),ma(n,e));const ct=(()=>{const n=[];for(let e=0;e<256;++e)n.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return n})(),il=1024,EE=(n,e,t,r,i)=>{if(n.length===0)return n;let o=n;if(typeof n=="symbol"?o=Symbol.prototype.toString.call(n):typeof n!="string"&&(o=String(n)),t==="iso-8859-1")return escape(o).replace(/%u[0-9a-f]{4}/gi,function(u){return"%26%23"+parseInt(u.slice(2),16)+"%3B"});let s="";for(let u=0;u<o.length;u+=il){const c=o.length>=il?o.slice(u,u+il):o,f=[];for(let d=0;d<c.length;++d){let p=c.charCodeAt(d);if(p===45||p===46||p===95||p===126||p>=48&&p<=57||p>=65&&p<=90||p>=97&&p<=122||i===SE&&(p===40||p===41)){f[f.length]=c.charAt(d);continue}if(p<128){f[f.length]=ct[p];continue}if(p<2048){f[f.length]=ct[192|p>>6]+ct[128|p&63];continue}if(p<55296||p>=57344){f[f.length]=ct[224|p>>12]+ct[128|p>>6&63]+ct[128|p&63];continue}d+=1,p=65536+((p&1023)<<10|c.charCodeAt(d)&1023),f[f.length]=ct[240|p>>18]+ct[128|p>>12&63]+ct[128|p>>6&63]+ct[128|p&63]}s+=f.join("")}return s};function IE(n){return!n||typeof n!="object"?!1:!!(n.constructor&&n.constructor.isBuffer&&n.constructor.isBuffer(n))}function pd(n,e){if(ke(n)){const t=[];for(let r=0;r<n.length;r+=1)t.push(e(n[r]));return t}return e(n)}const xm={brackets(n){return String(n)+"[]"},comma:"comma",indices(n,e){return String(n)+"["+e+"]"},repeat(n){return String(n)}},Pm=function(n,e){Array.prototype.push.apply(n,ke(e)?e:[e])};let hd;const se={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:EE,encodeValuesOnly:!1,format:Im,formatter:Am,indices:!1,serializeDate(n){return(hd??(hd=Function.prototype.call.bind(Date.prototype.toISOString)))(n)},skipNulls:!1,strictNullHandling:!1};function AE(n){return typeof n=="string"||typeof n=="number"||typeof n=="boolean"||typeof n=="symbol"||typeof n=="bigint"}const ol={};function Rm(n,e,t,r,i,o,s,u,c,f,d,p,h,g,v,C,S,_){let m=n,y=_,T=0,E=!1;for(;(y=y.get(ol))!==void 0&&!E;){const M=y.get(n);if(T+=1,typeof M<"u"){if(M===T)throw new RangeError("Cyclic object value");E=!0}typeof y.get(ol)>"u"&&(T=0)}if(typeof f=="function"?m=f(e,m):m instanceof Date?m=h==null?void 0:h(m):t==="comma"&&ke(m)&&(m=pd(m,function(M){return M instanceof Date?h==null?void 0:h(M):M})),m===null){if(o)return c&&!C?c(e,se.encoder,S,"key",g):e;m=""}if(AE(m)||IE(m)){if(c){const M=C?e:c(e,se.encoder,S,"key",g);return[(v==null?void 0:v(M))+"="+(v==null?void 0:v(c(m,se.encoder,S,"value",g)))]}return[(v==null?void 0:v(e))+"="+(v==null?void 0:v(String(m)))]}const P=[];if(typeof m>"u")return P;let I;if(t==="comma"&&ke(m))C&&c&&(m=pd(m,c)),I=[{value:m.length>0?m.join(",")||null:void 0}];else if(ke(f))I=f;else{const M=Object.keys(m);I=d?M.sort(d):M}const R=u?String(e).replace(/\./g,"%2E"):String(e),U=r&&ke(m)&&m.length===1?R+"[]":R;if(i&&ke(m)&&m.length===0)return U+"[]";for(let M=0;M<I.length;++M){const O=I[M],Ee=typeof O=="object"&&typeof O.value<"u"?O.value:m[O];if(s&&Ee===null)continue;const Ke=p&&u?O.replace(/\./g,"%2E"):O,Me=ke(m)?typeof t=="function"?t(U,Ke):U:U+(p?"."+Ke:"["+Ke+"]");_.set(n,T);const Rt=new WeakMap;Rt.set(ol,_),Pm(P,Rm(Ee,Me,t,r,i,o,s,u,t==="comma"&&C&&ke(m)?null:c,f,d,p,h,g,v,C,S,Rt))}return P}function xE(n=se){if(typeof n.allowEmptyArrays<"u"&&typeof n.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof n.encodeDotInKeys<"u"&&typeof n.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(n.encoder!==null&&typeof n.encoder<"u"&&typeof n.encoder!="function")throw new TypeError("Encoder has to be a function.");const e=n.charset||se.charset;if(typeof n.charset<"u"&&n.charset!=="utf-8"&&n.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");let t=Im;if(typeof n.format<"u"){if(!ma(dd,n.format))throw new TypeError("Unknown format option provided.");t=n.format}const r=dd[t];let i=se.filter;(typeof n.filter=="function"||ke(n.filter))&&(i=n.filter);let o;if(n.arrayFormat&&n.arrayFormat in xm?o=n.arrayFormat:"indices"in n?o=n.indices?"indices":"repeat":o=se.arrayFormat,"commaRoundTrip"in n&&typeof n.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");const s=typeof n.allowDots>"u"?n.encodeDotInKeys?!0:se.allowDots:!!n.allowDots;return{addQueryPrefix:typeof n.addQueryPrefix=="boolean"?n.addQueryPrefix:se.addQueryPrefix,allowDots:s,allowEmptyArrays:typeof n.allowEmptyArrays=="boolean"?!!n.allowEmptyArrays:se.allowEmptyArrays,arrayFormat:o,charset:e,charsetSentinel:typeof n.charsetSentinel=="boolean"?n.charsetSentinel:se.charsetSentinel,commaRoundTrip:!!n.commaRoundTrip,delimiter:typeof n.delimiter>"u"?se.delimiter:n.delimiter,encode:typeof n.encode=="boolean"?n.encode:se.encode,encodeDotInKeys:typeof n.encodeDotInKeys=="boolean"?n.encodeDotInKeys:se.encodeDotInKeys,encoder:typeof n.encoder=="function"?n.encoder:se.encoder,encodeValuesOnly:typeof n.encodeValuesOnly=="boolean"?n.encodeValuesOnly:se.encodeValuesOnly,filter:i,format:t,formatter:r,serializeDate:typeof n.serializeDate=="function"?n.serializeDate:se.serializeDate,skipNulls:typeof n.skipNulls=="boolean"?n.skipNulls:se.skipNulls,sort:typeof n.sort=="function"?n.sort:null,strictNullHandling:typeof n.strictNullHandling=="boolean"?n.strictNullHandling:se.strictNullHandling}}function PE(n,e={}){let t=n;const r=xE(e);let i,o;typeof r.filter=="function"?(o=r.filter,t=o("",t)):ke(r.filter)&&(o=r.filter,i=o);const s=[];if(typeof t!="object"||t===null)return"";const u=xm[r.arrayFormat],c=u==="comma"&&r.commaRoundTrip;i||(i=Object.keys(t)),r.sort&&i.sort(r.sort);const f=new WeakMap;for(let h=0;h<i.length;++h){const g=i[h];r.skipNulls&&t[g]===null||Pm(s,Rm(t[g],g,u,c,r.allowEmptyArrays,r.strictNullHandling,r.skipNulls,r.encodeDotInKeys,r.encode?r.encoder:null,r.filter,r.sort,r.allowDots,r.serializeDate,r.format,r.formatter,r.encodeValuesOnly,r.charset,f))}const d=s.join(r.delimiter);let p=r.addQueryPrefix===!0?"?":"";return r.charsetSentinel&&(r.charset==="iso-8859-1"?p+="utf8=%26%2310003%3B&":p+="utf8=%E2%9C%93&"),d.length>0?p+d:""}function RE(n){let e=0;for(const i of n)e+=i.length;const t=new Uint8Array(e);let r=0;for(const i of n)t.set(i,r),r+=i.length;return t}let md;function Iu(n){let e;return(md??(e=new globalThis.TextEncoder,md=e.encode.bind(e)))(n)}let gd;function yd(n){let e;return(gd??(e=new globalThis.TextDecoder,gd=e.decode.bind(e)))(n)}var $e,Oe;class vs{constructor(){$e.set(this,void 0),Oe.set(this,void 0),V(this,$e,new Uint8Array),V(this,Oe,null)}decode(e){if(e==null)return[];const t=e instanceof ArrayBuffer?new Uint8Array(e):typeof e=="string"?Iu(e):e;V(this,$e,RE([w(this,$e,"f"),t]));const r=[];let i;for(;(i=ME(w(this,$e,"f"),w(this,Oe,"f")))!=null;){if(i.carriage&&w(this,Oe,"f")==null){V(this,Oe,i.index);continue}if(w(this,Oe,"f")!=null&&(i.index!==w(this,Oe,"f")+1||i.carriage)){r.push(yd(w(this,$e,"f").subarray(0,w(this,Oe,"f")-1))),V(this,$e,w(this,$e,"f").subarray(w(this,Oe,"f"))),V(this,Oe,null);continue}const o=w(this,Oe,"f")!==null?i.preceding-1:i.preceding,s=yd(w(this,$e,"f").subarray(0,o));r.push(s),V(this,$e,w(this,$e,"f").subarray(i.index)),V(this,Oe,null)}return r}flush(){return w(this,$e,"f").length?this.decode(`
`):[]}}$e=new WeakMap,Oe=new WeakMap;vs.NEWLINE_CHARS=new Set([`
`,"\r"]);vs.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function ME(n,e){for(let i=e??0;i<n.length;i++){if(n[i]===10)return{preceding:i,index:i+1,carriage:!1};if(n[i]===13)return{preceding:i,index:i+1,carriage:!0}}return null}function kE(n){for(let r=0;r<n.length-1;r++){if(n[r]===10&&n[r+1]===10||n[r]===13&&n[r+1]===13)return r+2;if(n[r]===13&&n[r+1]===10&&r+3<n.length&&n[r+2]===13&&n[r+3]===10)return r+4}return-1}const Go={off:0,error:200,warn:300,info:400,debug:500},vd=(n,e,t)=>{if(n){if(dE(Go,n))return n;he(t).warn(`${e} was set to ${JSON.stringify(n)}, expected one of ${JSON.stringify(Object.keys(Go))}`)}};function Sr(){}function $i(n,e,t){return!e||Go[n]>Go[t]?Sr:e[n].bind(e)}const NE={error:Sr,warn:Sr,info:Sr,debug:Sr};let _d=new WeakMap;function he(n){const e=n.logger,t=n.logLevel??"off";if(!e)return NE;const r=_d.get(e);if(r&&r[0]===t)return r[1];const i={error:$i("error",e,t),warn:$i("warn",e,t),info:$i("info",e,t),debug:$i("debug",e,t)};return _d.set(e,[t,i]),i}const sn=n=>(n.options&&(n.options={...n.options},delete n.options.headers),n.headers&&(n.headers=Object.fromEntries((n.headers instanceof Headers?[...n.headers]:Object.entries(n.headers)).map(([e,t])=>[e,e.toLowerCase()==="authorization"||e.toLowerCase()==="cookie"||e.toLowerCase()==="set-cookie"?"***":t]))),"retryOfRequestLogID"in n&&(n.retryOfRequestLogID&&(n.retryOf=n.retryOfRequestLogID),delete n.retryOfRequestLogID),n);var yr;class ht{constructor(e,t,r){this.iterator=e,yr.set(this,void 0),this.controller=t,V(this,yr,r)}static fromSSEResponse(e,t,r){let i=!1;const o=r?he(r):console;async function*s(){if(i)throw new F("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let u=!1;try{for await(const c of DE(e,t))if(!u){if(c.data.startsWith("[DONE]")){u=!0;continue}if(c.event===null||!c.event.startsWith("thread.")){let f;try{f=JSON.parse(c.data)}catch(d){throw o.error("Could not parse message into JSON:",c.data),o.error("From chunk:",c.raw),d}if(f&&f.error)throw new ve(void 0,f.error,void 0,e.headers);yield f}else{let f;try{f=JSON.parse(c.data)}catch(d){throw console.error("Could not parse message into JSON:",c.data),console.error("From chunk:",c.raw),d}if(c.event=="error")throw new ve(void 0,f.error,f.message,void 0);yield{event:c.event,data:f}}}u=!0}catch(c){if(pa(c))return;throw c}finally{u||t.abort()}}return new ht(s,t,r)}static fromReadableStream(e,t,r){let i=!1;async function*o(){const u=new vs,c=Em(e);for await(const f of c)for(const d of u.decode(f))yield d;for(const f of u.flush())yield f}async function*s(){if(i)throw new F("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let u=!1;try{for await(const c of o())u||c&&(yield JSON.parse(c));u=!0}catch(c){if(pa(c))return;throw c}finally{u||t.abort()}}return new ht(s,t,r)}[(yr=new WeakMap,Symbol.asyncIterator)](){return this.iterator()}tee(){const e=[],t=[],r=this.iterator(),i=o=>({next:()=>{if(o.length===0){const s=r.next();e.push(s),t.push(s)}return o.shift()}});return[new ht(()=>i(e),this.controller,w(this,yr,"f")),new ht(()=>i(t),this.controller,w(this,yr,"f"))]}toReadableStream(){const e=this;let t;return wm({async start(){t=e[Symbol.asyncIterator]()},async pull(r){try{const{value:i,done:o}=await t.next();if(o)return r.close();const s=Iu(JSON.stringify(i)+`
`);r.enqueue(s)}catch(i){r.error(i)}},async cancel(){var r;await((r=t.return)==null?void 0:r.call(t))}})}}async function*DE(n,e){if(!n.body)throw e.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new F("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new F("Attempted to iterate over a response with no body");const t=new FE,r=new vs,i=Em(n.body);for await(const o of LE(i))for(const s of r.decode(o)){const u=t.decode(s);u&&(yield u)}for(const o of r.flush()){const s=t.decode(o);s&&(yield s)}}async function*LE(n){let e=new Uint8Array;for await(const t of n){if(t==null)continue;const r=t instanceof ArrayBuffer?new Uint8Array(t):typeof t=="string"?Iu(t):t;let i=new Uint8Array(e.length+r.length);i.set(e),i.set(r,e.length),e=i;let o;for(;(o=kE(e))!==-1;)yield e.slice(0,o),e=e.slice(o)}e.length>0&&(yield e)}class FE{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const o={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],o}if(this.chunks.push(e),e.startsWith(":"))return null;let[t,r,i]=UE(e,":");return i.startsWith(" ")&&(i=i.substring(1)),t==="event"?this.event=i:t==="data"&&this.data.push(i),null}}function UE(n,e){const t=n.indexOf(e);return t!==-1?[n.substring(0,t),e,n.substring(t+e.length)]:[n,"",""]}async function Mm(n,e){const{response:t,requestLogID:r,retryOfRequestLogID:i,startTime:o}=e,s=await(async()=>{var p;if(e.options.stream)return he(n).debug("response",t.status,t.url,t.headers,t.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(t,e.controller,n):ht.fromSSEResponse(t,e.controller,n);if(t.status===204)return null;if(e.options.__binaryResponse)return t;const u=t.headers.get("content-type"),c=(p=u==null?void 0:u.split(";")[0])==null?void 0:p.trim();if((c==null?void 0:c.includes("application/json"))||(c==null?void 0:c.endsWith("+json"))){const h=await t.json();return km(h,t)}return await t.text()})();return he(n).debug(`[${r}] response parsed`,sn({retryOfRequestLogID:i,url:t.url,status:t.status,body:s,durationMs:Date.now()-o})),s}function km(n,e){return!n||typeof n!="object"||Array.isArray(n)?n:Object.defineProperty(n,"_request_id",{value:e.headers.get("x-request-id"),enumerable:!1})}var Er;class _s extends Promise{constructor(e,t,r=Mm){super(i=>{i(null)}),this.responsePromise=t,this.parseResponse=r,Er.set(this,void 0),V(this,Er,e)}_thenUnwrap(e){return new _s(w(this,Er,"f"),this.responsePromise,async(t,r)=>km(e(await this.parseResponse(t,r),r),r.response))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,t]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:t,request_id:t.headers.get("x-request-id")}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(e=>this.parseResponse(w(this,Er,"f"),e))),this.parsedPromise}then(e,t){return this.parse().then(e,t)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}Er=new WeakMap;var Oi;class Au{constructor(e,t,r,i){Oi.set(this,void 0),V(this,Oi,e),this.options=i,this.response=t,this.body=r}hasNextPage(){return this.getPaginatedItems().length?this.nextPageRequestOptions()!=null:!1}async getNextPage(){const e=this.nextPageRequestOptions();if(!e)throw new F("No next page expected; please check `.hasNextPage()` before calling `.getNextPage()`.");return await w(this,Oi,"f").requestAPIList(this.constructor,e)}async*iterPages(){let e=this;for(yield e;e.hasNextPage();)e=await e.getNextPage(),yield e}async*[(Oi=new WeakMap,Symbol.asyncIterator)](){for await(const e of this.iterPages())for(const t of e.getPaginatedItems())yield t}}class VE extends _s{constructor(e,t,r){super(e,t,async(i,o)=>new r(i,o.response,await Mm(i,o),o.options))}async*[Symbol.asyncIterator](){const e=await this;for await(const t of e)yield t}}class Cs extends Au{constructor(e,t,r,i){super(e,t,r,i),this.data=r.data||[],this.object=r.object}getPaginatedItems(){return this.data??[]}nextPageRequestOptions(){return null}}class ie extends Au{constructor(e,t,r,i){super(e,t,r,i),this.data=r.data||[],this.has_more=r.has_more||!1}getPaginatedItems(){return this.data??[]}hasNextPage(){return this.has_more===!1?!1:super.hasNextPage()}nextPageRequestOptions(){var r;const e=this.getPaginatedItems(),t=(r=e[e.length-1])==null?void 0:r.id;return t?{...this.options,query:{...Tm(this.options.query),after:t}}:null}}class zo extends Au{constructor(e,t,r,i){super(e,t,r,i),this.data=r.data||[],this.has_more=r.has_more||!1,this.last_id=r.last_id||""}getPaginatedItems(){return this.data??[]}hasNextPage(){return this.has_more===!1?!1:super.hasNextPage()}nextPageRequestOptions(){const e=this.last_id;return e?{...this.options,query:{...Tm(this.options.query),after:e}}:null}}const Nm=()=>{var n;if(typeof File>"u"){const{process:e}=globalThis,t=typeof((n=e==null?void 0:e.versions)==null?void 0:n.node)=="string"&&parseInt(e.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(t?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function Br(n,e,t){return Nm(),new File(n,e??"unknown_file",t)}function oo(n){return(typeof n=="object"&&n!==null&&("name"in n&&n.name&&String(n.name)||"url"in n&&n.url&&String(n.url)||"filename"in n&&n.filename&&String(n.filename)||"path"in n&&n.path&&String(n.path))||"").split(/[\\/]/).pop()||void 0}const xu=n=>n!=null&&typeof n=="object"&&typeof n[Symbol.asyncIterator]=="function",Cd=async(n,e)=>ga(n.body)?{...n,body:await Dm(n.body,e)}:n,Cn=async(n,e)=>({...n,body:await Dm(n.body,e)}),Td=new WeakMap;function $E(n){const e=typeof n=="function"?n:n.fetch,t=Td.get(e);if(t)return t;const r=(async()=>{try{const i="Response"in e?e.Response:(await e("data:,")).constructor,o=new FormData;return o.toString()!==await new i(o).text()}catch{return!0}})();return Td.set(e,r),r}const Dm=async(n,e)=>{if(!await $E(e))throw new TypeError("The provided fetch function does not support file uploads with the current global FormData class.");const t=new FormData;return await Promise.all(Object.entries(n||{}).map(([r,i])=>ya(t,r,i))),t},Lm=n=>n instanceof Blob&&"name"in n,OE=n=>typeof n=="object"&&n!==null&&(n instanceof Response||xu(n)||Lm(n)),ga=n=>{if(OE(n))return!0;if(Array.isArray(n))return n.some(ga);if(n&&typeof n=="object"){for(const e in n)if(ga(n[e]))return!0}return!1},ya=async(n,e,t)=>{if(t!==void 0){if(t==null)throw new TypeError(`Received null for "${e}"; to pass null in FormData, you must use the string 'null'`);if(typeof t=="string"||typeof t=="number"||typeof t=="boolean")n.append(e,String(t));else if(t instanceof Response)n.append(e,Br([await t.blob()],oo(t)));else if(xu(t))n.append(e,Br([await new Response(Sm(t)).blob()],oo(t)));else if(Lm(t))n.append(e,t,oo(t));else if(Array.isArray(t))await Promise.all(t.map(r=>ya(n,e+"[]",r)));else if(typeof t=="object")await Promise.all(Object.entries(t).map(([r,i])=>ya(n,`${e}[${r}]`,i)));else throw new TypeError(`Invalid value given to form, expected a string, number, boolean, object, Array, File or Blob but got ${t} instead`)}},Fm=n=>n!=null&&typeof n=="object"&&typeof n.size=="number"&&typeof n.type=="string"&&typeof n.text=="function"&&typeof n.slice=="function"&&typeof n.arrayBuffer=="function",BE=n=>n!=null&&typeof n=="object"&&typeof n.name=="string"&&typeof n.lastModified=="number"&&Fm(n),qE=n=>n!=null&&typeof n=="object"&&typeof n.url=="string"&&typeof n.blob=="function";async function GE(n,e,t){if(Nm(),n=await n,BE(n))return n instanceof File?n:Br([await n.arrayBuffer()],n.name);if(qE(n)){const i=await n.blob();return e||(e=new URL(n.url).pathname.split(/[\\/]/).pop()),Br(await va(i),e,t)}const r=await va(n);if(e||(e=oo(n)),!(t!=null&&t.type)){const i=r.find(o=>typeof o=="object"&&"type"in o&&o.type);typeof i=="string"&&(t={...t,type:i})}return Br(r,e,t)}async function va(n){var t;let e=[];if(typeof n=="string"||ArrayBuffer.isView(n)||n instanceof ArrayBuffer)e.push(n);else if(Fm(n))e.push(n instanceof Blob?n:await n.arrayBuffer());else if(xu(n))for await(const r of n)e.push(...await va(r));else{const r=(t=n==null?void 0:n.constructor)==null?void 0:t.name;throw new Error(`Unexpected data type: ${typeof n}${r?`; constructor: ${r}`:""}${zE(n)}`)}return e}function zE(n){return typeof n!="object"||n===null?"":`; props: [${Object.getOwnPropertyNames(n).map(t=>`"${t}"`).join(", ")}]`}class L{constructor(e){this._client=e}}function Um(n){return n.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const wd=Object.freeze(Object.create(null)),HE=(n=Um)=>function(t,...r){if(t.length===1)return t[0];let i=!1;const o=[],s=t.reduce((d,p,h)=>{var C;/[?#]/.test(p)&&(i=!0);const g=r[h];let v=(i?encodeURIComponent:n)(""+g);return h!==r.length&&(g==null||typeof g=="object"&&g.toString===((C=Object.getPrototypeOf(Object.getPrototypeOf(g.hasOwnProperty??wd)??wd))==null?void 0:C.toString))&&(v=g+"",o.push({start:d.length+p.length,length:v.length,error:`Value of type ${Object.prototype.toString.call(g).slice(8,-1)} is not a valid path parameter`})),d+p+(h===r.length?"":v)},""),u=s.split(/[?#]/,1)[0],c=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let f;for(;(f=c.exec(u))!==null;)o.push({start:f.index,length:f[0].length,error:`Value "${f[0]}" can't be safely passed as a path parameter`});if(o.sort((d,p)=>d.start-p.start),o.length>0){let d=0;const p=o.reduce((h,g)=>{const v=" ".repeat(g.start-d),C="^".repeat(g.length);return d=g.start+g.length,h+v+C},"");throw new F(`Path parameters result in path with invalid segments:
${o.map(h=>h.error).join(`
`)}
${s}
${p}`)}return s},A=HE(Um);let Vm=class extends L{list(e,t={},r){return this._client.getAPIList(A`/chat/completions/${e}/messages`,ie,{query:t,...r})}};function Ho(n){return n!==void 0&&"function"in n&&n.function!==void 0}function Pu(n){return(n==null?void 0:n.$brand)==="auto-parseable-response-format"}function hi(n){return(n==null?void 0:n.$brand)==="auto-parseable-tool"}function WE(n,e){return!e||!$m(e)?{...n,choices:n.choices.map(t=>(Om(t.message.tool_calls),{...t,message:{...t.message,parsed:null,...t.message.tool_calls?{tool_calls:t.message.tool_calls}:void 0}}))}:Ru(n,e)}function Ru(n,e){const t=n.choices.map(r=>{var i;if(r.finish_reason==="length")throw new _m;if(r.finish_reason==="content_filter")throw new Cm;return Om(r.message.tool_calls),{...r,message:{...r.message,...r.message.tool_calls?{tool_calls:((i=r.message.tool_calls)==null?void 0:i.map(o=>KE(e,o)))??void 0}:void 0,parsed:r.message.content&&!r.message.refusal?JE(e,r.message.content):null}}});return{...n,choices:t}}function JE(n,e){var t,r;return((t=n.response_format)==null?void 0:t.type)!=="json_schema"?null:((r=n.response_format)==null?void 0:r.type)==="json_schema"?"$parseRaw"in n.response_format?n.response_format.$parseRaw(e):JSON.parse(e):null}function KE(n,e){var r;const t=(r=n.tools)==null?void 0:r.find(i=>{var o;return Ho(i)&&((o=i.function)==null?void 0:o.name)===e.function.name});return{...e,function:{...e.function,parsed_arguments:hi(t)?t.$parseRaw(e.function.arguments):t!=null&&t.function.strict?JSON.parse(e.function.arguments):null}}}function YE(n,e){var r;if(!n||!("tools"in n)||!n.tools)return!1;const t=(r=n.tools)==null?void 0:r.find(i=>{var o;return Ho(i)&&((o=i.function)==null?void 0:o.name)===e.function.name});return Ho(t)&&(hi(t)||(t==null?void 0:t.function.strict)||!1)}function $m(n){var e;return Pu(n.response_format)?!0:((e=n.tools)==null?void 0:e.some(t=>hi(t)||t.type==="function"&&t.function.strict===!0))??!1}function Om(n){for(const e of n||[])if(e.type!=="function")throw new F(`Currently only \`function\` tool calls are supported; Received \`${e.type}\``)}function bE(n){for(const e of n??[]){if(e.type!=="function")throw new F(`Currently only \`function\` tool types support auto-parsing; Received \`${e.type}\``);if(e.function.strict!==!0)throw new F(`The \`${e.function.name}\` tool is not marked with \`strict: true\`. Only strict function tools can be auto-parsed`)}}const Wo=n=>(n==null?void 0:n.role)==="assistant",Bm=n=>(n==null?void 0:n.role)==="tool";var _a,so,lo,Ir,Ar,ao,xr,vt,Pr,Jo,Ko,Pn,qm;class Mu{constructor(){_a.add(this),this.controller=new AbortController,so.set(this,void 0),lo.set(this,()=>{}),Ir.set(this,()=>{}),Ar.set(this,void 0),ao.set(this,()=>{}),xr.set(this,()=>{}),vt.set(this,{}),Pr.set(this,!1),Jo.set(this,!1),Ko.set(this,!1),Pn.set(this,!1),V(this,so,new Promise((e,t)=>{V(this,lo,e,"f"),V(this,Ir,t,"f")})),V(this,Ar,new Promise((e,t)=>{V(this,ao,e,"f"),V(this,xr,t,"f")})),w(this,so,"f").catch(()=>{}),w(this,Ar,"f").catch(()=>{})}_run(e){setTimeout(()=>{e().then(()=>{this._emitFinal(),this._emit("end")},w(this,_a,"m",qm).bind(this))},0)}_connected(){this.ended||(w(this,lo,"f").call(this),this._emit("connect"))}get ended(){return w(this,Pr,"f")}get errored(){return w(this,Jo,"f")}get aborted(){return w(this,Ko,"f")}abort(){this.controller.abort()}on(e,t){return(w(this,vt,"f")[e]||(w(this,vt,"f")[e]=[])).push({listener:t}),this}off(e,t){const r=w(this,vt,"f")[e];if(!r)return this;const i=r.findIndex(o=>o.listener===t);return i>=0&&r.splice(i,1),this}once(e,t){return(w(this,vt,"f")[e]||(w(this,vt,"f")[e]=[])).push({listener:t,once:!0}),this}emitted(e){return new Promise((t,r)=>{V(this,Pn,!0),e!=="error"&&this.once("error",r),this.once(e,t)})}async done(){V(this,Pn,!0),await w(this,Ar,"f")}_emit(e,...t){if(w(this,Pr,"f"))return;e==="end"&&(V(this,Pr,!0),w(this,ao,"f").call(this));const r=w(this,vt,"f")[e];if(r&&(w(this,vt,"f")[e]=r.filter(i=>!i.once),r.forEach(({listener:i})=>i(...t))),e==="abort"){const i=t[0];!w(this,Pn,"f")&&!(r!=null&&r.length)&&Promise.reject(i),w(this,Ir,"f").call(this,i),w(this,xr,"f").call(this,i),this._emit("end");return}if(e==="error"){const i=t[0];!w(this,Pn,"f")&&!(r!=null&&r.length)&&Promise.reject(i),w(this,Ir,"f").call(this,i),w(this,xr,"f").call(this,i),this._emit("end")}}_emitFinal(){}}so=new WeakMap,lo=new WeakMap,Ir=new WeakMap,Ar=new WeakMap,ao=new WeakMap,xr=new WeakMap,vt=new WeakMap,Pr=new WeakMap,Jo=new WeakMap,Ko=new WeakMap,Pn=new WeakMap,_a=new WeakSet,qm=function(e){if(V(this,Jo,!0),e instanceof Error&&e.name==="AbortError"&&(e=new Xe),e instanceof Xe)return V(this,Ko,!0),this._emit("abort",e);if(e instanceof F)return this._emit("error",e);if(e instanceof Error){const t=new F(e.message);return t.cause=e,this._emit("error",t)}return this._emit("error",new F(String(e)))};function QE(n){return typeof n.parse=="function"}var Ie,Ca,Yo,Ta,wa,Sa,Gm,zm;const XE=10;class Hm extends Mu{constructor(){super(...arguments),Ie.add(this),this._chatCompletions=[],this.messages=[]}_addChatCompletion(e){var r;this._chatCompletions.push(e),this._emit("chatCompletion",e);const t=(r=e.choices[0])==null?void 0:r.message;return t&&this._addMessage(t),e}_addMessage(e,t=!0){if("content"in e||(e.content=null),this.messages.push(e),t){if(this._emit("message",e),Bm(e)&&e.content)this._emit("functionToolCallResult",e.content);else if(Wo(e)&&e.tool_calls)for(const r of e.tool_calls)r.type==="function"&&this._emit("functionToolCall",r.function)}}async finalChatCompletion(){await this.done();const e=this._chatCompletions[this._chatCompletions.length-1];if(!e)throw new F("stream ended without producing a ChatCompletion");return e}async finalContent(){return await this.done(),w(this,Ie,"m",Ca).call(this)}async finalMessage(){return await this.done(),w(this,Ie,"m",Yo).call(this)}async finalFunctionToolCall(){return await this.done(),w(this,Ie,"m",Ta).call(this)}async finalFunctionToolCallResult(){return await this.done(),w(this,Ie,"m",wa).call(this)}async totalUsage(){return await this.done(),w(this,Ie,"m",Sa).call(this)}allChatCompletions(){return[...this._chatCompletions]}_emitFinal(){const e=this._chatCompletions[this._chatCompletions.length-1];e&&this._emit("finalChatCompletion",e);const t=w(this,Ie,"m",Yo).call(this);t&&this._emit("finalMessage",t);const r=w(this,Ie,"m",Ca).call(this);r&&this._emit("finalContent",r);const i=w(this,Ie,"m",Ta).call(this);i&&this._emit("finalFunctionToolCall",i);const o=w(this,Ie,"m",wa).call(this);o!=null&&this._emit("finalFunctionToolCallResult",o),this._chatCompletions.some(s=>s.usage)&&this._emit("totalUsage",w(this,Ie,"m",Sa).call(this))}async _createChatCompletion(e,t,r){const i=r==null?void 0:r.signal;i&&(i.aborted&&this.controller.abort(),i.addEventListener("abort",()=>this.controller.abort())),w(this,Ie,"m",Gm).call(this,t);const o=await e.chat.completions.create({...t,stream:!1},{...r,signal:this.controller.signal});return this._connected(),this._addChatCompletion(Ru(o,t))}async _runChatCompletion(e,t,r){for(const i of t.messages)this._addMessage(i,!1);return await this._createChatCompletion(e,t,r)}async _runTools(e,t,r){var g,v,C;const i="tool",{tool_choice:o="auto",stream:s,...u}=t,c=typeof o!="string"&&o.type==="function"&&((g=o==null?void 0:o.function)==null?void 0:g.name),{maxChatCompletions:f=XE}=r||{},d=t.tools.map(S=>{if(hi(S)){if(!S.$callback)throw new F("Tool given to `.runTools()` that does not have an associated function");return{type:"function",function:{function:S.$callback,name:S.function.name,description:S.function.description||"",parameters:S.function.parameters,parse:S.$parseRaw,strict:!0}}}return S}),p={};for(const S of d)S.type==="function"&&(p[S.function.name||S.function.function.name]=S.function);const h="tools"in t?d.map(S=>S.type==="function"?{type:"function",function:{name:S.function.name||S.function.function.name,parameters:S.function.parameters,description:S.function.description,strict:S.function.strict}}:S):void 0;for(const S of t.messages)this._addMessage(S,!1);for(let S=0;S<f;++S){const m=(v=(await this._createChatCompletion(e,{...u,tool_choice:o,tools:h,messages:[...this.messages]},r)).choices[0])==null?void 0:v.message;if(!m)throw new F("missing message in ChatCompletion response");if(!((C=m.tool_calls)!=null&&C.length))return;for(const y of m.tool_calls){if(y.type!=="function")continue;const T=y.id,{name:E,arguments:P}=y.function,I=p[E];if(I){if(c&&c!==E){const O=`Invalid tool_call: ${JSON.stringify(E)}. ${JSON.stringify(c)} requested. Please try again`;this._addMessage({role:i,tool_call_id:T,content:O});continue}}else{const O=`Invalid tool_call: ${JSON.stringify(E)}. Available options are: ${Object.keys(p).map(Ee=>JSON.stringify(Ee)).join(", ")}. Please try again`;this._addMessage({role:i,tool_call_id:T,content:O});continue}let R;try{R=QE(I)?await I.parse(P):P}catch(O){const Ee=O instanceof Error?O.message:String(O);this._addMessage({role:i,tool_call_id:T,content:Ee});continue}const U=await I.function(R,this),M=w(this,Ie,"m",zm).call(this,U);if(this._addMessage({role:i,tool_call_id:T,content:M}),c)return}}}}Ie=new WeakSet,Ca=function(){return w(this,Ie,"m",Yo).call(this).content??null},Yo=function(){let e=this.messages.length;for(;e-- >0;){const t=this.messages[e];if(Wo(t))return{...t,content:t.content??null,refusal:t.refusal??null}}throw new F("stream ended without producing a ChatCompletionMessage with role=assistant")},Ta=function(){var e,t;for(let r=this.messages.length-1;r>=0;r--){const i=this.messages[r];if(Wo(i)&&((e=i==null?void 0:i.tool_calls)!=null&&e.length))return(t=i.tool_calls.filter(o=>o.type==="function").at(-1))==null?void 0:t.function}},wa=function(){for(let e=this.messages.length-1;e>=0;e--){const t=this.messages[e];if(Bm(t)&&t.content!=null&&typeof t.content=="string"&&this.messages.some(r=>{var i;return r.role==="assistant"&&((i=r.tool_calls)==null?void 0:i.some(o=>o.type==="function"&&o.id===t.tool_call_id))}))return t.content}},Sa=function(){const e={completion_tokens:0,prompt_tokens:0,total_tokens:0};for(const{usage:t}of this._chatCompletions)t&&(e.completion_tokens+=t.completion_tokens,e.prompt_tokens+=t.prompt_tokens,e.total_tokens+=t.total_tokens);return e},Gm=function(e){if(e.n!=null&&e.n>1)throw new F("ChatCompletion convenience helpers only support n=1 at this time. To use n>1, please use chat.completions.create() directly.")},zm=function(e){return typeof e=="string"?e:e===void 0?"undefined":JSON.stringify(e)};class ku extends Hm{static runTools(e,t,r){const i=new ku,o={...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"runTools"}};return i._run(()=>i._runTools(e,t,o)),i}_addMessage(e,t=!0){super._addMessage(e,t),Wo(e)&&e.content&&this._emit("content",e.content)}}const Wm=1,Jm=2,Km=4,Ym=8,bm=16,Qm=32,Xm=64,Zm=128,jm=256,eg=Zm|jm,tg=bm|Qm|eg|Xm,ng=Wm|Jm|tg,rg=Km|Ym,ZE=ng|rg,ce={STR:Wm,NUM:Jm,ARR:Km,OBJ:Ym,NULL:bm,BOOL:Qm,NAN:Xm,INFINITY:Zm,MINUS_INFINITY:jm,INF:eg,SPECIAL:tg,ATOM:ng,COLLECTION:rg,ALL:ZE};class jE extends Error{}class eI extends Error{}function tI(n,e=ce.ALL){if(typeof n!="string")throw new TypeError(`expecting str, got ${typeof n}`);if(!n.trim())throw new Error(`${n} is empty`);return nI(n.trim(),e)}const nI=(n,e)=>{const t=n.length;let r=0;const i=h=>{throw new jE(`${h} at position ${r}`)},o=h=>{throw new eI(`${h} at position ${r}`)},s=()=>(p(),r>=t&&i("Unexpected end of input"),n[r]==='"'?u():n[r]==="{"?c():n[r]==="["?f():n.substring(r,r+4)==="null"||ce.NULL&e&&t-r<4&&"null".startsWith(n.substring(r))?(r+=4,null):n.substring(r,r+4)==="true"||ce.BOOL&e&&t-r<4&&"true".startsWith(n.substring(r))?(r+=4,!0):n.substring(r,r+5)==="false"||ce.BOOL&e&&t-r<5&&"false".startsWith(n.substring(r))?(r+=5,!1):n.substring(r,r+8)==="Infinity"||ce.INFINITY&e&&t-r<8&&"Infinity".startsWith(n.substring(r))?(r+=8,1/0):n.substring(r,r+9)==="-Infinity"||ce.MINUS_INFINITY&e&&1<t-r&&t-r<9&&"-Infinity".startsWith(n.substring(r))?(r+=9,-1/0):n.substring(r,r+3)==="NaN"||ce.NAN&e&&t-r<3&&"NaN".startsWith(n.substring(r))?(r+=3,NaN):d()),u=()=>{const h=r;let g=!1;for(r++;r<t&&(n[r]!=='"'||g&&n[r-1]==="\\");)g=n[r]==="\\"?!g:!1,r++;if(n.charAt(r)=='"')try{return JSON.parse(n.substring(h,++r-Number(g)))}catch(v){o(String(v))}else if(ce.STR&e)try{return JSON.parse(n.substring(h,r-Number(g))+'"')}catch{return JSON.parse(n.substring(h,n.lastIndexOf("\\"))+'"')}i("Unterminated string literal")},c=()=>{r++,p();const h={};try{for(;n[r]!=="}";){if(p(),r>=t&&ce.OBJ&e)return h;const g=u();p(),r++;try{const v=s();Object.defineProperty(h,g,{value:v,writable:!0,enumerable:!0,configurable:!0})}catch(v){if(ce.OBJ&e)return h;throw v}p(),n[r]===","&&r++}}catch{if(ce.OBJ&e)return h;i("Expected '}' at end of object")}return r++,h},f=()=>{r++;const h=[];try{for(;n[r]!=="]";)h.push(s()),p(),n[r]===","&&r++}catch{if(ce.ARR&e)return h;i("Expected ']' at end of array")}return r++,h},d=()=>{if(r===0){n==="-"&&ce.NUM&e&&i("Not sure what '-' is");try{return JSON.parse(n)}catch(g){if(ce.NUM&e)try{return n[n.length-1]==="."?JSON.parse(n.substring(0,n.lastIndexOf("."))):JSON.parse(n.substring(0,n.lastIndexOf("e")))}catch{}o(String(g))}}const h=r;for(n[r]==="-"&&r++;n[r]&&!",]}".includes(n[r]);)r++;r==t&&!(ce.NUM&e)&&i("Unterminated number literal");try{return JSON.parse(n.substring(h,r))}catch{n.substring(h,r)==="-"&&ce.NUM&e&&i("Not sure what '-' is");try{return JSON.parse(n.substring(h,n.lastIndexOf("e")))}catch(v){o(String(v))}}},p=()=>{for(;r<t&&` 
\r	`.includes(n[r]);)r++};return s()},Sd=n=>tI(n,ce.ALL^ce.NUM);var oe,yt,En,kt,sl,Bi,ll,al,ul,qi,cl,Ed;class si extends Hm{constructor(e){super(),oe.add(this),yt.set(this,void 0),En.set(this,void 0),kt.set(this,void 0),V(this,yt,e),V(this,En,[])}get currentChatCompletionSnapshot(){return w(this,kt,"f")}static fromReadableStream(e){const t=new si(null);return t._run(()=>t._fromReadableStream(e)),t}static createChatCompletion(e,t,r){const i=new si(t);return i._run(()=>i._runChatCompletion(e,{...t,stream:!0},{...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"stream"}})),i}async _createChatCompletion(e,t,r){var s;super._createChatCompletion;const i=r==null?void 0:r.signal;i&&(i.aborted&&this.controller.abort(),i.addEventListener("abort",()=>this.controller.abort())),w(this,oe,"m",sl).call(this);const o=await e.chat.completions.create({...t,stream:!0},{...r,signal:this.controller.signal});this._connected();for await(const u of o)w(this,oe,"m",ll).call(this,u);if((s=o.controller.signal)!=null&&s.aborted)throw new Xe;return this._addChatCompletion(w(this,oe,"m",qi).call(this))}async _fromReadableStream(e,t){var s;const r=t==null?void 0:t.signal;r&&(r.aborted&&this.controller.abort(),r.addEventListener("abort",()=>this.controller.abort())),w(this,oe,"m",sl).call(this),this._connected();const i=ht.fromReadableStream(e,this.controller);let o;for await(const u of i)o&&o!==u.id&&this._addChatCompletion(w(this,oe,"m",qi).call(this)),w(this,oe,"m",ll).call(this,u),o=u.id;if((s=i.controller.signal)!=null&&s.aborted)throw new Xe;return this._addChatCompletion(w(this,oe,"m",qi).call(this))}[(yt=new WeakMap,En=new WeakMap,kt=new WeakMap,oe=new WeakSet,sl=function(){this.ended||V(this,kt,void 0)},Bi=function(t){let r=w(this,En,"f")[t.index];return r||(r={content_done:!1,refusal_done:!1,logprobs_content_done:!1,logprobs_refusal_done:!1,done_tool_calls:new Set,current_tool_call_index:null},w(this,En,"f")[t.index]=r,r)},ll=function(t){var i,o,s,u,c,f,d,p,h,g,v,C,S,_,m;if(this.ended)return;const r=w(this,oe,"m",Ed).call(this,t);this._emit("chunk",t,r);for(const y of t.choices){const T=r.choices[y.index];y.delta.content!=null&&((i=T.message)==null?void 0:i.role)==="assistant"&&((o=T.message)!=null&&o.content)&&(this._emit("content",y.delta.content,T.message.content),this._emit("content.delta",{delta:y.delta.content,snapshot:T.message.content,parsed:T.message.parsed})),y.delta.refusal!=null&&((s=T.message)==null?void 0:s.role)==="assistant"&&((u=T.message)!=null&&u.refusal)&&this._emit("refusal.delta",{delta:y.delta.refusal,snapshot:T.message.refusal}),((c=y.logprobs)==null?void 0:c.content)!=null&&((f=T.message)==null?void 0:f.role)==="assistant"&&this._emit("logprobs.content.delta",{content:(d=y.logprobs)==null?void 0:d.content,snapshot:((p=T.logprobs)==null?void 0:p.content)??[]}),((h=y.logprobs)==null?void 0:h.refusal)!=null&&((g=T.message)==null?void 0:g.role)==="assistant"&&this._emit("logprobs.refusal.delta",{refusal:(v=y.logprobs)==null?void 0:v.refusal,snapshot:((C=T.logprobs)==null?void 0:C.refusal)??[]});const E=w(this,oe,"m",Bi).call(this,T);T.finish_reason&&(w(this,oe,"m",ul).call(this,T),E.current_tool_call_index!=null&&w(this,oe,"m",al).call(this,T,E.current_tool_call_index));for(const P of y.delta.tool_calls??[])E.current_tool_call_index!==P.index&&(w(this,oe,"m",ul).call(this,T),E.current_tool_call_index!=null&&w(this,oe,"m",al).call(this,T,E.current_tool_call_index)),E.current_tool_call_index=P.index;for(const P of y.delta.tool_calls??[]){const I=(S=T.message.tool_calls)==null?void 0:S[P.index];I!=null&&I.type&&((I==null?void 0:I.type)==="function"?this._emit("tool_calls.function.arguments.delta",{name:(_=I.function)==null?void 0:_.name,index:P.index,arguments:I.function.arguments,parsed_arguments:I.function.parsed_arguments,arguments_delta:((m=P.function)==null?void 0:m.arguments)??""}):(I==null||I.type,void 0))}}},al=function(t,r){var s,u,c;if(w(this,oe,"m",Bi).call(this,t).done_tool_calls.has(r))return;const o=(s=t.message.tool_calls)==null?void 0:s[r];if(!o)throw new Error("no tool call snapshot");if(!o.type)throw new Error("tool call snapshot missing `type`");if(o.type==="function"){const f=(c=(u=w(this,yt,"f"))==null?void 0:u.tools)==null?void 0:c.find(d=>Ho(d)&&d.function.name===o.function.name);this._emit("tool_calls.function.arguments.done",{name:o.function.name,index:r,arguments:o.function.arguments,parsed_arguments:hi(f)?f.$parseRaw(o.function.arguments):f!=null&&f.function.strict?JSON.parse(o.function.arguments):null})}else o.type},ul=function(t){var i,o;const r=w(this,oe,"m",Bi).call(this,t);if(t.message.content&&!r.content_done){r.content_done=!0;const s=w(this,oe,"m",cl).call(this);this._emit("content.done",{content:t.message.content,parsed:s?s.$parseRaw(t.message.content):null})}t.message.refusal&&!r.refusal_done&&(r.refusal_done=!0,this._emit("refusal.done",{refusal:t.message.refusal})),(i=t.logprobs)!=null&&i.content&&!r.logprobs_content_done&&(r.logprobs_content_done=!0,this._emit("logprobs.content.done",{content:t.logprobs.content})),(o=t.logprobs)!=null&&o.refusal&&!r.logprobs_refusal_done&&(r.logprobs_refusal_done=!0,this._emit("logprobs.refusal.done",{refusal:t.logprobs.refusal}))},qi=function(){if(this.ended)throw new F("stream has ended, this shouldn't happen");const t=w(this,kt,"f");if(!t)throw new F("request ended without sending any chunks");return V(this,kt,void 0),V(this,En,[]),rI(t,w(this,yt,"f"))},cl=function(){var r;const t=(r=w(this,yt,"f"))==null?void 0:r.response_format;return Pu(t)?t:null},Ed=function(t){var r,i,o,s;let u=w(this,kt,"f");const{choices:c,...f}=t;u?Object.assign(u,f):u=V(this,kt,{...f,choices:[]});for(const{delta:d,finish_reason:p,index:h,logprobs:g=null,...v}of t.choices){let C=u.choices[h];if(C||(C=u.choices[h]={finish_reason:p,index:h,message:{},logprobs:g,...v}),g)if(!C.logprobs)C.logprobs=Object.assign({},g);else{const{content:P,refusal:I,...R}=g;Object.assign(C.logprobs,R),P&&((r=C.logprobs).content??(r.content=[]),C.logprobs.content.push(...P)),I&&((i=C.logprobs).refusal??(i.refusal=[]),C.logprobs.refusal.push(...I))}if(p&&(C.finish_reason=p,w(this,yt,"f")&&$m(w(this,yt,"f")))){if(p==="length")throw new _m;if(p==="content_filter")throw new Cm}if(Object.assign(C,v),!d)continue;const{content:S,refusal:_,function_call:m,role:y,tool_calls:T,...E}=d;if(Object.assign(C.message,E),_&&(C.message.refusal=(C.message.refusal||"")+_),y&&(C.message.role=y),m&&(C.message.function_call?(m.name&&(C.message.function_call.name=m.name),m.arguments&&((o=C.message.function_call).arguments??(o.arguments=""),C.message.function_call.arguments+=m.arguments)):C.message.function_call=m),S&&(C.message.content=(C.message.content||"")+S,!C.message.refusal&&w(this,oe,"m",cl).call(this)&&(C.message.parsed=Sd(C.message.content))),T){C.message.tool_calls||(C.message.tool_calls=[]);for(const{index:P,id:I,type:R,function:U,...M}of T){const O=(s=C.message.tool_calls)[P]??(s[P]={});Object.assign(O,M),I&&(O.id=I),R&&(O.type=R),U&&(O.function??(O.function={name:U.name??"",arguments:""})),U!=null&&U.name&&(O.function.name=U.name),U!=null&&U.arguments&&(O.function.arguments+=U.arguments,YE(w(this,yt,"f"),O)&&(O.function.parsed_arguments=Sd(O.function.arguments)))}}}return u},Symbol.asyncIterator)](){const e=[],t=[];let r=!1;return this.on("chunk",i=>{const o=t.shift();o?o.resolve(i):e.push(i)}),this.on("end",()=>{r=!0;for(const i of t)i.resolve(void 0);t.length=0}),this.on("abort",i=>{r=!0;for(const o of t)o.reject(i);t.length=0}),this.on("error",i=>{r=!0;for(const o of t)o.reject(i);t.length=0}),{next:async()=>e.length?{value:e.shift(),done:!1}:r?{value:void 0,done:!0}:new Promise((o,s)=>t.push({resolve:o,reject:s})).then(o=>o?{value:o,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}toReadableStream(){return new ht(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}}function rI(n,e){const{id:t,choices:r,created:i,model:o,system_fingerprint:s,...u}=n,c={...u,id:t,choices:r.map(({message:f,finish_reason:d,index:p,logprobs:h,...g})=>{if(!d)throw new F(`missing finish_reason for choice ${p}`);const{content:v=null,function_call:C,tool_calls:S,..._}=f,m=f.role;if(!m)throw new F(`missing role for choice ${p}`);if(C){const{arguments:y,name:T}=C;if(y==null)throw new F(`missing function_call.arguments for choice ${p}`);if(!T)throw new F(`missing function_call.name for choice ${p}`);return{...g,message:{content:v,function_call:{arguments:y,name:T},role:m,refusal:f.refusal??null},finish_reason:d,index:p,logprobs:h}}return S?{...g,index:p,finish_reason:d,logprobs:h,message:{..._,role:m,content:v,refusal:f.refusal??null,tool_calls:S.map((y,T)=>{const{function:E,type:P,id:I,...R}=y,{arguments:U,name:M,...O}=E||{};if(I==null)throw new F(`missing choices[${p}].tool_calls[${T}].id
${Gi(n)}`);if(P==null)throw new F(`missing choices[${p}].tool_calls[${T}].type
${Gi(n)}`);if(M==null)throw new F(`missing choices[${p}].tool_calls[${T}].function.name
${Gi(n)}`);if(U==null)throw new F(`missing choices[${p}].tool_calls[${T}].function.arguments
${Gi(n)}`);return{...R,id:I,type:P,function:{...O,name:M,arguments:U}}})}}:{...g,message:{..._,content:v,role:m,refusal:f.refusal??null},finish_reason:d,index:p,logprobs:h}}),created:i,model:o,object:"chat.completion",...s?{system_fingerprint:s}:{}};return WE(c,e)}function Gi(n){return JSON.stringify(n)}class bo extends si{static fromReadableStream(e){const t=new bo(null);return t._run(()=>t._fromReadableStream(e)),t}static runTools(e,t,r){const i=new bo(t),o={...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"runTools"}};return i._run(()=>i._runTools(e,t,o)),i}}let Nu=class extends L{constructor(){super(...arguments),this.messages=new Vm(this._client)}create(e,t){return this._client.post("/chat/completions",{body:e,...t,stream:e.stream??!1})}retrieve(e,t){return this._client.get(A`/chat/completions/${e}`,t)}update(e,t,r){return this._client.post(A`/chat/completions/${e}`,{body:t,...r})}list(e={},t){return this._client.getAPIList("/chat/completions",ie,{query:e,...t})}delete(e,t){return this._client.delete(A`/chat/completions/${e}`,t)}parse(e,t){return bE(e.tools),this._client.chat.completions.create(e,{...t,headers:{...t==null?void 0:t.headers,"X-Stainless-Helper-Method":"chat.completions.parse"}})._thenUnwrap(r=>Ru(r,e))}runTools(e,t){return e.stream?bo.runTools(this._client,e,t):ku.runTools(this._client,e,t)}stream(e,t){return si.createChatCompletion(this._client,e,t)}};Nu.Messages=Vm;class Du extends L{constructor(){super(...arguments),this.completions=new Nu(this._client)}}Du.Completions=Nu;const ig=Symbol("brand.privateNullableHeaders");function*iI(n){if(!n)return;if(ig in n){const{values:r,nulls:i}=n;yield*r.entries();for(const o of i)yield[o,null];return}let e=!1,t;n instanceof Headers?t=n.entries():ad(n)?t=n:(e=!0,t=Object.entries(n??{}));for(let r of t){const i=r[0];if(typeof i!="string")throw new TypeError("expected header name to be a string");const o=ad(r[1])?r[1]:[r[1]];let s=!1;for(const u of o)u!==void 0&&(e&&!s&&(s=!0,yield[i,null]),yield[i,u])}}const N=n=>{const e=new Headers,t=new Set;for(const r of n){const i=new Set;for(const[o,s]of iI(r)){const u=o.toLowerCase();i.has(u)||(e.delete(o),i.add(u)),s===null?(e.delete(o),t.add(u)):(e.append(o,s),t.delete(u))}}return{[ig]:!0,values:e,nulls:t}};class og extends L{create(e,t){return this._client.post("/audio/speech",{body:e,...t,headers:N([{Accept:"application/octet-stream"},t==null?void 0:t.headers]),__binaryResponse:!0})}}class sg extends L{create(e,t){return this._client.post("/audio/transcriptions",Cn({body:e,...t,stream:e.stream??!1,__metadata:{model:e.model}},this._client))}}class lg extends L{create(e,t){return this._client.post("/audio/translations",Cn({body:e,...t,__metadata:{model:e.model}},this._client))}}class mi extends L{constructor(){super(...arguments),this.transcriptions=new sg(this._client),this.translations=new lg(this._client),this.speech=new og(this._client)}}mi.Transcriptions=sg;mi.Translations=lg;mi.Speech=og;class ag extends L{create(e,t){return this._client.post("/batches",{body:e,...t})}retrieve(e,t){return this._client.get(A`/batches/${e}`,t)}list(e={},t){return this._client.getAPIList("/batches",ie,{query:e,...t})}cancel(e,t){return this._client.post(A`/batches/${e}/cancel`,t)}}class ug extends L{create(e,t){return this._client.post("/assistants",{body:e,...t,headers:N([{"OpenAI-Beta":"assistants=v2"},t==null?void 0:t.headers])})}retrieve(e,t){return this._client.get(A`/assistants/${e}`,{...t,headers:N([{"OpenAI-Beta":"assistants=v2"},t==null?void 0:t.headers])})}update(e,t,r){return this._client.post(A`/assistants/${e}`,{body:t,...r,headers:N([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}list(e={},t){return this._client.getAPIList("/assistants",ie,{query:e,...t,headers:N([{"OpenAI-Beta":"assistants=v2"},t==null?void 0:t.headers])})}delete(e,t){return this._client.delete(A`/assistants/${e}`,{...t,headers:N([{"OpenAI-Beta":"assistants=v2"},t==null?void 0:t.headers])})}}let cg=class extends L{create(e,t){return this._client.post("/realtime/sessions",{body:e,...t,headers:N([{"OpenAI-Beta":"assistants=v2"},t==null?void 0:t.headers])})}};class fg extends L{create(e,t){return this._client.post("/realtime/transcription_sessions",{body:e,...t,headers:N([{"OpenAI-Beta":"assistants=v2"},t==null?void 0:t.headers])})}}let Ts=class extends L{constructor(){super(...arguments),this.sessions=new cg(this._client),this.transcriptionSessions=new fg(this._client)}};Ts.Sessions=cg;Ts.TranscriptionSessions=fg;class dg extends L{create(e,t){return this._client.post("/chatkit/sessions",{body:e,...t,headers:N([{"OpenAI-Beta":"chatkit_beta=v1"},t==null?void 0:t.headers])})}cancel(e,t){return this._client.post(A`/chatkit/sessions/${e}/cancel`,{...t,headers:N([{"OpenAI-Beta":"chatkit_beta=v1"},t==null?void 0:t.headers])})}}let pg=class extends L{retrieve(e,t){return this._client.get(A`/chatkit/threads/${e}`,{...t,headers:N([{"OpenAI-Beta":"chatkit_beta=v1"},t==null?void 0:t.headers])})}list(e={},t){return this._client.getAPIList("/chatkit/threads",zo,{query:e,...t,headers:N([{"OpenAI-Beta":"chatkit_beta=v1"},t==null?void 0:t.headers])})}delete(e,t){return this._client.delete(A`/chatkit/threads/${e}`,{...t,headers:N([{"OpenAI-Beta":"chatkit_beta=v1"},t==null?void 0:t.headers])})}listItems(e,t={},r){return this._client.getAPIList(A`/chatkit/threads/${e}/items`,zo,{query:t,...r,headers:N([{"OpenAI-Beta":"chatkit_beta=v1"},r==null?void 0:r.headers])})}};class ws extends L{constructor(){super(...arguments),this.sessions=new dg(this._client),this.threads=new pg(this._client)}}ws.Sessions=dg;ws.Threads=pg;class hg extends L{create(e,t,r){return this._client.post(A`/threads/${e}/messages`,{body:t,...r,headers:N([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}retrieve(e,t,r){const{thread_id:i}=t;return this._client.get(A`/threads/${i}/messages/${e}`,{...r,headers:N([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}update(e,t,r){const{thread_id:i,...o}=t;return this._client.post(A`/threads/${i}/messages/${e}`,{body:o,...r,headers:N([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}list(e,t={},r){return this._client.getAPIList(A`/threads/${e}/messages`,ie,{query:t,...r,headers:N([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}delete(e,t,r){const{thread_id:i}=t;return this._client.delete(A`/threads/${i}/messages/${e}`,{...r,headers:N([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}}class mg extends L{retrieve(e,t,r){const{thread_id:i,run_id:o,...s}=t;return this._client.get(A`/threads/${i}/runs/${o}/steps/${e}`,{query:s,...r,headers:N([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}list(e,t,r){const{thread_id:i,...o}=t;return this._client.getAPIList(A`/threads/${i}/runs/${e}/steps`,ie,{query:o,...r,headers:N([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}}const oI=n=>{if(typeof Buffer<"u"){const e=Buffer.from(n,"base64");return Array.from(new Float32Array(e.buffer,e.byteOffset,e.length/Float32Array.BYTES_PER_ELEMENT))}else{const e=atob(n),t=e.length,r=new Uint8Array(t);for(let i=0;i<t;i++)r[i]=e.charCodeAt(i);return Array.from(new Float32Array(r.buffer))}};var fl={};const In=n=>{var e,t,r,i;if(typeof globalThis.process<"u")return((e=fl==null?void 0:fl[n])==null?void 0:e.trim())??void 0;if(typeof globalThis.Deno<"u")return(i=(r=(t=globalThis.Deno.env)==null?void 0:t.get)==null?void 0:r.call(t,n))==null?void 0:i.trim()};var me,fn,Ea,dt,uo,rt,dn,Gn,ln,Qo,Be,co,fo,qr,Rr,Mr,Id,Ad,xd,Pd,Rd,Md,kd;class Gr extends Mu{constructor(){super(...arguments),me.add(this),Ea.set(this,[]),dt.set(this,{}),uo.set(this,{}),rt.set(this,void 0),dn.set(this,void 0),Gn.set(this,void 0),ln.set(this,void 0),Qo.set(this,void 0),Be.set(this,void 0),co.set(this,void 0),fo.set(this,void 0),qr.set(this,void 0)}[(Ea=new WeakMap,dt=new WeakMap,uo=new WeakMap,rt=new WeakMap,dn=new WeakMap,Gn=new WeakMap,ln=new WeakMap,Qo=new WeakMap,Be=new WeakMap,co=new WeakMap,fo=new WeakMap,qr=new WeakMap,me=new WeakSet,Symbol.asyncIterator)](){const e=[],t=[];let r=!1;return this.on("event",i=>{const o=t.shift();o?o.resolve(i):e.push(i)}),this.on("end",()=>{r=!0;for(const i of t)i.resolve(void 0);t.length=0}),this.on("abort",i=>{r=!0;for(const o of t)o.reject(i);t.length=0}),this.on("error",i=>{r=!0;for(const o of t)o.reject(i);t.length=0}),{next:async()=>e.length?{value:e.shift(),done:!1}:r?{value:void 0,done:!0}:new Promise((o,s)=>t.push({resolve:o,reject:s})).then(o=>o?{value:o,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}static fromReadableStream(e){const t=new fn;return t._run(()=>t._fromReadableStream(e)),t}async _fromReadableStream(e,t){var o;const r=t==null?void 0:t.signal;r&&(r.aborted&&this.controller.abort(),r.addEventListener("abort",()=>this.controller.abort())),this._connected();const i=ht.fromReadableStream(e,this.controller);for await(const s of i)w(this,me,"m",Rr).call(this,s);if((o=i.controller.signal)!=null&&o.aborted)throw new Xe;return this._addRun(w(this,me,"m",Mr).call(this))}toReadableStream(){return new ht(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}static createToolAssistantStream(e,t,r,i){const o=new fn;return o._run(()=>o._runToolAssistantStream(e,t,r,{...i,headers:{...i==null?void 0:i.headers,"X-Stainless-Helper-Method":"stream"}})),o}async _createToolAssistantStream(e,t,r,i){var c;const o=i==null?void 0:i.signal;o&&(o.aborted&&this.controller.abort(),o.addEventListener("abort",()=>this.controller.abort()));const s={...r,stream:!0},u=await e.submitToolOutputs(t,s,{...i,signal:this.controller.signal});this._connected();for await(const f of u)w(this,me,"m",Rr).call(this,f);if((c=u.controller.signal)!=null&&c.aborted)throw new Xe;return this._addRun(w(this,me,"m",Mr).call(this))}static createThreadAssistantStream(e,t,r){const i=new fn;return i._run(()=>i._threadAssistantStream(e,t,{...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"stream"}})),i}static createAssistantStream(e,t,r,i){const o=new fn;return o._run(()=>o._runAssistantStream(e,t,r,{...i,headers:{...i==null?void 0:i.headers,"X-Stainless-Helper-Method":"stream"}})),o}currentEvent(){return w(this,co,"f")}currentRun(){return w(this,fo,"f")}currentMessageSnapshot(){return w(this,rt,"f")}currentRunStepSnapshot(){return w(this,qr,"f")}async finalRunSteps(){return await this.done(),Object.values(w(this,dt,"f"))}async finalMessages(){return await this.done(),Object.values(w(this,uo,"f"))}async finalRun(){if(await this.done(),!w(this,dn,"f"))throw Error("Final run was not received.");return w(this,dn,"f")}async _createThreadAssistantStream(e,t,r){var u;const i=r==null?void 0:r.signal;i&&(i.aborted&&this.controller.abort(),i.addEventListener("abort",()=>this.controller.abort()));const o={...t,stream:!0},s=await e.createAndRun(o,{...r,signal:this.controller.signal});this._connected();for await(const c of s)w(this,me,"m",Rr).call(this,c);if((u=s.controller.signal)!=null&&u.aborted)throw new Xe;return this._addRun(w(this,me,"m",Mr).call(this))}async _createAssistantStream(e,t,r,i){var c;const o=i==null?void 0:i.signal;o&&(o.aborted&&this.controller.abort(),o.addEventListener("abort",()=>this.controller.abort()));const s={...r,stream:!0},u=await e.create(t,s,{...i,signal:this.controller.signal});this._connected();for await(const f of u)w(this,me,"m",Rr).call(this,f);if((c=u.controller.signal)!=null&&c.aborted)throw new Xe;return this._addRun(w(this,me,"m",Mr).call(this))}static accumulateDelta(e,t){for(const[r,i]of Object.entries(t)){if(!e.hasOwnProperty(r)){e[r]=i;continue}let o=e[r];if(o==null){e[r]=i;continue}if(r==="index"||r==="type"){e[r]=i;continue}if(typeof o=="string"&&typeof i=="string")o+=i;else if(typeof o=="number"&&typeof i=="number")o+=i;else if(rl(o)&&rl(i))o=this.accumulateDelta(o,i);else if(Array.isArray(o)&&Array.isArray(i)){if(o.every(s=>typeof s=="string"||typeof s=="number")){o.push(...i);continue}for(const s of i){if(!rl(s))throw new Error(`Expected array delta entry to be an object but got: ${s}`);const u=s.index;if(u==null)throw console.error(s),new Error("Expected array delta entry to have an `index` property");if(typeof u!="number")throw new Error(`Expected array delta entry \`index\` property to be a number but got ${u}`);const c=o[u];c==null?o.push(s):o[u]=this.accumulateDelta(c,s)}continue}else throw Error(`Unhandled record type: ${r}, deltaValue: ${i}, accValue: ${o}`);e[r]=o}return e}_addRun(e){return e}async _threadAssistantStream(e,t,r){return await this._createThreadAssistantStream(t,e,r)}async _runAssistantStream(e,t,r,i){return await this._createAssistantStream(t,e,r,i)}async _runToolAssistantStream(e,t,r,i){return await this._createToolAssistantStream(t,e,r,i)}}fn=Gr,Rr=function(e){if(!this.ended)switch(V(this,co,e),w(this,me,"m",xd).call(this,e),e.event){case"thread.created":break;case"thread.run.created":case"thread.run.queued":case"thread.run.in_progress":case"thread.run.requires_action":case"thread.run.completed":case"thread.run.incomplete":case"thread.run.failed":case"thread.run.cancelling":case"thread.run.cancelled":case"thread.run.expired":w(this,me,"m",kd).call(this,e);break;case"thread.run.step.created":case"thread.run.step.in_progress":case"thread.run.step.delta":case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":w(this,me,"m",Ad).call(this,e);break;case"thread.message.created":case"thread.message.in_progress":case"thread.message.delta":case"thread.message.completed":case"thread.message.incomplete":w(this,me,"m",Id).call(this,e);break;case"error":throw new Error("Encountered an error event in event processing - errors should be processed earlier")}},Mr=function(){if(this.ended)throw new F("stream has ended, this shouldn't happen");if(!w(this,dn,"f"))throw Error("Final run has not been received");return w(this,dn,"f")},Id=function(e){const[t,r]=w(this,me,"m",Rd).call(this,e,w(this,rt,"f"));V(this,rt,t),w(this,uo,"f")[t.id]=t;for(const i of r){const o=t.content[i.index];(o==null?void 0:o.type)=="text"&&this._emit("textCreated",o.text)}switch(e.event){case"thread.message.created":this._emit("messageCreated",e.data);break;case"thread.message.in_progress":break;case"thread.message.delta":if(this._emit("messageDelta",e.data.delta,t),e.data.delta.content)for(const i of e.data.delta.content){if(i.type=="text"&&i.text){let o=i.text,s=t.content[i.index];if(s&&s.type=="text")this._emit("textDelta",o,s.text);else throw Error("The snapshot associated with this text delta is not text or missing")}if(i.index!=w(this,Gn,"f")){if(w(this,ln,"f"))switch(w(this,ln,"f").type){case"text":this._emit("textDone",w(this,ln,"f").text,w(this,rt,"f"));break;case"image_file":this._emit("imageFileDone",w(this,ln,"f").image_file,w(this,rt,"f"));break}V(this,Gn,i.index)}V(this,ln,t.content[i.index])}break;case"thread.message.completed":case"thread.message.incomplete":if(w(this,Gn,"f")!==void 0){const i=e.data.content[w(this,Gn,"f")];if(i)switch(i.type){case"image_file":this._emit("imageFileDone",i.image_file,w(this,rt,"f"));break;case"text":this._emit("textDone",i.text,w(this,rt,"f"));break}}w(this,rt,"f")&&this._emit("messageDone",e.data),V(this,rt,void 0)}},Ad=function(e){const t=w(this,me,"m",Pd).call(this,e);switch(V(this,qr,t),e.event){case"thread.run.step.created":this._emit("runStepCreated",e.data);break;case"thread.run.step.delta":const r=e.data.delta;if(r.step_details&&r.step_details.type=="tool_calls"&&r.step_details.tool_calls&&t.step_details.type=="tool_calls")for(const o of r.step_details.tool_calls)o.index==w(this,Qo,"f")?this._emit("toolCallDelta",o,t.step_details.tool_calls[o.index]):(w(this,Be,"f")&&this._emit("toolCallDone",w(this,Be,"f")),V(this,Qo,o.index),V(this,Be,t.step_details.tool_calls[o.index]),w(this,Be,"f")&&this._emit("toolCallCreated",w(this,Be,"f")));this._emit("runStepDelta",e.data.delta,t);break;case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":V(this,qr,void 0),e.data.step_details.type=="tool_calls"&&w(this,Be,"f")&&(this._emit("toolCallDone",w(this,Be,"f")),V(this,Be,void 0)),this._emit("runStepDone",e.data,t);break}},xd=function(e){w(this,Ea,"f").push(e),this._emit("event",e)},Pd=function(e){switch(e.event){case"thread.run.step.created":return w(this,dt,"f")[e.data.id]=e.data,e.data;case"thread.run.step.delta":let t=w(this,dt,"f")[e.data.id];if(!t)throw Error("Received a RunStepDelta before creation of a snapshot");let r=e.data;if(r.delta){const i=fn.accumulateDelta(t,r.delta);w(this,dt,"f")[e.data.id]=i}return w(this,dt,"f")[e.data.id];case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":case"thread.run.step.in_progress":w(this,dt,"f")[e.data.id]=e.data;break}if(w(this,dt,"f")[e.data.id])return w(this,dt,"f")[e.data.id];throw new Error("No snapshot available")},Rd=function(e,t){let r=[];switch(e.event){case"thread.message.created":return[e.data,r];case"thread.message.delta":if(!t)throw Error("Received a delta with no existing snapshot (there should be one from message creation)");let i=e.data;if(i.delta.content)for(const o of i.delta.content)if(o.index in t.content){let s=t.content[o.index];t.content[o.index]=w(this,me,"m",Md).call(this,o,s)}else t.content[o.index]=o,r.push(o);return[t,r];case"thread.message.in_progress":case"thread.message.completed":case"thread.message.incomplete":if(t)return[t,r];throw Error("Received thread message event with no existing snapshot")}throw Error("Tried to accumulate a non-message event")},Md=function(e,t){return fn.accumulateDelta(t,e)},kd=function(e){switch(V(this,fo,e.data),e.event){case"thread.run.created":break;case"thread.run.queued":break;case"thread.run.in_progress":break;case"thread.run.requires_action":case"thread.run.cancelled":case"thread.run.failed":case"thread.run.completed":case"thread.run.expired":case"thread.run.incomplete":V(this,dn,e.data),w(this,Be,"f")&&(this._emit("toolCallDone",w(this,Be,"f")),V(this,Be,void 0));break}};let Lu=class extends L{constructor(){super(...arguments),this.steps=new mg(this._client)}create(e,t,r){const{include:i,...o}=t;return this._client.post(A`/threads/${e}/runs`,{query:{include:i},body:o,...r,headers:N([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers]),stream:t.stream??!1})}retrieve(e,t,r){const{thread_id:i}=t;return this._client.get(A`/threads/${i}/runs/${e}`,{...r,headers:N([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}update(e,t,r){const{thread_id:i,...o}=t;return this._client.post(A`/threads/${i}/runs/${e}`,{body:o,...r,headers:N([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}list(e,t={},r){return this._client.getAPIList(A`/threads/${e}/runs`,ie,{query:t,...r,headers:N([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}cancel(e,t,r){const{thread_id:i}=t;return this._client.post(A`/threads/${i}/runs/${e}/cancel`,{...r,headers:N([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}async createAndPoll(e,t,r){const i=await this.create(e,t,r);return await this.poll(i.id,{thread_id:e},r)}createAndStream(e,t,r){return Gr.createAssistantStream(e,this._client.beta.threads.runs,t,r)}async poll(e,t,r){var o;const i=N([r==null?void 0:r.headers,{"X-Stainless-Poll-Helper":"true","X-Stainless-Custom-Poll-Interval":((o=r==null?void 0:r.pollIntervalMs)==null?void 0:o.toString())??void 0}]);for(;;){const{data:s,response:u}=await this.retrieve(e,t,{...r,headers:{...r==null?void 0:r.headers,...i}}).withResponse();switch(s.status){case"queued":case"in_progress":case"cancelling":let c=5e3;if(r!=null&&r.pollIntervalMs)c=r.pollIntervalMs;else{const f=u.headers.get("openai-poll-after-ms");if(f){const d=parseInt(f);isNaN(d)||(c=d)}}await pi(c);break;case"requires_action":case"incomplete":case"cancelled":case"completed":case"failed":case"expired":return s}}}stream(e,t,r){return Gr.createAssistantStream(e,this._client.beta.threads.runs,t,r)}submitToolOutputs(e,t,r){const{thread_id:i,...o}=t;return this._client.post(A`/threads/${i}/runs/${e}/submit_tool_outputs`,{body:o,...r,headers:N([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers]),stream:t.stream??!1})}async submitToolOutputsAndPoll(e,t,r){const i=await this.submitToolOutputs(e,t,r);return await this.poll(i.id,t,r)}submitToolOutputsStream(e,t,r){return Gr.createToolAssistantStream(e,this._client.beta.threads.runs,t,r)}};Lu.Steps=mg;class Ss extends L{constructor(){super(...arguments),this.runs=new Lu(this._client),this.messages=new hg(this._client)}create(e={},t){return this._client.post("/threads",{body:e,...t,headers:N([{"OpenAI-Beta":"assistants=v2"},t==null?void 0:t.headers])})}retrieve(e,t){return this._client.get(A`/threads/${e}`,{...t,headers:N([{"OpenAI-Beta":"assistants=v2"},t==null?void 0:t.headers])})}update(e,t,r){return this._client.post(A`/threads/${e}`,{body:t,...r,headers:N([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}delete(e,t){return this._client.delete(A`/threads/${e}`,{...t,headers:N([{"OpenAI-Beta":"assistants=v2"},t==null?void 0:t.headers])})}createAndRun(e,t){return this._client.post("/threads/runs",{body:e,...t,headers:N([{"OpenAI-Beta":"assistants=v2"},t==null?void 0:t.headers]),stream:e.stream??!1})}async createAndRunPoll(e,t){const r=await this.createAndRun(e,t);return await this.runs.poll(r.id,{thread_id:r.thread_id},t)}createAndRunStream(e,t){return Gr.createThreadAssistantStream(e,this._client.beta.threads,t)}}Ss.Runs=Lu;Ss.Messages=hg;class lr extends L{constructor(){super(...arguments),this.realtime=new Ts(this._client),this.chatkit=new ws(this._client),this.assistants=new ug(this._client),this.threads=new Ss(this._client)}}lr.Realtime=Ts;lr.ChatKit=ws;lr.Assistants=ug;lr.Threads=Ss;class gg extends L{create(e,t){return this._client.post("/completions",{body:e,...t,stream:e.stream??!1})}}class yg extends L{retrieve(e,t,r){const{container_id:i}=t;return this._client.get(A`/containers/${i}/files/${e}/content`,{...r,headers:N([{Accept:"application/binary"},r==null?void 0:r.headers]),__binaryResponse:!0})}}let Fu=class extends L{constructor(){super(...arguments),this.content=new yg(this._client)}create(e,t,r){return this._client.post(A`/containers/${e}/files`,Cn({body:t,...r},this._client))}retrieve(e,t,r){const{container_id:i}=t;return this._client.get(A`/containers/${i}/files/${e}`,r)}list(e,t={},r){return this._client.getAPIList(A`/containers/${e}/files`,ie,{query:t,...r})}delete(e,t,r){const{container_id:i}=t;return this._client.delete(A`/containers/${i}/files/${e}`,{...r,headers:N([{Accept:"*/*"},r==null?void 0:r.headers])})}};Fu.Content=yg;class Uu extends L{constructor(){super(...arguments),this.files=new Fu(this._client)}create(e,t){return this._client.post("/containers",{body:e,...t})}retrieve(e,t){return this._client.get(A`/containers/${e}`,t)}list(e={},t){return this._client.getAPIList("/containers",ie,{query:e,...t})}delete(e,t){return this._client.delete(A`/containers/${e}`,{...t,headers:N([{Accept:"*/*"},t==null?void 0:t.headers])})}}Uu.Files=Fu;class vg extends L{create(e,t,r){const{include:i,...o}=t;return this._client.post(A`/conversations/${e}/items`,{query:{include:i},body:o,...r})}retrieve(e,t,r){const{conversation_id:i,...o}=t;return this._client.get(A`/conversations/${i}/items/${e}`,{query:o,...r})}list(e,t={},r){return this._client.getAPIList(A`/conversations/${e}/items`,zo,{query:t,...r})}delete(e,t,r){const{conversation_id:i}=t;return this._client.delete(A`/conversations/${i}/items/${e}`,r)}}class Vu extends L{constructor(){super(...arguments),this.items=new vg(this._client)}create(e={},t){return this._client.post("/conversations",{body:e,...t})}retrieve(e,t){return this._client.get(A`/conversations/${e}`,t)}update(e,t,r){return this._client.post(A`/conversations/${e}`,{body:t,...r})}delete(e,t){return this._client.delete(A`/conversations/${e}`,t)}}Vu.Items=vg;class _g extends L{create(e,t){const r=!!e.encoding_format;let i=r?e.encoding_format:"base64";r&&he(this._client).debug("embeddings/user defined encoding_format:",e.encoding_format);const o=this._client.post("/embeddings",{body:{...e,encoding_format:i},...t});return r?o:(he(this._client).debug("embeddings/decoding base64 embeddings from base64"),o._thenUnwrap(s=>(s&&s.data&&s.data.forEach(u=>{const c=u.embedding;u.embedding=oI(c)}),s)))}}class Cg extends L{retrieve(e,t,r){const{eval_id:i,run_id:o}=t;return this._client.get(A`/evals/${i}/runs/${o}/output_items/${e}`,r)}list(e,t,r){const{eval_id:i,...o}=t;return this._client.getAPIList(A`/evals/${i}/runs/${e}/output_items`,ie,{query:o,...r})}}class $u extends L{constructor(){super(...arguments),this.outputItems=new Cg(this._client)}create(e,t,r){return this._client.post(A`/evals/${e}/runs`,{body:t,...r})}retrieve(e,t,r){const{eval_id:i}=t;return this._client.get(A`/evals/${i}/runs/${e}`,r)}list(e,t={},r){return this._client.getAPIList(A`/evals/${e}/runs`,ie,{query:t,...r})}delete(e,t,r){const{eval_id:i}=t;return this._client.delete(A`/evals/${i}/runs/${e}`,r)}cancel(e,t,r){const{eval_id:i}=t;return this._client.post(A`/evals/${i}/runs/${e}`,r)}}$u.OutputItems=Cg;class Ou extends L{constructor(){super(...arguments),this.runs=new $u(this._client)}create(e,t){return this._client.post("/evals",{body:e,...t})}retrieve(e,t){return this._client.get(A`/evals/${e}`,t)}update(e,t,r){return this._client.post(A`/evals/${e}`,{body:t,...r})}list(e={},t){return this._client.getAPIList("/evals",ie,{query:e,...t})}delete(e,t){return this._client.delete(A`/evals/${e}`,t)}}Ou.Runs=$u;let Tg=class extends L{create(e,t){return this._client.post("/files",Cn({body:e,...t},this._client))}retrieve(e,t){return this._client.get(A`/files/${e}`,t)}list(e={},t){return this._client.getAPIList("/files",ie,{query:e,...t})}delete(e,t){return this._client.delete(A`/files/${e}`,t)}content(e,t){return this._client.get(A`/files/${e}/content`,{...t,headers:N([{Accept:"application/binary"},t==null?void 0:t.headers]),__binaryResponse:!0})}async waitForProcessing(e,{pollInterval:t=5e3,maxWait:r=30*60*1e3}={}){const i=new Set(["processed","error","deleted"]),o=Date.now();let s=await this.retrieve(e);for(;!s.status||!i.has(s.status);)if(await pi(t),s=await this.retrieve(e),Date.now()-o>r)throw new Eu({message:`Giving up on waiting for file ${e} to finish processing after ${r} milliseconds.`});return s}};class wg extends L{}let Sg=class extends L{run(e,t){return this._client.post("/fine_tuning/alpha/graders/run",{body:e,...t})}validate(e,t){return this._client.post("/fine_tuning/alpha/graders/validate",{body:e,...t})}};class Bu extends L{constructor(){super(...arguments),this.graders=new Sg(this._client)}}Bu.Graders=Sg;class Eg extends L{create(e,t,r){return this._client.getAPIList(A`/fine_tuning/checkpoints/${e}/permissions`,Cs,{body:t,method:"post",...r})}retrieve(e,t={},r){return this._client.get(A`/fine_tuning/checkpoints/${e}/permissions`,{query:t,...r})}delete(e,t,r){const{fine_tuned_model_checkpoint:i}=t;return this._client.delete(A`/fine_tuning/checkpoints/${i}/permissions/${e}`,r)}}let qu=class extends L{constructor(){super(...arguments),this.permissions=new Eg(this._client)}};qu.Permissions=Eg;class Ig extends L{list(e,t={},r){return this._client.getAPIList(A`/fine_tuning/jobs/${e}/checkpoints`,ie,{query:t,...r})}}class Gu extends L{constructor(){super(...arguments),this.checkpoints=new Ig(this._client)}create(e,t){return this._client.post("/fine_tuning/jobs",{body:e,...t})}retrieve(e,t){return this._client.get(A`/fine_tuning/jobs/${e}`,t)}list(e={},t){return this._client.getAPIList("/fine_tuning/jobs",ie,{query:e,...t})}cancel(e,t){return this._client.post(A`/fine_tuning/jobs/${e}/cancel`,t)}listEvents(e,t={},r){return this._client.getAPIList(A`/fine_tuning/jobs/${e}/events`,ie,{query:t,...r})}pause(e,t){return this._client.post(A`/fine_tuning/jobs/${e}/pause`,t)}resume(e,t){return this._client.post(A`/fine_tuning/jobs/${e}/resume`,t)}}Gu.Checkpoints=Ig;class ar extends L{constructor(){super(...arguments),this.methods=new wg(this._client),this.jobs=new Gu(this._client),this.checkpoints=new qu(this._client),this.alpha=new Bu(this._client)}}ar.Methods=wg;ar.Jobs=Gu;ar.Checkpoints=qu;ar.Alpha=Bu;class Ag extends L{}class zu extends L{constructor(){super(...arguments),this.graderModels=new Ag(this._client)}}zu.GraderModels=Ag;class xg extends L{createVariation(e,t){return this._client.post("/images/variations",Cn({body:e,...t},this._client))}edit(e,t){return this._client.post("/images/edits",Cn({body:e,...t,stream:e.stream??!1},this._client))}generate(e,t){return this._client.post("/images/generations",{body:e,...t,stream:e.stream??!1})}}class Pg extends L{retrieve(e,t){return this._client.get(A`/models/${e}`,t)}list(e){return this._client.getAPIList("/models",Cs,e)}delete(e,t){return this._client.delete(A`/models/${e}`,t)}}class Rg extends L{create(e,t){return this._client.post("/moderations",{body:e,...t})}}class Mg extends L{accept(e,t,r){return this._client.post(A`/realtime/calls/${e}/accept`,{body:t,...r,headers:N([{Accept:"*/*"},r==null?void 0:r.headers])})}hangup(e,t){return this._client.post(A`/realtime/calls/${e}/hangup`,{...t,headers:N([{Accept:"*/*"},t==null?void 0:t.headers])})}refer(e,t,r){return this._client.post(A`/realtime/calls/${e}/refer`,{body:t,...r,headers:N([{Accept:"*/*"},r==null?void 0:r.headers])})}reject(e,t={},r){return this._client.post(A`/realtime/calls/${e}/reject`,{body:t,...r,headers:N([{Accept:"*/*"},r==null?void 0:r.headers])})}}class kg extends L{create(e,t){return this._client.post("/realtime/client_secrets",{body:e,...t})}}class Es extends L{constructor(){super(...arguments),this.clientSecrets=new kg(this._client),this.calls=new Mg(this._client)}}Es.ClientSecrets=kg;Es.Calls=Mg;function sI(n,e){return!e||!aI(e)?{...n,output_parsed:null,output:n.output.map(t=>t.type==="function_call"?{...t,parsed_arguments:null}:t.type==="message"?{...t,content:t.content.map(r=>({...r,parsed:null}))}:t)}:Ng(n,e)}function Ng(n,e){const t=n.output.map(i=>{if(i.type==="function_call")return{...i,parsed_arguments:fI(e,i)};if(i.type==="message"){const o=i.content.map(s=>s.type==="output_text"?{...s,parsed:lI(e,s.text)}:s);return{...i,content:o}}return i}),r=Object.assign({},n,{output:t});return Object.getOwnPropertyDescriptor(n,"output_text")||Ia(r),Object.defineProperty(r,"output_parsed",{enumerable:!0,get(){for(const i of r.output)if(i.type==="message"){for(const o of i.content)if(o.type==="output_text"&&o.parsed!==null)return o.parsed}return null}}),r}function lI(n,e){var t,r,i,o;return((r=(t=n.text)==null?void 0:t.format)==null?void 0:r.type)!=="json_schema"?null:"$parseRaw"in((i=n.text)==null?void 0:i.format)?((o=n.text)==null?void 0:o.format).$parseRaw(e):JSON.parse(e)}function aI(n){var e;return!!Pu((e=n.text)==null?void 0:e.format)}function uI(n){return(n==null?void 0:n.$brand)==="auto-parseable-tool"}function cI(n,e){return n.find(t=>t.type==="function"&&t.name===e)}function fI(n,e){const t=cI(n.tools??[],e.name);return{...e,...e,parsed_arguments:uI(t)?t.$parseRaw(e.arguments):t!=null&&t.strict?JSON.parse(e.arguments):null}}function Ia(n){const e=[];for(const t of n.output)if(t.type==="message")for(const r of t.content)r.type==="output_text"&&e.push(r.text);n.output_text=e.join("")}var An,zi,Nt,Hi,Nd,Dd,Ld,Fd;class Hu extends Mu{constructor(e){super(),An.add(this),zi.set(this,void 0),Nt.set(this,void 0),Hi.set(this,void 0),V(this,zi,e)}static createResponse(e,t,r){const i=new Hu(t);return i._run(()=>i._createOrRetrieveResponse(e,t,{...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"stream"}})),i}async _createOrRetrieveResponse(e,t,r){var u;const i=r==null?void 0:r.signal;i&&(i.aborted&&this.controller.abort(),i.addEventListener("abort",()=>this.controller.abort())),w(this,An,"m",Nd).call(this);let o,s=null;"response_id"in t?(o=await e.responses.retrieve(t.response_id,{stream:!0},{...r,signal:this.controller.signal,stream:!0}),s=t.starting_after??null):o=await e.responses.create({...t,stream:!0},{...r,signal:this.controller.signal}),this._connected();for await(const c of o)w(this,An,"m",Dd).call(this,c,s);if((u=o.controller.signal)!=null&&u.aborted)throw new Xe;return w(this,An,"m",Ld).call(this)}[(zi=new WeakMap,Nt=new WeakMap,Hi=new WeakMap,An=new WeakSet,Nd=function(){this.ended||V(this,Nt,void 0)},Dd=function(t,r){if(this.ended)return;const i=(s,u)=>{(r==null||u.sequence_number>r)&&this._emit(s,u)},o=w(this,An,"m",Fd).call(this,t);switch(i("event",t),t.type){case"response.output_text.delta":{const s=o.output[t.output_index];if(!s)throw new F(`missing output at index ${t.output_index}`);if(s.type==="message"){const u=s.content[t.content_index];if(!u)throw new F(`missing content at index ${t.content_index}`);if(u.type!=="output_text")throw new F(`expected content to be 'output_text', got ${u.type}`);i("response.output_text.delta",{...t,snapshot:u.text})}break}case"response.function_call_arguments.delta":{const s=o.output[t.output_index];if(!s)throw new F(`missing output at index ${t.output_index}`);s.type==="function_call"&&i("response.function_call_arguments.delta",{...t,snapshot:s.arguments});break}default:i(t.type,t);break}},Ld=function(){if(this.ended)throw new F("stream has ended, this shouldn't happen");const t=w(this,Nt,"f");if(!t)throw new F("request ended without sending any events");V(this,Nt,void 0);const r=dI(t,w(this,zi,"f"));return V(this,Hi,r),r},Fd=function(t){var i;let r=w(this,Nt,"f");if(!r){if(t.type!=="response.created")throw new F(`When snapshot hasn't been set yet, expected 'response.created' event, got ${t.type}`);return r=V(this,Nt,t.response),r}switch(t.type){case"response.output_item.added":{r.output.push(t.item);break}case"response.content_part.added":{const o=r.output[t.output_index];if(!o)throw new F(`missing output at index ${t.output_index}`);const s=o.type,u=t.part;s==="message"&&u.type!=="reasoning_text"?o.content.push(u):s==="reasoning"&&u.type==="reasoning_text"&&(o.content||(o.content=[]),o.content.push(u));break}case"response.output_text.delta":{const o=r.output[t.output_index];if(!o)throw new F(`missing output at index ${t.output_index}`);if(o.type==="message"){const s=o.content[t.content_index];if(!s)throw new F(`missing content at index ${t.content_index}`);if(s.type!=="output_text")throw new F(`expected content to be 'output_text', got ${s.type}`);s.text+=t.delta}break}case"response.function_call_arguments.delta":{const o=r.output[t.output_index];if(!o)throw new F(`missing output at index ${t.output_index}`);o.type==="function_call"&&(o.arguments+=t.delta);break}case"response.reasoning_text.delta":{const o=r.output[t.output_index];if(!o)throw new F(`missing output at index ${t.output_index}`);if(o.type==="reasoning"){const s=(i=o.content)==null?void 0:i[t.content_index];if(!s)throw new F(`missing content at index ${t.content_index}`);if(s.type!=="reasoning_text")throw new F(`expected content to be 'reasoning_text', got ${s.type}`);s.text+=t.delta}break}case"response.completed":{V(this,Nt,t.response);break}}return r},Symbol.asyncIterator)](){const e=[],t=[];let r=!1;return this.on("event",i=>{const o=t.shift();o?o.resolve(i):e.push(i)}),this.on("end",()=>{r=!0;for(const i of t)i.resolve(void 0);t.length=0}),this.on("abort",i=>{r=!0;for(const o of t)o.reject(i);t.length=0}),this.on("error",i=>{r=!0;for(const o of t)o.reject(i);t.length=0}),{next:async()=>e.length?{value:e.shift(),done:!1}:r?{value:void 0,done:!0}:new Promise((o,s)=>t.push({resolve:o,reject:s})).then(o=>o?{value:o,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}async finalResponse(){await this.done();const e=w(this,Hi,"f");if(!e)throw new F("stream ended without producing a ChatCompletion");return e}}function dI(n,e){return sI(n,e)}class Dg extends L{list(e,t={},r){return this._client.getAPIList(A`/responses/${e}/input_items`,ie,{query:t,...r})}}class Lg extends L{count(e={},t){return this._client.post("/responses/input_tokens",{body:e,...t})}}class Is extends L{constructor(){super(...arguments),this.inputItems=new Dg(this._client),this.inputTokens=new Lg(this._client)}create(e,t){return this._client.post("/responses",{body:e,...t,stream:e.stream??!1})._thenUnwrap(r=>("object"in r&&r.object==="response"&&Ia(r),r))}retrieve(e,t={},r){return this._client.get(A`/responses/${e}`,{query:t,...r,stream:(t==null?void 0:t.stream)??!1})._thenUnwrap(i=>("object"in i&&i.object==="response"&&Ia(i),i))}delete(e,t){return this._client.delete(A`/responses/${e}`,{...t,headers:N([{Accept:"*/*"},t==null?void 0:t.headers])})}parse(e,t){return this._client.responses.create(e,t)._thenUnwrap(r=>Ng(r,e))}stream(e,t){return Hu.createResponse(this._client,e,t)}cancel(e,t){return this._client.post(A`/responses/${e}/cancel`,t)}}Is.InputItems=Dg;Is.InputTokens=Lg;class Fg extends L{create(e,t,r){return this._client.post(A`/uploads/${e}/parts`,Cn({body:t,...r},this._client))}}class Wu extends L{constructor(){super(...arguments),this.parts=new Fg(this._client)}create(e,t){return this._client.post("/uploads",{body:e,...t})}cancel(e,t){return this._client.post(A`/uploads/${e}/cancel`,t)}complete(e,t,r){return this._client.post(A`/uploads/${e}/complete`,{body:t,...r})}}Wu.Parts=Fg;const pI=async n=>{const e=await Promise.allSettled(n),t=e.filter(i=>i.status==="rejected");if(t.length){for(const i of t)console.error(i.reason);throw new Error(`${t.length} promise(s) failed - see the above errors`)}const r=[];for(const i of e)i.status==="fulfilled"&&r.push(i.value);return r};class Ug extends L{create(e,t,r){return this._client.post(A`/vector_stores/${e}/file_batches`,{body:t,...r,headers:N([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}retrieve(e,t,r){const{vector_store_id:i}=t;return this._client.get(A`/vector_stores/${i}/file_batches/${e}`,{...r,headers:N([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}cancel(e,t,r){const{vector_store_id:i}=t;return this._client.post(A`/vector_stores/${i}/file_batches/${e}/cancel`,{...r,headers:N([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}async createAndPoll(e,t,r){const i=await this.create(e,t);return await this.poll(e,i.id,r)}listFiles(e,t,r){const{vector_store_id:i,...o}=t;return this._client.getAPIList(A`/vector_stores/${i}/file_batches/${e}/files`,ie,{query:o,...r,headers:N([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}async poll(e,t,r){var o;const i=N([r==null?void 0:r.headers,{"X-Stainless-Poll-Helper":"true","X-Stainless-Custom-Poll-Interval":((o=r==null?void 0:r.pollIntervalMs)==null?void 0:o.toString())??void 0}]);for(;;){const{data:s,response:u}=await this.retrieve(t,{vector_store_id:e},{...r,headers:i}).withResponse();switch(s.status){case"in_progress":let c=5e3;if(r!=null&&r.pollIntervalMs)c=r.pollIntervalMs;else{const f=u.headers.get("openai-poll-after-ms");if(f){const d=parseInt(f);isNaN(d)||(c=d)}}await pi(c);break;case"failed":case"cancelled":case"completed":return s}}}async uploadAndPoll(e,{files:t,fileIds:r=[]},i){if(t==null||t.length==0)throw new Error("No `files` provided to process. If you've already uploaded files you should use `.createAndPoll()` instead");const o=(i==null?void 0:i.maxConcurrency)??5,s=Math.min(o,t.length),u=this._client,c=t.values(),f=[...r];async function d(h){for(let g of h){const v=await u.files.create({file:g,purpose:"assistants"},i);f.push(v.id)}}const p=Array(s).fill(c).map(d);return await pI(p),await this.createAndPoll(e,{file_ids:f})}}class Vg extends L{create(e,t,r){return this._client.post(A`/vector_stores/${e}/files`,{body:t,...r,headers:N([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}retrieve(e,t,r){const{vector_store_id:i}=t;return this._client.get(A`/vector_stores/${i}/files/${e}`,{...r,headers:N([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}update(e,t,r){const{vector_store_id:i,...o}=t;return this._client.post(A`/vector_stores/${i}/files/${e}`,{body:o,...r,headers:N([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}list(e,t={},r){return this._client.getAPIList(A`/vector_stores/${e}/files`,ie,{query:t,...r,headers:N([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}delete(e,t,r){const{vector_store_id:i}=t;return this._client.delete(A`/vector_stores/${i}/files/${e}`,{...r,headers:N([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}async createAndPoll(e,t,r){const i=await this.create(e,t,r);return await this.poll(e,i.id,r)}async poll(e,t,r){var o;const i=N([r==null?void 0:r.headers,{"X-Stainless-Poll-Helper":"true","X-Stainless-Custom-Poll-Interval":((o=r==null?void 0:r.pollIntervalMs)==null?void 0:o.toString())??void 0}]);for(;;){const s=await this.retrieve(t,{vector_store_id:e},{...r,headers:i}).withResponse(),u=s.data;switch(u.status){case"in_progress":let c=5e3;if(r!=null&&r.pollIntervalMs)c=r.pollIntervalMs;else{const f=s.response.headers.get("openai-poll-after-ms");if(f){const d=parseInt(f);isNaN(d)||(c=d)}}await pi(c);break;case"failed":case"completed":return u}}}async upload(e,t,r){const i=await this._client.files.create({file:t,purpose:"assistants"},r);return this.create(e,{file_id:i.id},r)}async uploadAndPoll(e,t,r){const i=await this.upload(e,t,r);return await this.poll(e,i.id,r)}content(e,t,r){const{vector_store_id:i}=t;return this._client.getAPIList(A`/vector_stores/${i}/files/${e}/content`,Cs,{...r,headers:N([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}}class As extends L{constructor(){super(...arguments),this.files=new Vg(this._client),this.fileBatches=new Ug(this._client)}create(e,t){return this._client.post("/vector_stores",{body:e,...t,headers:N([{"OpenAI-Beta":"assistants=v2"},t==null?void 0:t.headers])})}retrieve(e,t){return this._client.get(A`/vector_stores/${e}`,{...t,headers:N([{"OpenAI-Beta":"assistants=v2"},t==null?void 0:t.headers])})}update(e,t,r){return this._client.post(A`/vector_stores/${e}`,{body:t,...r,headers:N([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}list(e={},t){return this._client.getAPIList("/vector_stores",ie,{query:e,...t,headers:N([{"OpenAI-Beta":"assistants=v2"},t==null?void 0:t.headers])})}delete(e,t){return this._client.delete(A`/vector_stores/${e}`,{...t,headers:N([{"OpenAI-Beta":"assistants=v2"},t==null?void 0:t.headers])})}search(e,t,r){return this._client.getAPIList(A`/vector_stores/${e}/search`,Cs,{body:t,method:"post",...r,headers:N([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}}As.Files=Vg;As.FileBatches=Ug;class $g extends L{create(e,t){return this._client.post("/videos",Cd({body:e,...t},this._client))}retrieve(e,t){return this._client.get(A`/videos/${e}`,t)}list(e={},t){return this._client.getAPIList("/videos",zo,{query:e,...t})}delete(e,t){return this._client.delete(A`/videos/${e}`,t)}downloadContent(e,t={},r){return this._client.get(A`/videos/${e}/content`,{query:t,...r,headers:N([{Accept:"application/binary"},r==null?void 0:r.headers]),__binaryResponse:!0})}remix(e,t,r){return this._client.post(A`/videos/${e}/remix`,Cd({body:t,...r},this._client))}}var Rn,Og,po;class Bg extends L{constructor(){super(...arguments),Rn.add(this)}async unwrap(e,t,r=this._client.webhookSecret,i=300){return await this.verifySignature(e,t,r,i),JSON.parse(e)}async verifySignature(e,t,r=this._client.webhookSecret,i=300){if(typeof crypto>"u"||typeof crypto.subtle.importKey!="function"||typeof crypto.subtle.verify!="function")throw new Error("Webhook signature verification is only supported when the `crypto` global is defined");w(this,Rn,"m",Og).call(this,r);const o=N([t]).values,s=w(this,Rn,"m",po).call(this,o,"webhook-signature"),u=w(this,Rn,"m",po).call(this,o,"webhook-timestamp"),c=w(this,Rn,"m",po).call(this,o,"webhook-id"),f=parseInt(u,10);if(isNaN(f))throw new wr("Invalid webhook timestamp format");const d=Math.floor(Date.now()/1e3);if(d-f>i)throw new wr("Webhook timestamp is too old");if(f>d+i)throw new wr("Webhook timestamp is too new");const p=s.split(" ").map(C=>C.startsWith("v1,")?C.substring(3):C),h=r.startsWith("whsec_")?Buffer.from(r.replace("whsec_",""),"base64"):Buffer.from(r,"utf-8"),g=c?`${c}.${u}.${e}`:`${u}.${e}`,v=await crypto.subtle.importKey("raw",h,{name:"HMAC",hash:"SHA-256"},!1,["verify"]);for(const C of p)try{const S=Buffer.from(C,"base64");if(await crypto.subtle.verify("HMAC",v,S,new TextEncoder().encode(g)))return}catch{continue}throw new wr("The given webhook signature does not match the expected signature")}}Rn=new WeakSet,Og=function(e){if(typeof e!="string"||e.length===0)throw new Error("The webhook secret must either be set using the env var, OPENAI_WEBHOOK_SECRET, on the client class, OpenAI({ webhookSecret: '123' }), or passed to this function")},po=function(e,t){if(!e)throw new Error("Headers are required");const r=e.get(t);if(r==null)throw new Error(`Missing required header: ${t}`);return r};var Aa,Ju,ho,qg;class q{constructor({baseURL:e=In("OPENAI_BASE_URL"),apiKey:t=In("OPENAI_API_KEY"),organization:r=In("OPENAI_ORG_ID")??null,project:i=In("OPENAI_PROJECT_ID")??null,webhookSecret:o=In("OPENAI_WEBHOOK_SECRET")??null,...s}={}){if(Aa.add(this),ho.set(this,void 0),this.completions=new gg(this),this.chat=new Du(this),this.embeddings=new _g(this),this.files=new Tg(this),this.images=new xg(this),this.audio=new mi(this),this.moderations=new Rg(this),this.models=new Pg(this),this.fineTuning=new ar(this),this.graders=new zu(this),this.vectorStores=new As(this),this.webhooks=new Bg(this),this.beta=new lr(this),this.batches=new ag(this),this.uploads=new Wu(this),this.responses=new Is(this),this.realtime=new Es(this),this.conversations=new Vu(this),this.evals=new Ou(this),this.containers=new Uu(this),this.videos=new $g(this),t===void 0)throw new F("Missing credentials. Please pass an `apiKey`, or set the `OPENAI_API_KEY` environment variable.");const u={apiKey:t,organization:r,project:i,webhookSecret:o,...s,baseURL:e||"https://api.openai.com/v1"};if(!u.dangerouslyAllowBrowser&&mE())throw new F(`It looks like you're running in a browser-like environment.

This is disabled by default, as it risks exposing your secret API credentials to attackers.
If you understand the risks and have appropriate mitigations in place,
you can set the \`dangerouslyAllowBrowser\` option to \`true\`, e.g.,

new OpenAI({ apiKey, dangerouslyAllowBrowser: true });

https://help.openai.com/en/articles/5112595-best-practices-for-api-key-safety
`);this.baseURL=u.baseURL,this.timeout=u.timeout??Ju.DEFAULT_TIMEOUT,this.logger=u.logger??console;const c="warn";this.logLevel=c,this.logLevel=vd(u.logLevel,"ClientOptions.logLevel",this)??vd(In("OPENAI_LOG"),"process.env['OPENAI_LOG']",this)??c,this.fetchOptions=u.fetchOptions,this.maxRetries=u.maxRetries??2,this.fetch=u.fetch??CE(),V(this,ho,wE),this._options=u,this.apiKey=typeof t=="string"?t:"Missing Key",this.organization=r,this.project=i,this.webhookSecret=o}withOptions(e){return new this.constructor({...this._options,baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,organization:this.organization,project:this.project,webhookSecret:this.webhookSecret,...e})}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:e,nulls:t}){}async authHeaders(e){return N([{Authorization:`Bearer ${this.apiKey}`}])}stringifyQuery(e){return PE(e,{arrayFormat:"brackets"})}getUserAgent(){return`${this.constructor.name}/JS ${xn}`}defaultIdempotencyKey(){return`stainless-node-retry-${cm()}`}makeStatusError(e,t,r,i){return ve.generate(e,t,r,i)}async _callApiKey(){const e=this._options.apiKey;if(typeof e!="function")return!1;let t;try{t=await e()}catch(r){throw r instanceof F?r:new F(`Failed to get token from 'apiKey' function: ${r.message}`,{cause:r})}if(typeof t!="string"||!t)throw new F(`Expected 'apiKey' function argument to return a string but it returned ${t}`);return this.apiKey=t,!0}buildURL(e,t,r){const i=!w(this,Aa,"m",qg).call(this)&&r||this.baseURL,o=cE(e)?new URL(e):new URL(i+(i.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),s=this.defaultQuery();return fE(s)||(t={...s,...t}),typeof t=="object"&&t&&!Array.isArray(t)&&(o.search=this.stringifyQuery(t)),o.toString()}async prepareOptions(e){await this._callApiKey()}async prepareRequest(e,{url:t,options:r}){}get(e,t){return this.methodRequest("get",e,t)}post(e,t){return this.methodRequest("post",e,t)}patch(e,t){return this.methodRequest("patch",e,t)}put(e,t){return this.methodRequest("put",e,t)}delete(e,t){return this.methodRequest("delete",e,t)}methodRequest(e,t,r){return this.request(Promise.resolve(r).then(i=>({method:e,path:t,...i})))}request(e,t=null){return new _s(this,this.makeRequest(e,t,void 0))}async makeRequest(e,t,r){var _,m;const i=await e,o=i.maxRetries??this.maxRetries;t==null&&(t=o),await this.prepareOptions(i);const{req:s,url:u,timeout:c}=await this.buildRequest(i,{retryCount:o-t});await this.prepareRequest(s,{url:u,options:i});const f="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),d=r===void 0?"":`, retryOf: ${r}`,p=Date.now();if(he(this).debug(`[${f}] sending request`,sn({retryOfRequestLogID:r,method:i.method,url:u,options:i,headers:s.headers})),(_=i.signal)!=null&&_.aborted)throw new Xe;const h=new AbortController,g=await this.fetchWithTimeout(u,s,c,h).catch(ha),v=Date.now();if(g instanceof globalThis.Error){const y=`retrying, ${t} attempts remaining`;if((m=i.signal)!=null&&m.aborted)throw new Xe;const T=pa(g)||/timed? ?out/i.test(String(g)+("cause"in g?String(g.cause):""));if(t)return he(this).info(`[${f}] connection ${T?"timed out":"failed"} - ${y}`),he(this).debug(`[${f}] connection ${T?"timed out":"failed"} (${y})`,sn({retryOfRequestLogID:r,url:u,durationMs:v-p,message:g.message})),this.retryRequest(i,t,r??f);throw he(this).info(`[${f}] connection ${T?"timed out":"failed"} - error; no more retries left`),he(this).debug(`[${f}] connection ${T?"timed out":"failed"} (error; no more retries left)`,sn({retryOfRequestLogID:r,url:u,durationMs:v-p,message:g.message})),T?new Eu:new ys({cause:g})}const C=[...g.headers.entries()].filter(([y])=>y==="x-request-id").map(([y,T])=>", "+y+": "+JSON.stringify(T)).join(""),S=`[${f}${d}${C}] ${s.method} ${u} ${g.ok?"succeeded":"failed"} with status ${g.status} in ${v-p}ms`;if(!g.ok){const y=await this.shouldRetry(g);if(t&&y){const U=`retrying, ${t} attempts remaining`;return await TE(g.body),he(this).info(`${S} - ${U}`),he(this).debug(`[${f}] response error (${U})`,sn({retryOfRequestLogID:r,url:g.url,status:g.status,headers:g.headers,durationMs:v-p})),this.retryRequest(i,t,r??f,g.headers)}const T=y?"error; no more retries left":"error; not retryable";he(this).info(`${S} - ${T}`);const E=await g.text().catch(U=>ha(U).message),P=hE(E),I=P?void 0:E;throw he(this).debug(`[${f}] response error (${T})`,sn({retryOfRequestLogID:r,url:g.url,status:g.status,headers:g.headers,message:I,durationMs:Date.now()-p})),this.makeStatusError(g.status,P,I,g.headers)}return he(this).info(S),he(this).debug(`[${f}] response start`,sn({retryOfRequestLogID:r,url:g.url,status:g.status,headers:g.headers,durationMs:v-p})),{response:g,options:i,controller:h,requestLogID:f,retryOfRequestLogID:r,startTime:p}}getAPIList(e,t,r){return this.requestAPIList(t,{method:"get",path:e,...r})}requestAPIList(e,t){const r=this.makeRequest(t,null,void 0);return new VE(this,r,e)}async fetchWithTimeout(e,t,r,i){const{signal:o,method:s,...u}=t||{};o&&o.addEventListener("abort",()=>i.abort());const c=setTimeout(()=>i.abort(),r),f=globalThis.ReadableStream&&u.body instanceof globalThis.ReadableStream||typeof u.body=="object"&&u.body!==null&&Symbol.asyncIterator in u.body,d={signal:i.signal,...f?{duplex:"half"}:{},method:"GET",...u};s&&(d.method=s.toUpperCase());try{return await this.fetch.call(void 0,e,d)}finally{clearTimeout(c)}}async shouldRetry(e){const t=e.headers.get("x-should-retry");return t==="true"?!0:t==="false"?!1:e.status===408||e.status===409||e.status===429||e.status>=500}async retryRequest(e,t,r,i){let o;const s=i==null?void 0:i.get("retry-after-ms");if(s){const c=parseFloat(s);Number.isNaN(c)||(o=c)}const u=i==null?void 0:i.get("retry-after");if(u&&!o){const c=parseFloat(u);Number.isNaN(c)?o=Date.parse(u)-Date.now():o=c*1e3}if(!(o&&0<=o&&o<60*1e3)){const c=e.maxRetries??this.maxRetries;o=this.calculateDefaultRetryTimeoutMillis(t,c)}return await pi(o),this.makeRequest(e,t-1,r)}calculateDefaultRetryTimeoutMillis(e,t){const o=t-e,s=Math.min(.5*Math.pow(2,o),8),u=1-Math.random()*.25;return s*u*1e3}async buildRequest(e,{retryCount:t=0}={}){const r={...e},{method:i,path:o,query:s,defaultBaseURL:u}=r,c=this.buildURL(o,s,u);"timeout"in r&&pE("timeout",r.timeout),r.timeout=r.timeout??this.timeout;const{bodyHeaders:f,body:d}=this.buildBody({options:r}),p=await this.buildHeaders({options:e,method:i,bodyHeaders:f,retryCount:t});return{req:{method:i,headers:p,...r.signal&&{signal:r.signal},...globalThis.ReadableStream&&d instanceof globalThis.ReadableStream&&{duplex:"half"},...d&&{body:d},...this.fetchOptions??{},...r.fetchOptions??{}},url:c,timeout:r.timeout}}async buildHeaders({options:e,method:t,bodyHeaders:r,retryCount:i}){let o={};this.idempotencyHeader&&t!=="get"&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),o[this.idempotencyHeader]=e.idempotencyKey);const s=N([o,{Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(i),...e.timeout?{"X-Stainless-Timeout":String(Math.trunc(e.timeout/1e3))}:{},..._E(),"OpenAI-Organization":this.organization,"OpenAI-Project":this.project},await this.authHeaders(e),this._options.defaultHeaders,r,e.headers]);return this.validateHeaders(s),s.values}buildBody({options:{body:e,headers:t}}){if(!e)return{bodyHeaders:void 0,body:void 0};const r=N([t]);return ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof DataView||typeof e=="string"&&r.values.has("content-type")||globalThis.Blob&&e instanceof globalThis.Blob||e instanceof FormData||e instanceof URLSearchParams||globalThis.ReadableStream&&e instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:e}:typeof e=="object"&&(Symbol.asyncIterator in e||Symbol.iterator in e&&"next"in e&&typeof e.next=="function")?{bodyHeaders:void 0,body:Sm(e)}:w(this,ho,"f").call(this,{body:e,headers:r})}}Ju=q,ho=new WeakMap,Aa=new WeakSet,qg=function(){return this.baseURL!=="https://api.openai.com/v1"};q.OpenAI=Ju;q.DEFAULT_TIMEOUT=6e5;q.OpenAIError=F;q.APIError=ve;q.APIConnectionError=ys;q.APIConnectionTimeoutError=Eu;q.APIUserAbortError=Xe;q.NotFoundError=hm;q.ConflictError=mm;q.RateLimitError=ym;q.BadRequestError=fm;q.AuthenticationError=dm;q.InternalServerError=vm;q.PermissionDeniedError=pm;q.UnprocessableEntityError=gm;q.InvalidWebhookSignatureError=wr;q.toFile=GE;q.Completions=gg;q.Chat=Du;q.Embeddings=_g;q.Files=Tg;q.Images=xg;q.Audio=mi;q.Moderations=Rg;q.Models=Pg;q.FineTuning=ar;q.Graders=zu;q.VectorStores=As;q.Webhooks=Bg;q.Beta=lr;q.Batches=ag;q.Uploads=Wu;q.Responses=Is;q.Realtime=Es;q.Conversations=Vu;q.Evals=Ou;q.Containers=Uu;q.Videos=$g;const hI={outputFormat:"csv",dateFormat:"dd.mm.yyyy",delimiter:";",rowDelimiter:`\r
`,includeHeaders:!1,encoding:"windows-1251",minimumColumns:44,note:"   44 .     ,      (;)."},mI=[{columnNumber:1,name:". ",nameEN:"Document_Type",required:!0,dataType:"number",description:"     ",allowedValues:{1:" ",2:"  ",3:"  ",4:" ",5:"  ",6:"  ",7:" ",8:"",9:" ()",10:" ()",11:" ",12:"  ()",13:"  ()",14:"    ()  . ",15:"    ()  . "}},{columnNumber:2,name:"",nameEN:"Date",required:!0,dataType:"date",format:"dd.mm.yyyy",description:"  "},{columnNumber:3,name:"",nameEN:"Number",required:!0,dataType:"number",description:"  "},{columnNumber:4,name:"",nameEN:"Partner",required:!1,dataType:"string",description:`   ().      " ' / \\ &`,restrictions:`     " ' / \\ &`},{columnNumber:5,name:"",nameEN:"EIK",required:!1,dataType:"string",description:"/  .   ,        ."},{columnNumber:6,name:"  ",nameEN:"VAT_Number",required:!1,dataType:"string",description:"   "},{columnNumber:7,name:"",nameEN:"Warehouse",required:!1,dataType:"string",description:"  .       ,   |",restrictions:`     " ' / \\ &.     2    |.`},{columnNumber:8,name:"",nameEN:"Type",required:!0,dataType:"enum",description:"   ",allowedValues:["","","","","  ","",""]},{columnNumber:9,name:"",nameEN:"Group",required:!1,dataType:"string",description:"  ///.   , ,          ."},{columnNumber:10,name:" ",nameEN:"Subgroup",required:!1,dataType:"string",description:`   ///.      " ' / \\ &`,restrictions:`     " ' / \\ &`},{columnNumber:11,name:"",nameEN:"Item_Name",required:!0,dataType:"string",description:"  ///",restrictions:`     " ' / \\ &`},{columnNumber:12,name:"/",nameEN:"Code_Barcode",required:!1,dataType:"string",description:"/  ///"},{columnNumber:13,name:"",nameEN:"Unit",required:!1,dataType:"string",description:" "},{columnNumber:14,name:"",nameEN:"Quantity",required:!1,dataType:"number",description:""},{columnNumber:15,name:". ",nameEN:"Unit_Price_No_VAT",required:!1,dataType:"number",description:".   "},{columnNumber:16,name:"",nameEN:"Line_Value",required:!1,dataType:"number",description:"     "},{columnNumber:17,name:" ",nameEN:"VAT_Type",required:!0,dataType:"enum",description:"    ",allowedValuesDescription:"       (, 20, 9, 0, ,   .)"},{columnNumber:18,name:" ",nameEN:"Payment_Type",required:!0,dataType:"enum",description:"   ",allowedValues:{1:" ",2:" ",4:" ",9:" "}},{columnNumber:19,name:"    ()",nameEN:"Total_With_VAT_Document",required:!0,dataType:"number",description:"     "},{columnNumber:20,name:" ()",nameEN:"VAT_Document",required:!0,dataType:"number",description:"     "},{columnNumber:21,name:"",nameEN:"Paid_Amount",required:!1,dataType:"number",description:"     "},{columnNumber:22,name:"  ",nameEN:"Issue_Price",required:!1,dataType:"number/string",description:"  "},{columnNumber:23,name:"",nameEN:"Currency",required:!1,dataType:"string",description:"   (ISO   . EUR, USD, GBP)"},{columnNumber:24,name:"",nameEN:"Exchange_Rate",required:!1,dataType:"number",description:"    "},{columnNumber:25,name:"",nameEN:"Comment",required:!1,dataType:"string",description:"  ",restrictions:`     " ' / \\ &`},{columnNumber:26,name:".   20%",nameEN:"VAT_Base_20",required:!1,dataType:"number",description:"    20% "},{columnNumber:27,name:".   9%",nameEN:"VAT_Base_9",required:!1,dataType:"number",description:"    9% "},{columnNumber:28,name:"        ",nameEN:"VAT_Reason",required:!1,dataType:"string",description:"       (.  ,   .)"},{columnNumber:29,name:" ",nameEN:"Additional_Comment",required:!1,dataType:"string",description:"   "},{columnNumber:30,name:" ",nameEN:"Month_VAT",required:!1,dataType:"string",format:"yyyymm",description:"  ,      (      )"},{columnNumber:31,name:"   ",nameEN:"Accounting_Date",required:!1,dataType:"date",format:"dd.mm.yyyy",description:"    (      )"},{columnNumber:32,name:"",nameEN:"Due_Date",required:!1,dataType:"date",format:"dd.mm.yyyy",description:"  "},{columnNumber:33,name:"  20%",nameEN:"Partial_Credit_20",required:!1,dataType:"number",description:"        20% "},{columnNumber:34,name:"  9%",nameEN:"Partial_Credit_9",required:!1,dataType:"number",description:"        9% "},{columnNumber:35,name:" ",nameEN:"No_Credit_Amount",required:!1,dataType:"number",description:"     "},{columnNumber:36,name:"  . 70",nameEN:"Analytic_70",required:!1,dataType:"string",description:"    70 (  )"},{columnNumber:37,name:"   501",nameEN:"Analytic_501",required:!1,dataType:"string",description:"    501 (  )"},{columnNumber:38,name:"  ",nameEN:"Paid_Cash",required:!1,dataType:"number",description:"   "},{columnNumber:39,name:"  ",nameEN:"Paid_Card",required:!1,dataType:"number",description:"   "},{columnNumber:40,name:"  ",nameEN:"Paid_Voucher",required:!1,dataType:"number",description:"   "},{columnNumber:41,name:".   0%  . 3",nameEN:"VAT_Base_0_Group3",required:!1,dataType:"number",description:"   0%   3"},{columnNumber:42,name:"  ",nameEN:"Bread_Delivery",required:!1,dataType:"string",description:"     ( ,   )"},{columnNumber:43,name:"  ",nameEN:"Flour_Delivery",required:!1,dataType:"string",description:"     ( ,   )"},{columnNumber:44,name:"     ",nameEN:"PlusMinus_Document_Type",required:!1,dataType:"string",description:"        "}],gI={sale:{description:"/  -     (_)  /",code:1,label:" "},purchase:{description:"/  -     (_)  /",code:4,label:" "}},yI=["    ( )  ,     .   _.","           / ()    / ()."," _     /      (  /  ).     .  = 1."," _     /      (  /  ).     .  = 4.","     ,       ,       (2, 3, 5  6),           ."," _      ,     CSV    ( )."," 4    5      (   ),      _.","    dd.mm.yyyy      2 .","    (,   ..)      3 .","         4 ."," /            5    6   ,   .","     8    : , , , ,   , ,      .","  / : , /, , ,               1116.","           17   (. , 20, 9, 0, ,   .).","  18     1 ( ), 2 ( ), 4 ( )  9 (),    .","  19     ()  20  ()         ,   .","  21   ,         ;      .","     23   ISO  (. EUR, USD)   24     ;       ()    ,   .","  2627     20%  9% ,    ;       ."," 2829 (       )         (.  ,    .)."," 30           ,        ;       ."," 3132 (   , )  ,     ;   ."," 3341         ;     .","   CSV    (    ).        ,       .","CSV            .","    (;)      CRLF (\\r\\n)    .","   44    (44 ).      ,      ( ;;).",`   " ' / \\ &   .`,"        (., , $  ..).","     dd.mm.yyyy ( 01.03.2025)."],vI={". ":",      1  15",:",     dd.mm.yyyy",:", ",:",   : , , , ,   , , ",:`,    " ' / \\ &`," ":",     "," ":",  1, 2, 4  9","    ()":",  "," ()":",  (0   )",EIK_Match:"  ,  _     (   )."},_I={description:"  CSV   2  (2 ,   ).",csvRow1:"1;28.11.2024;12345; ;123456789;BG123456789; 1;;;;  ;PROD001;;2;100.00;200.00;20;2;240.00;40.00;240.00;;;;;;200.00;;;;;;202411;28.11.2024;15.12.2024;;;;;;;;;",csvRow2:"4;29.11.2024;54321; ;987654321;BG987654321; 2;;;;  ;ITEM001;;5;50.00;250.00;20;2;300.00;50.00;0.00;;;;;;250.00;;;;;;202411;29.11.2024;29.12.2024;;;;;;;;;"},CI=["       ( )."," CSV        (;)    .","    CRLF (\\r\\n)."," CSV            ."," 44       ;      ,   .","     (,    ,   .).","      ( 19, 20, 26, 27  .)    ,        .","     (   ).","      Windows-1251   ."],VI={extractionSettings:hI,columns:mI,documentTypes:gI,extractionInstructions:yI,validationRules:vI,outputExample:_I,notes:CI};export{AI as G,q as O,TI as R,Qu as c,VI as i,wI as j,ka as r};
